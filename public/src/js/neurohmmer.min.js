$(document).ready(function(){"use strict";addSeqValidation(),inputValidation(),$(".button-collapse").sideNav(),$(".modal-trigger").leanModal(),$(document).bind("keydown",function(e){e.ctrlKey&&13===e.keyCode&&$("#input").trigger("submit")})});var addSeqValidation=function(){"use strict";jQuery.validator.addMethod("checkInputType",function(e,n){var t=[],r="";if(">"===e.charAt(0)){for(var a=e.split(">"),i=1;i<a.length;i++){var o=a[i].split("\n");if(0!==o.length){var s=jQuery.grep(o,function(e){return e});if(0!==s.length){s.shift();var l=s.join("");if(r=checkType(l,.9),t.push(r),"protein"!==r&&"dna"!==r&&"rna"!==r)return!1}}}for(var c=t[0],G=0;G<t.length;G++)if(t[G]!==c)return!1;return!0}return r=checkType(e,.9),"protein"!==r&&"dna"!==r&&"rna"!==r?!1:!0},"* The Input must be either DNA or protein sequence(s). Please ensure that your sequences do not contains any non-letter character(s). If there are multiple sequences, ensure that they are all of one type. ")},inputValidation=function(){"use strict";var e=$("#seq").attr("data-maxCharacters");$("#input").validate({rules:{seq:{minlength:5,required:!0,checkInputType:!0,maxlength:e}},highlight:function(e){$(e).addClass("invalid")},unhighlight:function(e){$(e).removeClass("invalid")},errorElement:"span",errorClass:"help-block",errorPlacement:function(e,n){if("validations_group"===n.parent().parent().attr("id")){var t=document.getElementById("lastValidation");e.insertAfter(t)}else n.parent(".input-group").length?e.insertAfter(n.parent()):e.insertAfter(n)},submitHandler:function(e){$("#spinnermodel").openModal(),ajaxFunction()}})},ajaxFunction=function(){"use strict";$.ajax({type:"POST",url:$("#input").attr("action"),data:$("#input").serialize(),success:function(e){$("#results_box").show(),$("#output").html(e),$("#mainbody").css({"background-color":"#fff"}),$("#search").css({"background-color":"#F5F5F5"}),$("#results").css({"border-top":"3px solid #DBDBDB"}),$("#search").css({"margin-bottom":"0"}),$(".np_collapsible").collapsible(),$(".np_inner_collapsible").collapsible(),$("#spinnermodel").closeModal()},error:function(e,n){var t;500==e.status||400==e.status?(t=e.responseText,$("#results_box").show(),$("#output").html(t),$("#spinnermodel").closeModal()):(t=e.responseText,$("#results_box").show(),$("#output").html("There seems to be an unidentified Error."),$("#spinnermodel").closeModal())}})},changeAdvParamsBtnText=function(){"use strict";var e=document.getElementById("adv_params_btn");"&nbsp;&nbsp;Show Advanced Parameters"===e.innerHTML?e.innerHTML="&nbsp;&nbsp;Hide Advanced Parameters":e.innerHTML="&nbsp;&nbsp;Show Advanced Parameters"},examplarSequences=function(){"use strict";var e=">gi|752421898|ref|XP_011230170.1| PREDICTED: glucagon [Ailuropoda melanoleuca]\nMKSIYFVAGLFVMLVQGSWQRSLQDTEEKSRSLPAPQTDPLNDPDQMNEDKRHSQGTFTSDYSKYLDSRRAQDFVQWLMSTKRNKNNIAKRHDEFERHAEGTFTSDVSSYLEGQAAKEFIAWLVKGRGRRDFPEEVAIVEELRRRHADGSFSDEMNTVLDDLATRDFINWLLQTKITER\n>gi|328711854|ref|XP_003244660.1| PREDICTED: uncharacterized protein LOC100571180 [Acyrthosiphon pisum]\nMVKIGLPWLLLVLMKLTNREIKSDEIISIQEVYDICQAEPNTDICDLLEKSSSLVDLNKLDSPEKRRQKTVFSSWGGKRQSTYPYGGKRPAFSSWGGKRASDKHGRPKQTFSSWGGKRSDYDGYDNGEMDEHQMDKRELNGIKQDKNNYRNKMTKGIHALFTIFSDWSRDPEEKKGIRYAGIKSMRRSSDFFPWGGKRFTGDAK\n>gi|301771746|ref|XP_002921293.1| PREDICTED: thyrotropin releasing hormone [Ailuropoda melanoleuca]\nMPGPWLQLAMALTLTVAGIPGGRAQPEVAQQEAAMAPERAGLDDLLRQAQRLLFLREDLQRLRGNQGDLESEAQILQPDWLSKRQHPGKREGEAEEGVEEEEEEGGAVGPHKRQHPGRQEDVAAWSDVTLQKRQHPGRRAPLLGYAFTKRQHPGRRLVDSKAQRSWEAEEEDGEEEGGEPMPEKRQHPGKRALGSPCGPGAACGQASLLLGLLDDLSRGQGAEEKRQHPGRRAAWAREPLEE\n>gi|328710353|ref|XP_003244236.1| PREDICTED: uncharacterized protein LOC100573178 [Acyrthosiphon pisum]\nMTMSVTITILCILGSTFLLIMPDNTTASDKFFQTGGRFGKRHDEHIPDIRYAAMVKTRSVDNVPPRIERGFYISRYGKRSTNSITDPYYFTLCLPSYGIYCDFTGLPNLLRCKRIQPGACSNLNYVNEKTQMKPDNDIII\n>gi|641659926|ref|XP_008181304.1| PREDICTED: uncharacterized protein LOC100570556 isoform X2 [Acyrthosiphon pisum]\nMHKFFVQIYIFVLIIWAVEKSDCKQGACLNYGHSCWGAHGKRNVPNDLDSLIRYRMAVFKKSGHRDSFINPNADQSQEDIPNYYNIFKHYSKINSVKTNNDDTVDTWSLEPSNNLPSGGSYYEDQVLDPRIEYKIMKI\n>gi|328717573|ref|XP_003246245.1| PREDICTED: uncharacterized protein LOC100568735 [Acyrthosiphon pisum]\nMPHKINVGLVALAALAAAVLADPSVDRRASMGFMGMRGKKDRDQGGGGSGGDETSAAVDLDKRTMVFRRPMFDGGSRPAVFGGGSAEGFKRASMGFMGMRGKKDYYSNNKGSAAGFFGMRGKKVPSADAFYGVRGKKWPDHEDAVDADVQLSPIYILYRIIDELKSELSDRERNLVAAKFDEEREMR";$("#seq").focus(),$("#seq_label").addClass("active"),$("#seq").val(e),$("#seq").trigger("autoresize")},checkType=function(e,n,t,r){"use strict";void 0===n&&(n=.9),void 0===t&&(t=1e4),void 0===r&&(r=1);var a=e.slice(r-1,t),i=a.replace(/N/gi,""),o=i.length,s=(i.match(/[ACG]/gi)||[]).length/o,l=(i.match(/[T]/gi)||[]).length/o,c=(i.match(/[U]/gi)||[]).length/o,G=a.replace(/X/gi,""),D=G.length,u=(a.match(/[ARNDCQEGHILKMFPSTWYV\*]/gi)||[]).length/D;return s+l>=n||s+c>=n?l>=c?"dna":c>=l?"rna":"dna":u>=n?"protein":void 0};