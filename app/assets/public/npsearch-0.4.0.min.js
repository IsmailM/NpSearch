function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){"use strict";function g(t,e){var n=(e=e||et).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function u(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return pt.isFunction(n)?pt.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?pt.grep(t,function(t){return t===n!==i}):"string"!=typeof n?pt.grep(t,function(t){return-1<st.call(n,t)!==i}):qt.test(n)?pt.filter(n,t,i):(n=pt.filter(n,t),pt.grep(t,function(t){return-1<st.call(n,t)!==i&&1===t.nodeType}))}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return pt.each(t.match(Lt)||[],function(t,e){n[e]=!0}),n}function h(t){return t}function d(t){throw t}function l(t,e,n,i){var r;try{t&&pt.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&pt.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function i(){et.removeEventListener("DOMContentLoaded",i),S.removeEventListener("load",i),pt.ready()}function r(){this.expando=pt.expando+r.uid++}function o(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ot.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=o(n)}catch(nt){}Pt.set(t,e,n)}else n=void 0;return n}function Ct(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},l=a(),u=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==u&&+l)&&Bt.exec(pt.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=o=o||".5",pt.style(t,e,c+u),o!==(o=a()/l)&&1!==o&&--s;);return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function p(t){var e,n=t.ownerDocument,i=t.nodeName,r=Vt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Vt[i]=r)}function v(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Mt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&zt(i)&&(r[o]=p(i))):"none"!==n&&(r[o]="none",Mt.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function m(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&u(t,e)?pt.merge([t],n):n}function y(t,e){for(var n=0,i=t.length;n<i;n++)Mt.set(t[n],"globalEval",!e||Mt.get(e[n],"globalEval"))}function _(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===pt.type(o))pt.merge(d,o.nodeType?[o]:o);else if(Xt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Ut.exec(o)||["",""])[1].toLowerCase(),l=Gt[a]||Gt._default,s.innerHTML=l[1]+pt.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;pt.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&-1<pt.inArray(o,i))r&&r.push(o);else if(u=pt.contains(o.ownerDocument,o),s=m(h.appendChild(o),"script"),u&&y(s),n)for(c=0;o=s[c++];)Kt.test(o.type||"")&&n.push(o);return h}function s(){return!0}function b(){return!1}function w(){try{return et.activeElement}catch(S){}}function x(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)x(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=b;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return pt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function q(t,e){return u(t,"table")&&u(11!==e.nodeType?e:e.firstChild,"tr")&&pt(">tbody",t)[0]||t}function C(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function E(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Mt.hasData(t)&&(o=Mt.access(t),s=Mt.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)pt.event.add(e,r,u[r][n]);Pt.hasData(t)&&(a=Pt.access(t),l=pt.extend({},a),Pt.set(e,l))}}function T(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function D(n,i,r,o){i=rt.apply([],i);var t,e,s,a,l,u,c=0,h=n.length,d=h-1,f=i[0],p=pt.isFunction(f);if(p||1<h&&"string"==typeof f&&!dt.checkClone&&re.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),D(e,i,r,o)});if(h&&(e=(t=_(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=pt.map(m(t,"script"),C)).length;c<h;c++)l=t,c!==d&&(l=pt.clone(l,!0,!0),a&&pt.merge(s,m(l,"script"))),r.call(n[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,pt.map(s,E),c=0;c<a;c++)l=s[c],Kt.test(l.type||"")&&!Mt.access(l,"globalEval")&&pt.contains(u,l)&&(l.src?pt._evalUrl&&pt._evalUrl(l.src):g(l.textContent.replace(se,""),u))}return n}function L(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(m(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&y(m(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e,n){var i,r,o,s,a=t.style;return(n=n||ue(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),!dt.pixelMarginRight()&&le.test(s)&&ae.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function A(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function F(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=pe.length;n--;)if((t=pe[n]+e)in ge)return t}function R(t){var e=pt.cssProps[t];return e||(e=pt.cssProps[t]=F(t)||t),e}function M(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function P(t,e,n,i,r){var o,s=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(s+=pt.css(t,n+Ht[o],!0,r)),i?("content"===n&&(s-=pt.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=pt.css(t,"border"+Ht[o]+"Width",!0,r))):(s+=pt.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=pt.css(t,"border"+Ht[o]+"Width",!0,r)));return s}function O(t,e,n){var i,r=ue(t),o=I(t,e,r),s="border-box"===pt.css(t,"boxSizing",!1,r);return le.test(o)?o:(i=s&&(dt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+P(t,e,n||(s?"border":"content"),i,r)+"px")}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function j(){ve&&(!1===et.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(j):S.setTimeout(j,pt.fx.interval),pt.fx.tick())}function B(){return S.setTimeout(function(){me=void 0}),me=pt.now()}function H(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Ht[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function z(t,e,n){for(var i,r=($.tweeners[e]||[]).concat($.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function W(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&zt(t),m=Mt.get(t,"fxshow");for(i in n.queue||(null==(s=pt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],be.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||pt.style(t,i)}if((l=!pt.isEmptyObject(e))||!pt.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=Mt.get(t,"display")),"none"===(c=pt.css(t,"display"))&&(u?c=u:(v([t],!0),u=t.style.display||u,c=pt.css(t,"display"),v([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===pt.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=Mt.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&v([t],!0),d.done(function(){for(i in g||v([t]),Mt.remove(t,"fxshow"),f)pt.style(t,i,f[i])})),l=z(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}function V(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=pt.camelCase(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=pt.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function $(o,t,e){var n,s,i=0,r=$.prefilters.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=me||B(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return a.notifyWith(o,[u,n,e]),n<1&&r?e:(r||a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u]),!1)},u=a.promise({elem:o,props:pt.extend({},t),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},e),originalProperties:t,originalOptions:e,startTime:me||B(),duration:e.duration,tweens:[],createTween:function(t,e){var n=pt.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)u.tweens[e].run(1);return t?(a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u,t])):a.rejectWith(o,[u,t]),this}}),c=u.props;for(V(c,u.opts.specialEasing);i<r;i++)if(n=$.prefilters[i].call(u,o,c,u.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(u.elem,u.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(c,z,u),pt.isFunction(u.opts.start)&&u.opts.start.call(o,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),pt.fx.timer(pt.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u}function U(t){return(t.match(Lt)||[]).join(" ")}function K(t){return t.getAttribute&&t.getAttribute("class")||""}function G(n,t,i,r){var e;if(Array.isArray(t))pt.each(t,function(t,e){i||Ie.test(n)?r(n,e):G(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==pt.type(t))r(n,t);else for(e in t)G(n+"["+e+"]",t[e],i,r)}function Q(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Lt)||[];if(pt.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Y(e,r,o,s){function a(t){var i;return l[t]=!0,pt.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||u||l[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),a(n),!1)}),i}var l={},u=e===We;return a(r.dataTypes[0])||!l["*"]&&a("*")}function X(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function J(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Z(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(ut){return{state:"parsererror",error:s?ut:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var tt=[],et=S.document,nt=Object.getPrototypeOf,it=tt.slice,rt=tt.concat,ot=tt.push,st=tt.indexOf,at={},lt=at.toString,ut=at.hasOwnProperty,ct=ut.toString,ht=ct.call(Object),dt={},ft="3.2.1",pt=function(t,e){return new pt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,vt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ft,constructor:pt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(n){return this.pushStack(pt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},pt.extend=pt.fn.extend=function(t){var e,n,i,r,o,s,a=t||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"==typeof a||pt.isFunction(a)||(a={}),l===u&&(a=this,l--);l<u;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],a!==(r=e[n])&&(c&&r&&(pt.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,s=i&&Array.isArray(i)?i:[]):s=i&&pt.isPlainObject(i)?i:{},a[n]=pt.extend(c,s,r)):void 0!==r&&(a[n]=r));return a},pt.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==lt.call(t)||(e=nt(t))&&("function"!=typeof(n=ut.call(e,"constructor")&&e.constructor)||ct.call(n)!==ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[lt.call(t)]||"object":typeof t},globalEval:function(t){g(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(vt,yt)},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:st.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(a(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),pt.isFunction(t))return i=it.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(it.call(arguments)))}).guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:dt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=tt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var _t=function(n){function b(t,e,n,i){var r,o,s,a,l,u,c,h=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:H)!==F&&A(e),e=e||F,M)){if(11!==d&&(l=vt.exec(t)))if(r=l[1]){if(9===d){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!U[t+" "]&&(!P||!P.test(t))){if(1!==d)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=B),o=(u=E(t)).length;o--;)u[o]="#"+a+" "+p(u[o]);c=u.join(","),h=yt.test(t)&&f(e.parentNode)||e}if(c)try{return J.apply(n,h.querySelectorAll(c)),n}catch(W){}finally{a===B&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>S.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[B]=!0,t}function r(t){var e=F.createElement("fieldset");try{return!!t(e)}catch(x){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=e}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&qt(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function a(s){return l(function(o){return o=+o,l(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function p(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(a,t,e){var l=t.dir,u=t.next,c=u||l,h=e&&"parentNode"===c,d=W++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||h)return a(t,e,n);return!1}:function(t,e,n){var i,r,o,s=[z,d];if(n){for(;t=t[l];)if((1===t.nodeType||h)&&a(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||h)if(r=(o=t[B]||(t[B]={}))[t.uniqueID]||(o[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[l]||t;else{if((i=r[c])&&i[0]===z&&i[1]===d)return s[2]=i[2];if((r[c]=s)[2]=a(t,e,n))return!0}return!1}}function d(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)b(t,e[i],n);return n}function w(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function _(f,p,g,m,v,t){return m&&!m[B]&&(m=_(m)),v&&!v[B]&&(v=_(v,t)),l(function(t,e,n,i){var r,o,s,a=[],l=[],u=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?c:w(c,a,f,n,i),d=g?v||(t?f:u||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=w(d,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(t){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?tt(t,s):a[o])&&(t[r]=!(e[r]=s))}}else d=w(d===e?d.splice(u,d.length):d),v?v(null,e,d,i):J.apply(e,d)})}function g(t){for(var r,e,n,i=t.length,o=S.relative[t[0].type],s=o||S.relative[" "],a=o?1:0,l=h(function(t){return t===r},s,!0),u=h(function(t){return-1<tt(r,t)},s,!0),c=[function(t,e,n){var i=!o&&(n||e!==D)||((r=e).nodeType?l(t,e,n):u(t,e,n));return r=null,i}];a<i;a++)if(e=S.relative[t[a].type])c=[h(d(c),e)];else{if((e=S.filter[t[a].type].apply(null,t[a].matches))[B]){for(n=++a;n<i&&!S.relative[t[n].type];n++);return _(1<a&&d(c),1<a&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),e,a<n&&g(t.slice(a,n)),n<i&&g(t=t.slice(n)),n<i&&p(t))}c.push(e)}return d(c)}function m(m,v){var y=0<v.length,_=0<m.length,t=function(t,e,n,i,r){var o,s,a,l=0,u="0",c=t&&[],h=[],d=D,f=t||_&&S.find.TAG("*",r),p=z+=null==d?1:Math.random()||.1,g=f.length;for(r&&(D=e===F||e||r);u!==g&&null!=(o=f[u]);u++){if(_&&o){for(s=0,e||o.ownerDocument===F||(A(o),n=!M);a=m[s++];)if(a(o,e||F,n)){i.push(o);break}r&&(z=p)}y&&((o=!a&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(s=0;a=v[s++];)a(c,h,e,n);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=Y.call(i));h=w(h)}J.apply(i,h),r&&!t&&0<h.length&&1<l+v.length&&b.uniqueSort(i)}return r&&(z=p,D=d),c};return y?l(t):t}var v,x,S,q,C,E,k,T,D,L,I,A,F,R,M,P,O,N,j,B="sizzle"+1*new Date,H=n.document,z=0,W=0,V=t(),$=t(),U=t(),K=function(t,e){return t===e&&(I=!0),0},G={}.hasOwnProperty,Q=[],Y=Q.pop,X=Q.push,J=Q.push,Z=Q.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){A()},qt=h(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(Q=Z.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(Ct){J={apply:Q.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(v in x=b.support={},C=b.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=b.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==F&&9===i.nodeType&&i.documentElement&&(R=(F=i).documentElement,M=!C(F),H!==F&&(n=F.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",St,!1):n.attachEvent&&n.attachEvent("onunload",St)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(F.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(F.getElementsByClassName),x.getById=r(function(t){return R.appendChild(t).id=B,!F.getElementsByName||!F.getElementsByName(B).length}),x.getById?(S.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}}):(S.filter.ID=function(t){var n=t.replace(_t,bt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),S.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},S.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&M)return e.getElementsByClassName(t)},O=[],P=[],(x.qsa=mt.test(F.querySelectorAll))&&(r(function(t){R.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=F.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),R.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=mt.test(N=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(t){x.disconnectedMatch=N.call(t,"*"),N.call(t,"[s!='']:x"),O.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),O=O.length&&new RegExp(O.join("|")),e=mt.test(R.compareDocumentPosition),j=e||mt.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===F||t.ownerDocument===H&&j(H,t)?-1:e===F||e.ownerDocument===H&&j(H,e)?1:L?tt(L,t)-tt(L,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===F?-1:e===F?1:r?-1:o?1:L?tt(L,t)-tt(L,e):0;if(r===o)return u(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?u(s[i],a[i]):s[i]===H?-1:a[i]===H?1:0}),F},b.matches=function(t,e){return b(t,null,null,e)},b.matchesSelector=function(t,e){if((t.ownerDocument||t)!==F&&A(t),e=e.replace(ct,"='$1']"),x.matchesSelector&&M&&!U[e+" "]&&(!O||!O.test(e))&&(!P||!P.test(e)))try{var n=N.call(t,e);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(q){}return 0<b(e,F,null,[t]).length},b.contains=function(t,e){return(t.ownerDocument||t)!==F&&A(t),j(t,e)},b.attr=function(t,e){(t.ownerDocument||t)!==F&&A(t);var n=S.attrHandle[e.toLowerCase()],i=n&&G.call(S.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:x.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},b.escape=function(t){return(t+"").replace(wt,xt)},b.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},b.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!x.detectDuplicates,L=!x.sortStable&&t.slice(0),t.sort(K),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return L=null,t},q=b.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=q(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=q(e);return n},(S=b.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||b.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&b.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=b.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,l,u=v!==y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),d=!n&&!_,f=!1;if(c){if(v){for(;u;){for(s=t;s=s[u];)if(_?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&d){for(f=(a=(i=(r=(o=(s=c)[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===z&&i[1])&&i[2],s=a&&c.childNodes[a];s=++a&&s&&s[u]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===t){r[p]=[z,a,f];break}}else if(d&&(f=a=(i=(r=(o=(s=t)[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===z&&i[1]),!1===f)for(;(s=++a&&s&&s[u]||(f=a=0)||l.pop())&&((_?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[z,f]),s!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,o){var e,s=S.pseudos[t]||S.setFilters[t.toLowerCase()]||b.error("unsupported pseudo: "+t);return s[B]?s(o):1<s.length?(e=[t,t,"",o],S.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var i=[],r=[],a=k(t.replace(at,"$1"));return a[B]?l(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<b(e,t).length}}),contains:l(function(e){return e=e.replace(_t,bt),function(t){return-1<(t.textContent||t.innerText||q(t)).indexOf(e)}}),lang:l(function(n){return dt.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(_t,bt).toLowerCase(),function(t){var e;do{if(e=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===R},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(
t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[v]=i(v);for(v in{submit:!0,reset:!0})S.pseudos[v]=o(v);return c.prototype=S.filters=S.pseudos,S.setFilters=new c,E=b.tokenize=function(t,e){var n,i,r,o,s,a,l,u=$[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=S.preFilter;s;){for(o in n&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=ut.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length)),S.filter)!(i=ft[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?b.error(t):$(t,a).slice(0)},k=b.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)(o=g(e[n]))[B]?i.push(o):r.push(o);(o=U(t,m(r,i))).selector=t}return o},T=b.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&E(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&M&&S.relative[o[1].type]){if(!(e=(S.find.ID(s.matches[0].replace(_t,bt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(_t,bt),yt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&p(o)))return J.apply(n,i),n;break}}return(u||k(t,c))(i,e,!M,n,!e||yt.test(t)&&f(e.parentNode)||e),n},x.sortStable=B.split("").sort(K).join("")===B,x.detectDuplicates=!!I,A(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(F.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),b}(S);pt.find=_t,pt.expr=_t.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=_t.uniqueSort,pt.text=_t.getText,pt.isXMLDoc=_t.isXML,pt.contains=_t.contains,pt.escapeSelector=_t.escape;var bt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=pt.expr.match.needsContext,St=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,qt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<i;e++)if(pt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)pt.find(t,r[e],n);return 1<i?pt.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&xt.test(t)?pt(t):t||[],!1).length}});var Et,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Et,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==n.ready?n.ready(t):t(pt):pt.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:kt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),St.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=et.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=pt.fn,Et=pt(et);var Tt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&pt(t);if(!xt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?st.call(pt(t),this[0]):st.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return u(t,"iframe")?t.contentDocument:(u(t,"template")&&(t=t.content||t),pt.merge([],t.childNodes))}},function(i,r){pt.fn[i]=function(t,e){var n=pt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=pt.filter(e,n)),1<this.length&&(Dt[i]||pt.uniqueSort(n),Tt.test(i)&&n.reverse()),this.pushStack(n)}});var Lt=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(i){i="string"==typeof i?c(i):pt.extend({},i);var r,t,e,n,o=[],s=[],a=-1,l=function(){for(n=n||i.once,e=r=!0;s.length;a=-1)for(t=s.shift();++a<o.length;)!1===o[a].apply(t[0],t[1])&&i.stopOnFalse&&(a=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},u={add:function(){return o&&(t&&!r&&(a=o.length-1,s.push(t)),function n(t){pt.each(t,function(t,e){pt.isFunction(e)?i.unique&&u.has(e)||o.push(e):e&&e.length&&"string"!==pt.type(e)&&n(e)})}(arguments),t&&!r&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;-1<(n=pt.inArray(e,o,n));)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?-1<pt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=s=[],t||r||(o=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],s.push(e),r||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},pt.extend({Deferred:function(t){var o=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},"catch":function(t){return s.then(null,t)},pipe:function(){var r=arguments;return pt.Deferred(function(i){pt.each(o,function(t,e){var n=pt.isFunction(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){function l(r,o,s,a){return function(){var n=this,i=arguments,t=function(){var t,e;if(!(r<u)){if((t=s.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(e)?a?e.call(t,l(u,o,h,a),l(u,o,d,a)):(u++,e.call(t,l(u,o,h,a),l(u,o,d,a),l(u,o,h,o.notifyWith))):(s!==h&&(n=void 0,i=[t]),(a||o.resolveWith)(n,i))}},e=a?t:function(){try{t()}catch(S){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(S,e.stackTrace),u<=r+1&&(s!==d&&(n=void 0,i=[S]),o.rejectWith(n,i))}};r?e():(pt.Deferred.getStackHook&&(e.stackTrace=pt.Deferred.getStackHook()),S.setTimeout(e))}}var u=0;return pt.Deferred(function(t){o[0][3].add(l(0,t,pt.isFunction(i)?i:h,t.notifyWith)),o[1][3].add(l(0,t,pt.isFunction(e)?e:h)),o[2][3].add(l(0,t,pt.isFunction(n)?n:d))}).promise()},promise:function(t){return null!=t?pt.extend(t,s):s}},a={};return pt.each(o,function(t,e){var n=e[2],i=e[5];s[e[1]]=n.add,i&&n.add(function(){r=i},o[3-t][2].disable,o[0][2].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var n=arguments.length,e=n,i=Array(e),r=it.call(arguments),o=pt.Deferred(),s=function(e){return function(t){i[e]=this,r[e]=1<arguments.length?it.call(arguments):t,--n||o.resolveWith(i,r)}};if(n<=1&&(l(t,o.done(s(e)).resolve,o.reject,!n),"pending"===o.state()||pt.isFunction(r[e]&&r[e].then)))return o.then();for(;e--;)l(r[e],s(e),o.reject);return o.promise()}});var It=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(t,e){S.console&&S.console.warn&&t&&It.test(t.name)&&S.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},pt.readyException=function(t){S.setTimeout(function(){throw t})};var At=pt.Deferred();pt.fn.ready=function(t){return At.then(t)["catch"](function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||((pt.isReady=!0)!==t&&0<--pt.readyWait||At.resolveWith(et,[pt]))}}),pt.ready.then=At.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?S.setTimeout(pt.ready):(et.addEventListener("DOMContentLoaded",i),S.addEventListener("load",i));var Ft=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===pt.type(n))for(a in r=!0,n)Ft(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,pt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Rt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};r.uid=1,r.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Rt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=n;else for(i in e)r[pt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(pt.camelCase):e=(e=pt.camelCase(e))in i?[e]:e.match(Lt)||[],n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||pt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var Mt=new r,Pt=new r,Ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;pt.extend({hasData:function(t){return Pt.hasData(t)||Mt.hasData(t)},data:function(t,e,n){return Pt.access(t,e,n)},removeData:function(t,e){Pt.remove(t,e)},_data:function(t,e,n){return Mt.access(t,e,n)},_removeData:function(t,e){Mt.remove(t,e)}}),pt.fn.extend({data:function(n,t){var e,i,r,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Pt.set(this,n)}):Ft(this,function(t){var e;if(o&&void 0===t){if(void 0!==(e=Pt.get(o,n)))return e;if(void 0!==(e=f(o,n)))return e}else this.each(function(){Pt.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Pt.get(o),1===o.nodeType&&!Mt.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&(0===(i=s[e].name).indexOf("data-")&&(i=pt.camelCase(i.slice(5)),f(o,i,r[i])));Mt.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Pt.remove(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Mt.get(t,e),n&&(!i||Array.isArray(n)?i=Mt.access(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Mt.get(t,n)||Mt.access(t,n,{empty:pt.Callbacks("once memory").add(function(){Mt.remove(t,[e+"queue",n])})})}}),pt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?pt.queue(this[0],e):void 0===n?this:this.each(function(){var t=pt.queue(this,e,n);pt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&pt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Mt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],zt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},Wt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},Vt={};pt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?pt(this).show():pt(this).hide()})}});var $t=/^(?:checkbox|radio)$/i,Ut=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|\/(?:java|ecma)script/i,Gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Qt,Yt,Xt=/<|&#?\w+;/;Qt=et.createDocumentFragment().appendChild(et.createElement("div")),(Yt=et.createElement("input")).setAttribute("type","radio"),Yt.setAttribute("checked","checked"),Yt.setAttribute("name","t"),Qt.appendChild(Yt),dt.checkClone=Qt.cloneNode(!0).cloneNode(!0).lastChild.checked,Qt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Qt.cloneNode(!0).lastChild.defaultValue;var Jt=et.documentElement,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=Mt.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&pt.find.matchesSelector(Jt,r),n.guid||(n.guid=pt.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==pt&&pt.event.triggered!==t.type?pt.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Lt)||[""]).length;u--;)f=g=(a=ee.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=pt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=pt.event.special[f]||{},c=pt.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),pt.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=Mt.hasData(t)&&Mt.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(Lt)||[""]).length;u--;)if(f=g=(a=ee.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=pt.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||pt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)pt.event.remove(t,f+e[u],n,i,!0);pt.isEmptyObject(l)&&Mt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=pt.event.fix(t),l=new Array(arguments.length),u=(Mt.get(this,"events")||{})[a.type]||[],c=pt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=pt.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<pt(r,this).index(u):pt.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(pt.Event.prototype,e,{enumerable:!0,configurable:!0,get:pt.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(t){return u(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?s:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=s,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){pt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||pt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),pt.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=b),this.each(function(){pt.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ie=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=pt.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(s=m(a),i=0,r=(o=m(t)).length;i<r;i++)T(o[i],s[i]);if(e)if(n)for(o=o||m(t),s=s||m(a),i=0,r=o.length;i<r;i++)k(o[i],s[i]);else k(t,a);return 0<(s=m(a,"script")).length&&y(s,!l&&m(t,"script")),a},cleanData:function(t){for(var e,n,i,r=pt.event.special,o=0;void 0!==(n=t[o]);o++)if(Rt(n)){if(e=n[Mt.expando]){if(e.events)for(i in e.events)r[i]?pt.event.remove(n,i):pt.removeEvent(n,i,e.handle);n[Mt.expando]=void 0}n[Pt.expando]&&(n[Pt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return L(this,t,!0)},remove:function(t){return L(this,t)},text:function(t){return Ft(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return D(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,t).appendChild(t)})},prepend:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=q(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ie.test(t)&&!Gt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(pt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(nt){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return D(this,arguments,function(t){var e=this.parentNode;pt.inArray(this,n)<0&&(pt.cleanData(m(this)),e&&e.replaceChild(t,this))},n)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){pt.fn[t]=function(t){for(var e,n=[],i=pt(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),pt(i[o])[s](e),ot.apply(n,e.get());return this.pushStack(n)}});var ae=/^margin/,le=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),ue=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(o);var t=S.getComputedStyle(s);e="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Jt.removeChild(o),s=null}}var e,n,i,r,o=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),pt.extend(dt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),r}}))}();var ce=/^(none|table(?!-c[ea]).+)/,he=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},fe={letterSpacing:"0",fontWeight:"400"},pe=["Webkit","Moz","ms"],ge=et.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=I(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=pt.camelCase(e),l=he.test(e),u=t.style;return l||(e=R(a)),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:("string"===(o=typeof n)&&(r=Bt.exec(n))&&r[1]&&(n=Ct(t,e,r),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=pt.camelCase(e);return he.test(e)||(e=R(a)),(s=pt.cssHooks[e]||pt.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=I(t,e,i)),"normal"===r&&e in fe&&(r=fe[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,s){pt.cssHooks[s]={get:function(t,e,n){if(e)return!ce.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?O(t,s,n):Wt(t,de,function(){return O(t,s,n)})},set:function(t,e,n){var i,r=n&&ue(t),o=n&&P(t,s,n,"border-box"===pt.css(t,"boxSizing",!1,r),r);return o&&(i=Bt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=pt.css(t,s)),M(t,e,o)}}}),pt.cssHooks.marginLeft=A(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(I(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(r,o){pt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Ht[e]+o]=i[e]||i[e-2]||i[0];return n}},ae.test(r)||(pt.cssHooks[r+o].set=M)}),pt.fn.extend({css:function(t,e){return Ft(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=ue(t),r=e.length;s<r;s++)o[e[s]]=pt.css(t,e[s],!1,i);return o}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,1<arguments.length)}}),(pt.Tween=N).prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var me,ve,ye,_e,be=/^(?:toggle|show|hide)$/,we=/queueHooks$/;pt.Animation=pt.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return Ct(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Lt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in pt.fx.speeds?i.duration=pt.fx.speeds[i.duration]:i.duration=pt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=pt.isEmptyObject(e),o=pt.speed(t,n,i),s=function(){var t=$(this,pt.extend({},e),o);(r||Mt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=pt.timers,i=Mt.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&we.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||pt.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Mt.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=pt.timers,o=n?n.length:0;for(e.finish=!0,pt.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),pt.each(["toggle","show","hide"],function(t,i){var r=pt.fn[i];pt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(H(i,!0),t,e,n)}}),pt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){pt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),pt.timers=[],
pt.fx.tick=function(){var t,e=0,n=pt.timers;for(me=pt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||pt.fx.stop(),me=void 0},pt.fx.timer=function(t){pt.timers.push(t),pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){ve||(ve=!0,j())},pt.fx.stop=function(){ve=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(i,t){return i=pt.fx&&pt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,i);e.stop=function(){S.clearTimeout(n)}})},ye=et.createElement("input"),_e=et.createElement("select").appendChild(et.createElement("option")),ye.type="checkbox",dt.checkOn=""!==ye.value,dt.optSelected=_e.selected,(ye=et.createElement("input")).value="t",ye.type="radio",dt.radioValue="t"===ye.value;var xe,Se=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Ft(this,pt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?xe:void 0)),void 0!==n?null===n?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=pt.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&u(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Lt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),xe={set:function(t,e,n){return!1===e?pt.removeAttr(t,n):t.setAttribute(n,n),n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var s=Se[e]||pt.find.attr;Se[e]=function(t,e,n){var i,r,o=e.toLowerCase();return n||(r=Se[o],Se[o]=i,i=null!=s(t,e,n)?o:null,Se[o]=r),i}});var qe=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ft(this,pt.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):qe.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(pt.isFunction(e))return this.each(function(t){pt(this).addClass(e.call(this,t,K(this)))});if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+U(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=U(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(pt.isFunction(e))return this.each(function(t){pt(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+U(r)+" "){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=U(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):pt.isFunction(r)?this.each(function(t){pt(this).toggleClass(r.call(this,t,K(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=pt(this),i=r.match(Lt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!==o||((t=K(this))&&Mt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===r?"":Mt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+U(K(n))+" ").indexOf(e))return!0;return!1}});var Ee=/\r/g;pt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=pt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,pt(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=pt.map(e,function(t){return null==t?"":t+""})),(i=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=pt.valHooks[e.type]||pt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Ee,""):null==t?"":t:void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:U(pt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(e=pt(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<pt.inArray(pt.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<pt.inArray(pt(t).val(),e)}},dt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(t,e,n,i){var r,o,s,a,l,u,c,h=[n||et],d=ut.call(t,"type")?t.type:t,f=ut.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||et,3!==n.nodeType&&8!==n.nodeType&&!ke.test(d+pt.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,(t=t[pt.expando]?t:new pt.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:pt.makeArray(e,[t]),c=pt.event.special[d]||{},i||!c.trigger||!1!==c.trigger.apply(n,e))){if(!i&&!c.noBubble&&!pt.isWindow(n)){for(a=c.delegateType||d,ke.test(a+d)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(n.ownerDocument||et)&&h.push(s.defaultView||s.parentWindow||S)}for(r=0;(o=h[r++])&&!t.isPropagationStopped();)t.type=1<r?a:c.bindType||d,(u=(Mt.get(o,"events")||{})[t.type]&&Mt.get(o,"handle"))&&u.apply(o,e),(u=l&&o[l])&&u.apply&&Rt(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),e)||!Rt(n)||l&&pt.isFunction(n[d])&&!pt.isWindow(n)&&((s=n[l])&&(n[l]=null),n[pt.event.triggered=d](),pt.event.triggered=void 0,s&&(n[l]=s)),t.result}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){pt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in S,dt.focusin||pt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){pt.event.simulate(i,t.target,pt.event.fix(t))};pt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=Mt.access(t,i);e||t.addEventListener(n,r,!0),Mt.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Mt.access(t,i)-1;e?Mt.access(t,i,e):(t.removeEventListener(n,r,!0),Mt.remove(t,i))}}});var Te=S.location,De=pt.now(),Le=/\?/;pt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new S.DOMParser).parseFromString(t,"text/xml")}catch(et){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+t),e};var Ie=/\[\]$/,Ae=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){var n=pt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)G(n,t[n],e,r);return i.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Re.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:Array.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Me=/%20/g,Pe=/#.*$/,Oe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Be=/^(?:GET|HEAD)$/,He=/^\/\//,ze={},We={},Ve="*/".concat("*"),$e=et.createElement("a");$e.href=Te.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:je.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,pt.ajaxSettings),e):X(pt.ajaxSettings,t)},ajaxPrefilter:Q(ze),ajaxTransport:Q(We),ajax:function(t,e){function n(t,e,n,i){var r,o,s,a,l,u=e;p||(p=!0,f&&S.clearTimeout(f),c=void 0,d=i||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=J(m,x,n)),a=Z(m,a,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(pt.lastModified[h]=l),(l=x.getResponseHeader("etag"))&&(pt.etag[h]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=a.state,o=a.data,r=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),x.status=t,x.statusText=(e||u)+"",r?_.resolveWith(v,[o,u,x]):_.rejectWith(v,[x,u,s]),x.statusCode(w),w=void 0,g&&y.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:s]),b.fireWith(v,[x,u]),g&&(y.trigger("ajaxComplete",[x,m]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,h,d,i,f,r,p,g,o,s,m=pt.ajaxSetup({},e),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?pt(v):pt.event,_=pt.Deferred(),b=pt.Callbacks("once memory"),w=m.statusCode||{},a={},l={},u="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(p){if(!i)for(i={};e=Ne.exec(d);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(t,e){return null==p&&(t=l[t.toLowerCase()]=l[t.toLowerCase()]||t,a[t]=e),this},overrideMimeType:function(t){return null==p&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||u;return c&&c.abort(e),n(0,e),this}};if(_.promise(x),m.url=((t||m.url||Te.href)+"").replace(He,Te.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Lt)||[""],null==m.crossDomain){r=et.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=$e.protocol+"//"+$e.host!=r.protocol+"//"+r.host}catch(wt){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=pt.param(m.data,m.traditional)),Y(ze,m,e,x),p)return x;for(o in(g=pt.event&&m.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Be.test(m.type),h=m.url.replace(Pe,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Me,"+")):(s=m.url.slice(h.length),m.data&&(h+=(Le.test(h)?"&":"?")+m.data,delete m.data),!1===m.cache&&(h=h.replace(Oe,"$1"),s=(Le.test(h)?"&":"?")+"_="+De+++s),m.url=h+s),m.ifModified&&(pt.lastModified[h]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[h]),pt.etag[h]&&x.setRequestHeader("If-None-Match",pt.etag[h])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ve+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||p))return x.abort();if(u="abort",b.add(m.complete),x.done(m.success),x.fail(m.error),c=Y(We,m,e,x)){if(x.readyState=1,g&&y.trigger("ajaxSend",[x,m]),p)return x;m.async&&0<m.timeout&&(f=S.setTimeout(function(){x.abort("timeout")},m.timeout));try{p=!1,c.send(a,n)}catch(wt){if(p)throw wt;n(-1,wt)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,r){pt[r]=function(t,e,n,i){return pt.isFunction(e)&&(i=i||n,n=e,e=void 0),pt.ajax(pt.extend({url:t,type:r,dataType:i,data:e,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return pt.isFunction(n)?this.each(function(t){pt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=pt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=pt.isFunction(e);return this.each(function(t){pt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Ke=pt.ajaxSettings.xhr();dt.cors=!!Ke&&"withCredentials"in Ke,dt.ajax=Ke=!!Ke,pt.ajaxTransport(function(r){var o,s;if(dt.cors||Ke&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ue[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&S.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(st){if(o)throw st}},abort:function(){o&&o()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=pt("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),et.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ge,Qe=[],Ye=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||pt.expando+"_"+De++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+i):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||pt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=S[i],S[i]=function(){o=arguments},n.always(function(){void 0===r?pt(S).removeProp(i):S[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(i)),o&&pt.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),dt.createHTMLDocument=((Ge=et.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),pt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(dt.createHTMLDocument?((i=(e=et.implementation.createHTMLDocument("")).createElement("base")).href=et.location.href,e.head.appendChild(i)):e=et),o=!n&&[],(r=St.exec(t))?[e.createElement(r[1])]:(r=_([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes)));var i,r,o},pt.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=U(t.slice(a)),t=t.slice(0,a)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(e){return pt.grep(pt.timers,function(t){return e===t.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=pt.css(t,"position"),c=pt(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=pt.css(t,"top"),l=pt.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<(o+l).indexOf("auto")?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},pt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pt.offset.setOffset(this,e,t)});var t,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),n=(t=o.ownerDocument).documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),u(t[0],"html")||(i=t.offset()),i={top:i.top+pt.css(t[0],"borderTopWidth",!0),left:i.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;pt.fn[e]=function(t){return Ft(this,function(t,e,n){var i;return pt.isWindow(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===n?i?i[r]:t[e]:void(i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n)},e,t,arguments.length)}}),pt.each(["top","left"],function(t,n){pt.cssHooks[n]=A(dt.pixelPosition,function(t,e){if(e)return e=I(t,n),le.test(e)?pt(t).position()[n]+"px":e})}),pt.each({Height:"height",Width:"width"},function(s,a){pt.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){pt.fn[o]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Ft(this,function(t,e,n){var i;return pt.isWindow(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?pt.css(t,e,r):pt.style(t,e,n,r)},a,n?t:void 0,n)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.holdReady=function(t){t?pt.readyWait++:pt.ready(!0)},pt.isArray=Array.isArray,pt.parseJSON=JSON.parse,pt.nodeName=u,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Xe=S.jQuery,Je=S.$;return pt.noConflict=function(t){return S.$===pt&&(S.$=Je),t&&S.jQuery===pt&&(S.jQuery=Xe),pt},t||(S.jQuery=S.$=pt),pt}),function(global){!function(a){"use strict";function s(t){var e=u(t||{}),n=i(e);return l(n),o(e,n),f}function i(t){var e=r("uploaderType"),n=r("endpointType");return e?(e=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),n?new qq[n]["FineUploader"+e](t):new qq["FineUploader"+e](t)):n?new qq[n].FineUploader(t):new qq.FineUploader(t)}function n(t,e){var n=f.data("fineuploader");if(!e)return void 0===n?null:n[t];void 0===n&&(n={}),n[t]=e,f.data("fineuploader",n)}function l(t){return n("uploader",t)}function r(t,e){return n(t,e)}function o(t,e){var n=t.callbacks={};a.each(e._options.callbacks,function(t,r){var o,s;o=(o=/^on(\w+)/.exec(t)[1]).substring(0,1).toLowerCase()+o.substring(1),s=f,n[t]=function(){var t,e,n=Array.prototype.slice.call(arguments),i=[];a.each(n,function(t,e){i.push(d(e))}),t=r.apply(this,n);try{e=s.triggerHandler(o,i)}catch(a){qq.log("Caught error in Fine Uploader jQuery event handler: "+a.message,"error")}return null!=t?t:e}}),e._options.callbacks=n}function u(t,e){var n,i;if(n=void 0===e?"basic"!==t.uploaderType?{element:f[0]}:{}:e,a.each(t,function(t,e){0<=a.inArray(t,p)?r(t,e):e instanceof a?n[t]=e[0]:a.isPlainObject(e)?(n[t]={},u(e,n[t])):a.isArray(e)?(i=[],a.each(e,function(t,e){var n={};e instanceof a?a.merge(i,e):a.isPlainObject(e)?(u(e,n),i.push(n)):i.push(e)}),n[t]=i):n[t]=e}),void 0===e)return n}function c(t){return"string"===a.type(t)&&!t.match(/^_/)&&void 0!==l()[t]}function h(t){var e=[];return u(Array.prototype.slice.call(arguments,1),e),d(l()[t].apply(l(),e))}function d(t){var e=t;return null==t||"object"!=typeof t||1!==t.nodeType&&9!==t.nodeType||!t.cloneNode||(e=a(t)),e}var f,p=["uploaderType","endpointType"];a.fn.fineUploader=function(n){var i=this,r=arguments,o=[];return this.each(function(t,e){if(f=a(e),l()&&c(n)){if(o.push(h.apply(i,r)),1===i.length)return!1}else"object"!=typeof n&&n?a.error("Method "+n+" does not exist on jQuery.fineUploader"):s.apply(i,r)}),1===o.length?o[0]:1<o.length?o:this}}(jQuery),function(s){"use strict";function a(t){t||(t={}),t.dropZoneElements=[h];var e=r(t);return n(e),l(new qq.DragAndDrop(e)),h}function e(t,e){var n=h.data("fineUploaderDnd");if(!e)return void 0===n?null:n[t];void 0===n&&(n={}),n[t]=e,h.data("fineUploaderDnd",n)}function l(t){return e("dndInstance",t)}function n(t){var i=t.callbacks={};s.each(new qq.DragAndDrop.callbacks,function(t){var e,n=t;e=h,i[t]=function(){var t=Array.prototype.slice.call(arguments);return e.triggerHandler(n,t)}})}function r(t,e){var n,i;if(n=void 0===e?{}:e,s.each(t,function(t,e){e instanceof s?n[t]=e[0]:s.isPlainObject(e)?(n[t]={},r(e,n[t])):s.isArray(e)?(i=[],s.each(e,function(t,e){e instanceof s?s.merge(i,e):i.push(e)}),n[t]=i):n[t]=e}),void 0===e)return n}function u(t){return"string"===s.type(t)&&"dispose"===t&&void 0!==l()[t]}function c(t){var e=[];return r(Array.prototype.slice.call(arguments,1),e),l()[t].apply(l(),e)}var h;s.fn.fineUploaderDnd=function(n){var i=this,r=arguments,o=[];return this.each(function(t,e){if(h=s(e),l()&&u(n)){if(o.push(c.apply(i,r)),1===i.length)return!1}else"object"!=typeof n&&n?s.error("Method "+n+" does not exist in Fine Uploader's DnD module."):a.apply(i,r)}),1===o.length?o[0]:1<o.length?o:this}}(jQuery);var qq=function(r){"use strict";return{hide:function(){return r.style.display="none",this},attach:function(t,e){return r.addEventListener?r.addEventListener(t,e,!1):r.attachEvent&&r.attachEvent("on"+t,e),function(){qq(r).detach(t,e)}},detach:function(t,e){return r.removeEventListener?r.removeEventListener(t,e,!1):r.attachEvent&&r.detachEvent("on"+t,e),this},contains:function(t){return!!t&&(r===t||(r.contains?r.contains(t):!!(8&t.compareDocumentPosition(r))))},insertBefore:function(t){return t.parentNode.insertBefore(r,t),this},remove:function(){return r.parentNode.removeChild(r),this},css:function(t){if(null==r.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof r.style.opacity&&void 0!==r.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(r.style,t),this},hasClass:function(t,e){var n=new RegExp("(^| )"+t+"( |$)");return n.test(r.className)||!(!e||!n.test(r.parentNode.className))},addClass:function(t){return qq(r).hasClass(t)||(r.className+=" "+t),this},removeClass:function(t){var e=new RegExp("(^| )"+t+"( |$)");return r.className=r.className.replace(e," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(n,t){var e,i=[];return t&&r.querySelector?r.querySelector("."+n):r.querySelectorAll?r.querySelectorAll("."+n):(e=r.getElementsByTagName("*"),qq.each(e,function(t,e){qq(e).hasClass(n)&&i.push(e)}),t?i[0]:i)},getFirstByClass:function(t){return qq(r).getByClass(t,!0)},children:function(){for(var t=[],e=r.firstChild;e;)1===e.nodeType&&t.push(e),e=e.nextSibling;return t},setText:function(t){return r.innerText=t,r.textContent=t,this},clearText:function(){return qq(r).setText("")},hasAttribute:function(t){var e;return r.hasAttribute?!!r.hasAttribute(t)&&null==/^false$/i.exec(r.getAttribute(t)):void 0!==(e=r[t])&&null==/^false$/i.exec(e)}}},zca;!function(){"use strict";var $K;qq.canvasToBlob=function(t,e,n){return qq.dataUriToBlob(t.toDataURL(e,n))},qq.dataUriToBlob=function(t){var e,n,i,r,o=function(t,e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(t),i.getBlob(e)):new Blob([t],{type:e})};return n=0<=t.split(",")[0].indexOf("base64")?atob(t.split(",")[1]):decodeURI(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(n.length),i=new Uint8Array(e),qq.each(n,function(t,e){i[t]=e.charCodeAt(0)}),o(e,r)},qq.log=function(t,e){window.console&&(e&&"info"!==e?window.console[e]?window.console[e](t):window.console.log("<"+e+"> "+t):window.console.log(t))},qq.isObject=function(t){return t&&!t.nodeType&&"[object Object]"===Object.prototype.toString.call(t)},qq.isFunction=function(t){return"function"==typeof t},qq.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)||t&&window.ArrayBuffer&&t.buffer&&t.buffer.constructor===ArrayBuffer},qq.isItemList=function(t){return"[object DataTransferItemList]"===Object.prototype.toString.call(t)},qq.isNodeList=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)||t.item&&t.namedItem},qq.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},qq.trimStr=function(t){return String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},qq.format=function(t){var e=Array.prototype.slice.call(arguments,1),n=t,i=n.indexOf("{}");return qq.each(e,function(t,e){if(n=n.substring(0,i)+e+n.substring(i+2),(i=n.indexOf("{}",i+e.length))<0)return!1}),n},qq.isFile=function(t){return window.File&&"[object File]"===Object.prototype.toString.call(t)},qq.isFileList=function(t){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(t)},qq.isFileOrInput=function(t){return qq.isFile(t)||qq.isInput(t)},qq.isInput=function(t,n){var e=function(t){var e=t.toLowerCase();return n?"file"!==e:"file"===e};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(t)&&t.type&&e(t.type))||!!(t.tagName&&"input"===t.tagName.toLowerCase()&&t.type&&e(t.type))},qq.isBlob=function(t){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(t))return!0},qq.isXhrUploadSupported=function(){var t=document.createElement("input");return t.type="file",void 0!==t.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(t){return t.items&&0<t.items.length&&t.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(t,e,n){return(t.slice||t.mozSlice||t.webkitSlice).call(t,e,n)},qq.arrayBufferToHex=function(t){var i="",e=new Uint8Array(t);return qq.each(e,function(t,e){var n=e.toString(16);n.length<2&&(n="0"+n),i+=n}),i},qq.readBlobToHex=function(t,e,n){var i=qq.sliceBlob(t,e,e+n),r=new FileReader,o=new qq.Promise;return r.onload=function(){o.success(qq.arrayBufferToHex(r.result))},r.onerror=o.failure,r.readAsArrayBuffer(i),o},qq.extend=function(n,t,i){return qq.each(t,function(t,e){i&&qq.isObject(e)?(void 0===n[t]&&(n[t]={}),qq.extend(n[t],e,!0)):n[t]=e}),n},qq.override=function(n,t){var i={},e=t(i);return qq.each(e,function(t,e){void 0!==n[t]&&(i[t]=n[t]),n[t]=e}),n},qq.indexOf=function(t,e,n){if(t.indexOf)return t.indexOf(e,n);n=n||0;var i=t.length;for(n<0&&(n+=i);n<i;n+=1)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return 0<=navigator.userAgent.indexOf("Edge")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},
qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},qq.toElement=($K=document.createElement("div"),function(t){$K.innerHTML=t;var e=$K.firstChild;return $K.removeChild(e),e}),qq.each=function(t,e){var n;if(t)if(window.Storage&&t.constructor===window.Storage)for(n=0;n<t.length&&!1!==e(t.key(n),t.getItem(t.key(n)));n++);else if(qq.isArray(t)||qq.isItemList(t)||qq.isNodeList(t))for(n=0;n<t.length&&!1!==e(n,t[n]);n++);else if(qq.isString(t))for(n=0;n<t.length&&!1!==e(n,t.charAt(n));n++);else for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!1===e(n,t[n]))break},qq.bind=function(e,n){if(qq.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return function(){var t=qq.extend([],i);return arguments.length&&(t=t.concat(Array.prototype.slice.call(arguments))),e.apply(n,t)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(t,i,e){var r=[],n="&",o=function(t,e){var n=i?/\[\]$/.test(i)?i:i+"["+e+"]":e;"undefined"!==n&&"undefined"!==e&&r.push("object"==typeof t?qq.obj2url(t,n,!0):"[object Function]"===Object.prototype.toString.call(t)?encodeURIComponent(n)+"="+encodeURIComponent(t()):encodeURIComponent(n)+"="+encodeURIComponent(t))};return!e&&i?(n=/\?/.test(i)?/\?$/.test(i)?"":"&":"?",r.push(i),r.push(qq.obj2url(t))):"[object Array]"===Object.prototype.toString.call(t)&&void 0!==t?qq.each(t,function(t,e){o(e,t)}):null!=t&&"object"==typeof t?qq.each(t,function(t,e){o(e,t)}):r.push(encodeURIComponent(i)+"="+encodeURIComponent(t)),i?r.join(n):r.join(n).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(t,n,i){return n||(n=new FormData),qq.each(t,function(t,e){t=i?i+"["+t+"]":t,qq.isObject(e)?qq.obj2FormData(e,n,t):qq.isFunction(e)?n.append(t,e()):n.append(t,e)}),n},qq.obj2Inputs=function(t,n){var i;return n||(n=document.createElement("form")),qq.obj2FormData(t,{append:function(t,e){(i=document.createElement("input")).setAttribute("name",t),i.setAttribute("value",e),n.appendChild(i)}}),n},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(t){var e=t.lastIndexOf(".")+1;if(0<e)return t.substr(e,t.length-e)},qq.getFilename=function(t){return qq.isInput(t)?t.value.replace(/.*(\/|\\)/,""):qq.isFile(t)&&null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){for(var t;(t=e.shift())&&t(),t;);},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(t){this.message="[Fine Uploader "+qq.version+"] "+t},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){"use strict";function t(){var t,e=!0;try{(t=document.createElement("input")).type="file",qq(t).hide(),t.disabled&&(e=!1)}catch(t){e=!1}return e}function e(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function n(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function i(){return void 0!==window.XDomainRequest}function r(){return!!n()||i()}function o(){return void 0!==document.createElement("input").webkitdirectory}function s(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(t){return!1}}function a(){var t=document.createElement("span");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&!qq.android()&&!qq.ios()}var l,u,c,h,d,f,p,g,m,v,y,_,b,w,x,S;return l=t(),u=(h=l&&qq.isXhrUploadSupported())&&!qq.androidStock(),d=(c=h&&a())&&((S=document.createElement("input")).type="file",!!("webkitdirectory"in(S||document.querySelectorAll("input[type=file]")[0]))),f=h&&qq.isFileChunkingSupported(),p=h&&f&&s(),g=h&&e(),m=l&&(void 0!==window.postMessage||h),y=n(),v=i(),_=r(),b=o(),w=h&&void 0!==window.FileReader,x=!!h&&!qq.androidStock()&&!qq.iosChrome(),{ajaxUploading:h,blobUploading:u,canDetermineSize:h,chunking:f,deleteFileCors:_,deleteFileCorsXdr:v,deleteFileCorsXhr:y,dialogElement:!!window.HTMLDialogElement,fileDrop:c,folderDrop:d,folderSelection:b,imagePreviews:w,imageValidation:w,itemSizeValidation:h,pause:f,progressBar:x,resume:p,scaling:w&&u,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:l,uploadCors:m,uploadCustomHeaders:h,uploadNonMultipart:h,uploadViaPaste:g}}(),qq.isGenericPromise=function(t){"use strict";return!!(t&&t.then&&qq.isFunction(t.then))},qq.Promise=function(){"use strict";var n,i,r=[],o=[],e=[],s=0;qq.extend(this,{then:function(t,e){return 0===s?(t&&r.push(t),e&&o.push(e)):-1===s?e&&e.apply(null,i):t&&t.apply(null,n),this},done:function(t){return 0===s?e.push(t):t.apply(null,void 0===i?n:i),this},success:function(){return s=1,n=arguments,r.length&&qq.each(r,function(t,e){e.apply(null,n)}),e.length&&qq.each(e,function(t,e){e.apply(null,n)}),this},failure:function(){return s=-1,i=arguments,o.length&&qq.each(o,function(t,e){e.apply(null,i)}),e.length&&qq.each(e,function(t,e){e.apply(null,i)}),this}})},qq.BlobProxy=function(t,e){"use strict";qq.extend(this,{referenceBlob:t,create:function(){return e(t)}})},qq.UploadButton=function(t){"use strict";function e(){var t=document.createElement("input");return t.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),t.setAttribute("title",s.title),r.setMultiple(s.multiple,t),s.folders&&qq.supportedFeatures.folderSelection&&t.setAttribute("webkitdirectory",""),s.acceptFiles&&t.setAttribute("accept",s.acceptFiles),t.setAttribute("type","file"),t.setAttribute("name",s.name),qq(t).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(t).css({height:"100%"}),s.element.appendChild(t),o.attach(t,"change",function(){s.onChange(t)}),o.attach(t,"mouseover",function(){qq(s.element).addClass(s.hoverClass)}),o.attach(t,"mouseout",function(){qq(s.element).removeClass(s.hoverClass)}),o.attach(t,"focus",function(){qq(s.element).addClass(s.focusClass)}),o.attach(t,"blur",function(){qq(s.element).removeClass(s.focusClass)}),t}var n,i,r=this,o=new qq.DisposeSupport,s={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(){},title:null};qq.extend(s,t),i=qq.getUniqueId(),qq(s.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return i},setMultiple:function(t,e){var n=e||this.getInput();s.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):t?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(t){t!==s.acceptFiles&&n.setAttribute("accept",t)},reset:function(){n.parentNode&&qq(n).remove(),qq(s.element).removeClass(s.focusClass),n=null,n=e()}}),n=e()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(r){"use strict";function n(t){if(qq.isArray(t)){var n=[];return qq.each(t,function(t,e){n.push(o[e])}),n}return o[t]}function e(t){if(qq.isArray(t)){var n=[];return qq.each(t,function(t,e){n.push(o[s[e]])}),n}return o[s[t]]}function i(t){var i=[],e=[].concat(t);return qq.each(e,function(t,e){var n=a[e];void 0!==n&&qq.each(n,function(t,e){i.push(o[e])})}),i}var o=[],s={},a={},l={},u={};qq.extend(this,{addFile:function(t){var e=t.status||qq.status.SUBMITTING,n=o.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:e,file:t.file})-1;return t.batchId&&(o[n].batchId=t.batchId,void 0===u[t.batchId]&&(u[t.batchId]=[]),u[t.batchId].push(n)),t.proxyGroupId&&(o[n].proxyGroupId=t.proxyGroupId,void 0===l[t.proxyGroupId]&&(l[t.proxyGroupId]=[]),l[t.proxyGroupId].push(n)),o[n].id=n,s[t.uuid]=n,void 0===a[e]&&(a[e]=[]),a[e].push(n),t.onBeforeStatusChange&&t.onBeforeStatusChange(n),r.onStatusChange(n,null,e),n},retrieve:function(t){return qq.isObject(t)&&o.length?void 0!==t.id?n(t.id):void 0!==t.uuid?e(t.uuid):t.status?i(t.status):void 0:qq.extend([],o,!0)},removeFileRef:function(t){var e=n(t);e&&delete e.file},reset:function(){o=[],s={},a={},u={}},setStatus:function(t,e){var n=o[t].status,i=qq.indexOf(a[n],t);a[n].splice(i,1),o[t].status=e,void 0===a[e]&&(a[e]=[]),a[e].push(t),r.onStatusChange(t,n,e)},uuidChanged:function(t,e){var n=o[t].uuid;o[t].uuid=e,s[e]=t,delete s[n]},updateName:function(t,e){o[t].name=e},updateSize:function(t,e){o[t].size=e},setParentId:function(t,e){o[t].parentId=e},getIdsInProxyGroup:function(t){var e=o[t].proxyGroupId;return e?l[e]:[]},getIdsInBatch:function(t){return u[o[t].batchId]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(t,e,n){this.addFiles(t,e,n)},addInitialFiles:function(t){var n=this;qq.each(t,function(t,e){n._addCannedFile(e)})},addFiles:function(t,e,n){this._maybeHandleIos8SafariWorkaround();var i=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,r=qq.bind(function(t){this._handleNewFile({blob:t,name:this._options.blobs.defaultName},i,h)},this),o=qq.bind(function(t){this._handleNewFile(t,i,h)},this),s=qq.bind(function(t){var e=qq.canvasToBlob(t);this._handleNewFile({blob:e,name:this._options.blobs.defaultName+".png"},i,h)},this),a=qq.bind(function(t){var e=t.quality&&t.quality/100,n=qq.canvasToBlob(t.canvas,t.type,e);this._handleNewFile({blob:n,name:t.name},i,h)},this),l=qq.bind(function(t){if(qq.isInput(t)&&qq.supportedFeatures.ajaxUploading){var e=Array.prototype.slice.call(t.files),n=this;qq.each(e,function(t,e){n._handleNewFile(e,i,h)})}else this._handleNewFile(t,i,h)},this),u=function(){qq.isFileList(t)&&(t=Array.prototype.slice.call(t)),t=[].concat(t)},c=this,h=[];this._currentBatchId=i,t&&(u(),qq.each(t,function(t,e){qq.isFileOrInput(e)?l(e):qq.isBlob(e)?r(e):qq.isObject(e)?e.blob&&e.name?o(e):e.canvas&&e.name&&a(e):e.tagName&&"canvas"===e.tagName.toLowerCase()?s(e):c.log(e+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+h.length+" files."),this._prepareItemsForUpload(h,e,n))},cancel:function(t){var e=this._uploadData.retrieve({id:t});e&&e.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",t,this.getName(t)),"error"):this._handler.cancel(t)},cancelAll:function(){var t=[],n=this;qq.extend(t,this._storedIds),qq.each(t,function(t,e){n.cancel(e)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(t){var e=this._uploadData.retrieve({id:t});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled||(e.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",t,this.getName(t))),this._uploadFile(t),0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",t,this.getName(t)),"error"),1)))},deleteFile:function(t){return this._onSubmitDelete(t)},doesExist:function(t){return this._handler.isValid(t)},drawThumbnail:function(t,e,n,i,r){var o,s,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[t],s={customResizeFunction:r,maxSize:0<n?n:null,scale:0<n},!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(t)),null==o?a.failure({container:e,error:"File or URL not found."}):this._imageGenerator.generate(o,e,s).then(function(t){a.success(t)},function(t,e){a.failure({container:t,error:e||"Problem generating thumbnail"})})):a.failure({container:e,error:"Missing image generator module"}),a},getButton:function(t){return this._getButton(this._buttonIdsForFileIds[t])},getEndpoint:function(t){return this._endpointStore.get(t)},getFile:function(t){var e,n=this._handler.getFile(t);return n||(e=this._uploadData.retrieve({id:t}))&&(n=e.file),n||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(t){return this._uploadData.retrieve({id:t}).name},getParentId:function(t){var e=this.getUploads({id:t}),n=null;return e&&void 0!==e.parentId&&(n=e.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(t){return this._uploadData.retrieve({id:t}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var t=this._currentItemLimit;return 0<t?t-this._netUploadedOrQueued:null},getUploads:function(t){return this._uploadData.retrieve(t)},getUuid:function(t){return this._uploadData.retrieve({id:t}).uuid},isResumable:function(t){return this._handler.hasResumeRecord(t)},log:function(t,e){!this._options.debug||e&&"info"!==e?e&&"info"!==e&&qq.log("[Fine Uploader "+qq.version+"] "+t,e):qq.log("[Fine Uploader "+qq.version+"] "+t)},pauseUpload:function(t){var e=this._uploadData.retrieve({id:t});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(0<=qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],e.status)){if(this._handler.pause(t))return this._uploadData.setStatus(t,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",t,this.getName(t)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",t,this.getName(t)),"error");return!1},removeFileRef:function(t){this._handler.expunge(t),this._uploadData.removeFileRef(t)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(t,e){e.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(t){return this._manualRetry(t)},scaleImage:function(t,e){var n=this;return qq.Scaler.prototype.scaleImage(t,e,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(t,e){this._customHeadersStore.set(t,e)},setCustomResumeData:function(t,e){this._customResumeDataStore.set(e,t)},setDeleteFileCustomHeaders:function(t,e){this._deleteFileCustomHeadersStore.set(t,e)},setDeleteFileEndpoint:function(t,e){this._deleteFileEndpointStore.set(t,e)},setDeleteFileParams:function(t,e){this._deleteFileParamsStore.set(t,e)},setEndpoint:function(t,e){this._endpointStore.set(t,e)},setForm:function(t){this._updateFormSupportAndParams(t)},setItemLimit:function(t){this._currentItemLimit=t},setName:function(t,e){this._uploadData.updateName(t,e)},setParams:function(t,e){this._paramsStore.set(t,e)},setUuid:function(t,e){return this._uploadData.uuidChanged(t,e)},setStatus:function(t,e){if(!this.getUploads({id:t}))throw new qq.Error(t+" is not a valid file ID.");switch(e){case qq.status.DELETED:this._onDeleteComplete(t,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(t,null,!0);break;default:var n="Method setStatus called on '"+name+"' not implemented yet for "+e;throw this.log(n),new qq.Error(n)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var n=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(t){e.deleteFileEndpoint&&n.setDeleteFileEndpoint(e.deleteFileEndpoint,t),e.deleteFileParams&&n.setDeleteFileParams(e.deleteFileParams,t),e.thumbnailUrl&&(n._thumbnailUrls[t]=e.thumbnailUrl),n._netUploaded++,n._netUploadedOrQueued++}})},_annotateWithButtonId:function(t,e){qq.isFile(t)&&(t.qqButtonId=this._getButtonId(e))},_batchError:function(t){this._options.callbacks.onError(null,null,t,void 0)},_createDeleteHandler:function(){var i=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(i.log,i),onDelete:function(t){i._onDelete(t),i._options.callbacks.onDelete(t)},onDeleteComplete:function(t,e,n){i._onDeleteComplete(t,e,n),i._options.callbacks.onDeleteComplete(t,e,n)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(t,e){var n={},i=t,r={},o=e,s=function(t){return qq.isObject(t)?qq.extend({},t):t},a=function(){return qq.isFunction(o)?o():o},l=function(t,e){o&&qq.isObject(e)&&qq.extend(e,a()),r[t]&&qq.extend(e,r[t])};return{set:function(t,e){null==e?(n={},i=s(t)):n[e]=s(t)},get:function(t){var e;return e=null!=t&&n[t]?n[t]:s(i),l(t,e),s(e)},addReadOnly:function(t,e){qq.isObject(n)&&(null===t?qq.isFunction(e)?o=e:(o=o||{},qq.extend(o,e)):(r[t]=r[t]||{},qq.extend(r[t],e)))},remove:function(t){return delete n[t]},reset:function(){n={},r={},i=t}}},_createUploadDataTracker:function(){var i=this;return new qq.UploadData({getName:function(t){return i.getName(t)},getUuid:function(t){return i.getUuid(t)},getSize:function(t){return i.getSize(t)},onStatusChange:function(t,e,n){i._onUploadStatusChange(t,e,n),i._options.callbacks.onStatusChange(t,e,n),i._maybeAllComplete(t,n),i._totalProgress&&setTimeout(function(){i._totalProgress.onStatusChange(t,e,n)},0)}})},_createUploadButton:function(t){function e(){return!!qq.supportedFeatures.ajaxUploading&&!(i._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&i._isAllowedExtension(o,".mov"))&&(void 0===t.multiple?i._options.multiple:t.multiple)}var n,i=this,r=t.accept||this._options.validation.acceptFiles,o=t.allowedExtensions||this._options.validation.allowedExtensions;return n=new qq.UploadButton({acceptFiles:r,element:t.element,focusClass:this._options.classes.buttonFocus,folders:t.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:e(),name:this._options.request.inputName,onChange:function(t){i._onInputChange(t)},title:null==t.title?this._options.text.fileInputTitle:t.title}),this._disposeSupport.addDisposer(function(){n.dispose()}),i._buttons.push(n),n},_createUploadHandler:function(t,e){var s=this,a={},n={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(s.log,s),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(t,e,n,i){n<0||i<0||(a[t]&&a[t].loaded===n&&a[t].total===i||(s._onProgress(t,e,n,i),s._options.callbacks.onProgress(t,e,n,i)),a[t]={loaded:n,total:i})},onComplete:function(t,e,n,i){delete a[t];var r,o=s.getUploads({id:t}).status;o!==qq.status.UPLOAD_SUCCESSFUL&&o!==qq.status.UPLOAD_FAILED&&((r=s._onComplete(t,e,n,i))instanceof qq.Promise?r.done(function(){s._options.callbacks.onComplete(t,e,n,i)}):s._options.callbacks.onComplete(t,e,n,i))},onCancel:function(t,e,n){var i=new qq.Promise;return s._handleCheckedCallback({name:"onCancel",callback:qq.bind(s._options.callbacks.onCancel,s,t,e),onFailure:i.failure,onSuccess:function(){n.then(function(){s._onCancel(t,e)}),i.success()},identifier:t}),i},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(t,e){s._onUpload(t,e);var n=s._options.callbacks.onUpload(t,e);return qq.isGenericPromise(n)?(s.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",t)),n):(new qq.Promise).success()},onUploadChunk:function(t,e,n){s._onUploadChunk(t,n);var i=s._options.callbacks.onUploadChunk(t,e,n);return qq.isGenericPromise(i)?(s.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",t,n.partIndex)),i):(new qq.Promise).success()},onUploadChunkSuccess:function(t,e,n,i){s._onUploadChunkSuccess(t,e),s._options.callbacks.onUploadChunkSuccess.apply(s,arguments)},onResume:function(t,e,n,i){return s._options.callbacks.onResume(t,e,n,i)},onAutoRetry:function(t,e,n,i){return s._onAutoRetry.apply(s,arguments)},onUuidChanged:function(t,e){s.log("Server requested UUID change from '"+s.getUuid(t)+"' to '"+e+"'"),s.setUuid(t,e)},getName:qq.bind(s.getName,s),getUuid:qq.bind(s.getUuid,s),getSize:qq.bind(s.getSize,s),setSize:qq.bind(s._setSize,s),getDataByUuid:function(t){return s.getUploads({uuid:t})},isQueued:function(t){var e=s.getUploads({id:t}).status;return e===qq.status.QUEUED||e===qq.status.SUBMITTED||e===qq.status.UPLOAD_RETRYING||e===qq.status.PAUSED},getIdsInProxyGroup:s._uploadData.getIdsInProxyGroup,getIdsInBatch:s._uploadData.getIdsInBatch,isInProgress:function(t){return s.getUploads({id:t}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(s._getCustomResumeData,s),setStatus:function(t,e){s._uploadData.setStatus(t,e)}};return qq.each(this._options.request,function(t,e){n[t]=e}),n.customHeaders=this._customHeadersStore,t&&qq.each(t,function(t,e){n[t]=e}),new qq.UploadHandlerController(n,e)},_fileOrBlobRejected:function(t){this._netUploadedOrQueued--,this._uploadData.setStatus(t,qq.status.REJECTED)},_formatSize:function(t){if(0===t)return t+this._options.text.sizeSymbols[0];for(var e=-1;e++,999<(t/=1e3););return Math.max(t,.1).toFixed(1)+this._options.text.sizeSymbols[e]},_generateExtraButtonSpecs:function(){var o=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,e){var n=e.multiple,i=qq.extend({},o._options.validation,!0),r=qq.extend({},e);void 0===n&&(n=o._options.multiple),r.validation&&qq.extend(i,e.validation,!0),qq.extend(r,{multiple:n,validation:i},!0),o._initExtraButton(r)})},_getButton:function(t){var e=this._extraButtonSpecs[t];return e?e.element:t===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(t){var e,n,i=t;if(i instanceof qq.BlobProxy&&(i=i.referenceBlob),i&&!qq.isBlob(i)){if(qq.isFile(i))return i.qqButtonId;if("input"===i.tagName.toLowerCase()&&"file"===i.type.toLowerCase())return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(e=i.getElementsByTagName("input"),qq.each(e,function(t,e){if("file"===e.getAttribute("type"))return n=e,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getCustomResumeData:function(t){return this._customResumeDataStore.get(t)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(t){var e=this._extraButtonSpecs[t];return e?e.validation:this._options.validation},_getValidationDescriptor:function(t){return t.file instanceof qq.BlobProxy?{name:qq.getFilename(t.file.referenceBlob),size:t.file.referenceBlob.size}:{name:this.getUploads({id:t.id}).name,size:this.getUploads({id:t.id}).size}},_getValidationDescriptors:function(t){var n=this,i=[];return qq.each(t,function(t,e){i.push(n._getValidationDescriptor(e))}),i},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,i=this._options;n&&n!==this._defaultButtonId&&(i=this._extraButtonSpecs[n]),i.multiple=!1,null===i.validation.acceptFiles?i.validation.acceptFiles="image/*;capture=camera":i.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,function(t,e){if(e.getButtonId()===n)return e.setMultiple(i.multiple),e.setAcceptFiles(i.acceptFiles),!1})}},_handleCheckedCallback:function(e){var n=this,t=e.callback();return qq.isGenericPromise(t)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),t.then(function(t){n.log(e.name+" promise success for "+e.identifier),e.onSuccess(t)},function(){e.onFailure?(n.log(e.name+" promise failure for "+e.identifier),e.onFailure()):n.log(e.name+" promise failure for "+e.identifier)})):(!1!==t?e.onSuccess(t):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),t)},_handleNewFile:function(t,e,n){var i=this,r=qq.getUniqueId(),o=-1,s=qq.getFilename(t),a=t.blob||t,l=this._customNewFileHandler?this._customNewFileHandler:qq.bind(i._handleNewFileGeneric,i);!qq.isInput(a)&&0<=a.size&&(o=a.size),l(a,s,r,o,n,e,this._options.request.uuidName,{uploadData:i._uploadData,paramsStore:i._paramsStore,addFileToHandler:function(t,e){i._handler.add(t,e),i._netUploadedOrQueued++,i._trackButton(t)}})},_handleNewFileGeneric:function(t,e,n,i,r,o){var s=this._uploadData.addFile({uuid:n,name:e,size:i,batchId:o,file:t});this._handler.add(s,t),this._trackButton(s),this._netUploadedOrQueued++,r.push({id:s,file:t})},_handlePasteSuccess:function(t,e){var n=t.type.split("/")[1],i=e;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addFiles({name:i,blob:t})},_handleDeleteSuccess:function(t){if(this.getUploads({id:t}).status!==qq.status.DELETED){var e=this.getName(t);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(t),this._uploadData.setStatus(t,qq.status.DELETED),this.log("Delete request for '"+e+"' has succeeded.")}},_handleDeleteFailed:function(t,e){var n=this.getName(t);this._uploadData.setStatus(t,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),e&&void 0!==e.withCredentials?this._options.callbacks.onError(t,n,"Delete request failed with response code "+e.status,e):this._options.callbacks.onError(t,n,"Delete request failed",e)},_initExtraButton:function(t){var e=this._createUploadButton({accept:t.validation.acceptFiles,allowedExtensions:t.validation.allowedExtensions,element:t.element,folders:t.folders,multiple:t.multiple,title:t.fileInputTitle});this._extraButtonSpecs[e.getButtonId()]=t},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled||this._options.cors.expected&&!qq.supportedFeatures.deleteFileCorsXhr&&(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr))},_isAllowedExtension:function(t,i){var r=!1;return!t.length||(qq.each(t,function(t,e){if(qq.isString(e)){var n=new RegExp("\\."+e+"$","i");if(null!=i.match(n))return!(r=!0)}}),r)},_itemError:function(t,e,n){function i(t,e){s=s.replace(t,e)}var r,o,s=this._options.messages[t],a=[],l=[].concat(e),u=l[0],c=this._getButtonId(n),h=this._getValidationBase(c);return qq.each(h.allowedExtensions,function(t,e){qq.isString(e)&&a.push(e)}),r=a.join(", ").toLowerCase(),i("{file}",this._options.formatFileName(u)),i("{extensions}",r),i("{sizeLimit}",this._formatSize(h.sizeLimit)),i("{minSizeLimit}",this._formatSize(h.minSizeLimit)),null!==(o=s.match(/(\{\w+\})/g))&&qq.each(o,function(t,e){i(e,l[t])}),this._options.callbacks.onError(null,u,s,void 0),s},_manualRetry:function(t,e){if(this._onBeforeManualRetry(t))return this._netUploadedOrQueued++,this._uploadData.setStatus(t,qq.status.UPLOAD_RETRYING),e?e(t):this._handler.retry(t),!0},_maybeAllComplete:function(t,e){var n=this,i=this._getNotFinished();e===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(t):e===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(t),0===i&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var t=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(t._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(t,e,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(t,e,"XHR returned response code "+i.status,i);else{var r=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(t,e,r,i)}},_maybeProcessNextItemAfterOnValidateCallback:function(t,i,r,o,s){var a=this;if(i.length>r)if(t||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var t=a._getValidationDescriptor(i[r]),e=a._getButtonId(i[r].file),n=a._getButton(e);a._handleCheckedCallback({name:"onValidate",callback:qq.bind(a._options.callbacks.onValidate,a,t,n),onSuccess:qq.bind(a._onValidateCallbackSuccess,a,i,r,o,s),onFailure:qq.bind(a._onValidateCallbackFailure,a,i,r,o,s),identifier:"Item '"+t.name+"', size: "+t.size})},0);else if(!t)for(;r<i.length;r++)a._fileOrBlobRejected(i[r].id)},_onAllComplete:function(t,e){this._totalProgress&&this._totalProgress.onAllComplete(t,e,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],t),qq.extend([],e)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(t,e,n,i,r){var o=this;if(o._preventRetries[t]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(t)){var s=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(t,e,o._autoRetries[t]),o._onBeforeAutoRetry(t,e),o._uploadData.setStatus(t,qq.status.UPLOAD_RETRYING),o._retryTimeouts[t]=setTimeout(function(){o.log("Starting retry for "+e+"..."),r?r(t):o._handler.retry(t)},s),!0}},_onBeforeAutoRetry:function(t,e){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+e+"...")},_onBeforeManualRetry:function(t){var e,n=this._currentItemLimit;return this._preventRetries[t]?(this.log("Retries are forbidden for id "+t,"warn"),!1):this._handler.isValid(t)?(e=this.getName(t),!1!==this._options.callbacks.onManualRetry(t,e)&&(0<n&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+e+"' (id: "+t+")..."),!0))):(this.log("'"+t+"' is not a valid file ID","error"),!1)},_onCancel:function(t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[t]);var e=qq.indexOf(this._storedIds,t);!this._options.autoUpload&&0<=e&&this._storedIds.splice(e,1),this._uploadData.setStatus(t,qq.status.CANCELED)},_onComplete:function(t,e,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[t]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(t,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(t,qq.status.UPLOAD_FAILED),!0===n[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[t]=!0)),this._maybeParseAndSendUploadError(t,e,n,i),!!n.success},_onDelete:function(t){this._uploadData.setStatus(t,qq.status.DELETING)},_onDeleteComplete:function(t,e,n){this.getName(t),n?this._handleDeleteFailed(t,e):this._handleDeleteSuccess(t)},_onInputChange:function(t){var e;if(qq.supportedFeatures.ajaxUploading){for(e=0;e<t.files.length;e++
)this._annotateWithButtonId(t.files[e],t);this.addFiles(t.files)}else 0<t.value.length&&this.addFiles(t);qq.each(this._buttons,function(t,e){e.reset()})},_onProgress:function(t,e,n,i){this._totalProgress&&this._totalProgress.onIndividualProgress(t,n,i)},_onSubmit:function(){},_onSubmitCallbackSuccess:function(t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(t,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(t)):(this._storeForLater(t),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(t,e,n){var i,r=this.getUuid(t);return e&&(i=qq.bind(e,this,t,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,t),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,t,r,n),identifier:t}),!0):(this.log("Delete request ignored for ID "+t+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(){},_onTotalProgress:function(t,e){this._options.callbacks.onTotalProgress(t,e)},_onUploadPrep:function(){},_onUpload:function(t){this._uploadData.setStatus(t,qq.status.UPLOADING)},_onUploadChunk:function(){},_onUploadChunkSuccess:function(t){!this._preventRetries[t]&&this._options.retry.enableAuto&&(this._autoRetries[t]=0)},_onUploadStatusChange:function(t,e,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[t])},_onValidateBatchCallbackFailure:function(t){var n=this;qq.each(t,function(t,e){n._fileOrBlobRejected(e.id)})},_onValidateBatchCallbackSuccess:function(t,e,n,i,r){var o,s=this._currentItemLimit,a=this._netUploadedOrQueued;0===s||a<=s?0<e.length?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,t[0],r),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,e,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,e,0,n,i),identifier:"Item '"+e[0].file.name+"', size: "+e[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(e),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(t,e,n,i){var r=e+1;this._fileOrBlobRejected(t[e].id,t[e].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,t,r,n,i)},_onValidateCallbackSuccess:function(t,e,n,i){var r=this,o=e+1,s=this._getValidationDescriptor(t[e]);this._validateFileOrBlobData(t[e],s).then(function(){r._upload(t[e].id,n,i),r._maybeProcessNextItemAfterOnValidateCallback(!0,t,o,n,i)},function(){r._maybeProcessNextItemAfterOnValidateCallback(!1,t,o,n,i)})},_prepareItemsForUpload:function(t,e,n){if(0!==t.length){var i=this._getValidationDescriptors(t),r=this._getButtonId(t[0].file),o=this._getButton(r);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,t,e,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,t),identifier:"batch validation"})}else this._itemError("noFilesError")},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var n=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){n._session.refresh().then(function(t,e){n._sessionRequestComplete(),n._options.callbacks.onSessionRequestComplete(t,!0,e)},function(t,e){n._options.callbacks.onSessionRequestComplete(t,!1,e)})},0))},_sessionRequestComplete:function(){},_setSize:function(t,e){this._uploadData.updateSize(t,e),this._totalProgress&&this._totalProgress.onNewSize(t)},_shouldAutoRetry:function(t){var e=this._uploadData.retrieve({id:t});return!!(!this._preventRetries[t]&&this._options.retry.enableAuto&&e.status!==qq.status.PAUSED&&(void 0===this._autoRetries[t]&&(this._autoRetries[t]=0),this._autoRetries[t]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[t]+=1,!0)},_storeForLater:function(t){this._storedIds.push(t)},_trackButton:function(t){var e;(e=qq.supportedFeatures.ajaxUploading?this._handler.getFile(t).qqButtonId:this._getButtonId(this._handler.getInput(t)))&&(this._buttonIdsForFileIds[t]=e)},_updateFormSupportAndParams:function(t){this._options.form.element=t,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(t,e,n){var i=this.getName(t);e&&this.setParams(e,t),n&&this.setEndpoint(n,t),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,t,i),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,t,i),onFailure:qq.bind(this._fileOrBlobRejected,this,t,i),identifier:t})},_uploadFile:function(t){this._handler.upload(t)||this._uploadData.setStatus(t,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var t,e,n=this;this._storedIds.length;)t=this._storedIds.shift(),this._uploadFile(t);(e=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+e+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(t,e){var n=this,i=t.file instanceof qq.BlobProxy?t.file.referenceBlob:t.file,r=e.name,o=e.size,s=this._getButtonId(t.file),a=this._getValidationBase(s),l=new qq.Promise;return l.then(function(){},function(){n._fileOrBlobRejected(t.id,r)}),qq.isFileOrInput(i)&&!this._isAllowedExtension(a.allowedExtensions,r)?(this._itemError("typeError",r,i),l.failure()):this._options.validation.allowEmpty||0!==o?0<o&&a.sizeLimit&&o>a.sizeLimit?(this._itemError("sizeError",r,i),l.failure()):0<o&&o<a.minSizeLimit?(this._itemError("minSizeError",r,i),l.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(i)?new qq.ImageValidation(i,qq.bind(n.log,n)).validate(a.image).then(l.success,function(t){n._itemError(t+"ImageError",r,i),l.failure()}):l.success(),l):(this._itemError("emptyError",r,i),l.failure())},_wrapCallbacks:function(){var r,n,i;for(i in n=function(t,e,n){var i;try{return e.apply(r,n)}catch(e){i=e.message||e.toString(),r.log("Caught exception in '"+t+"' callback - "+i,"error")}},(r=this)._options.callbacks)!function(){var t,e;t=i,e=r._options.callbacks[t],r._options.callbacks[t]=function(){return n(t,e,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(t){var n=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onAllComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onUploadChunkSuccess:function(){},onResume:function(){},onProgress:function(){},onTotalProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){},onStatusChange:function(){},onSessionRequestComplete:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(){return 2e6},success:{endpoint:null,headers:function(){return null},jsonPayload:!1,method:"POST",params:function(){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(){return[]}},formatFileName:function(t){return t},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,t,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(t){var e=n._uploadData.retrieve({id:t});return e&&e.size||0})),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(t){"use strict";function s(){return 0<=qq.indexOf(["GET","POST","HEAD"],q.method)}function a(){var n=!1;return qq.each(n,function(t,e){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],e)<0)return!(n=!0)}),n}function l(t){return q.cors.expected&&void 0===t.withCredentials}function i(){var t;return(window.XMLHttpRequest||window.ActiveXObject)&&(void 0===(t=qq.createXhrInstance()).withCredentials&&((t=new XDomainRequest).onload=function(){},t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){})),t}function u(t,e){var n=S[t]&&S[t].xhr;return n||(n=e||(q.cors.expected?i():qq.createXhrInstance()),S[t].xhr=n),n}function o(t){var e=qq.indexOf(x,t),n=q.maxConnections;delete S[t],x.splice(e,1),x.length>=n&&e<n&&h(x[n-1])}function e(t,e){var n=u(t),i=q.method,r=!0===e;o(t),r?b(i+" request for "+t+" has failed","error"):l(n)||y(n.status)||(r=!0,b(i+" request for "+t+" has failed - response code "+n.status,"error")),q.onComplete(t,n,r)}function c(t){var n,e=S[t].additionalParams,i=q.mandatedParams;return q.paramsStore.get&&(n=q.paramsStore.get(t)),e&&qq.each(e,function(t,e){(n=n||{})[t]=e}),i&&qq.each(i,function(t,e){(n=n||{})[t]=e}),n}function h(t,e){var n,i=u(t,e),r=q.method,o=c(t),s=S[t].payload;return q.onSend(t),n=d(t,o,S[t].additionalQueryParams),l(i)?(i.onload=g(t),i.onerror=m(t)):i.onreadystatechange=f(t),p(t),i.open(r,n,!0),q.cors.expected&&q.cors.sendCredentials&&!l(i)&&(i.withCredentials=!0),v(t),b("Sending "+r+" request for "+t),s?i.send(s):w||!o?i.send():o&&q.contentType&&0<=q.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")?i.send(qq.obj2url(o,"")):o&&q.contentType&&0<=q.contentType.toLowerCase().indexOf("application/json")?i.send(JSON.stringify(o)):i.send(o),i}function d(t,e,n){var i=q.endpointStore.get(t),r=S[t].addToPath;return null!=r&&(i+="/"+r),w&&e&&(i=qq.obj2url(e,i)),n&&(i=qq.obj2url(n,i)),i}function f(t){return function(){4===u(t).readyState&&e(t)}}function p(e){var n=q.onProgress;n&&(u(e).upload.onprogress=function(t){t.lengthComputable&&n(e,t.loaded,t.total)})}function g(t){return function(){e(t)}}function m(t){return function(){e(t,!0)}}function v(t){var n=u(t),e=q.customHeaders,i=S[t].additionalHeaders||{},r=q.method,o={};l(n)||(q.acceptHeader&&n.setRequestHeader("Accept",q.acceptHeader),q.allowXRequestedWithAndCacheControl&&(q.cors.expected&&s()&&!a(e)||(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"))),!q.contentType||"POST"!==r&&"PUT"!==r||n.setRequestHeader("Content-Type",q.contentType),qq.extend(o,qq.isFunction(e)?e(t):e),qq.extend(o,i),qq.each(o,function(t,e){n.setRequestHeader(t,e)}))}function y(t){return 0<=qq.indexOf(q.successfulResponseCodes[q.method],t)}function _(t,e,n,i,r,o,s){if(S[t]={addToPath:n,additionalParams:i,additionalQueryParams:r,additionalHeaders:o,payload:s},x.push(t)<=q.maxConnections)return h(t,e)}var b,w,x=[],S={},q={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onProgress:null};if(qq.extend(q,t),b=q.log,qq.indexOf(q.validMethods,q.method)<0)throw new Error("'"+q.method+"' is not a supported method for this type of request!");w="GET"===q.method||"DELETE"===q.method,qq.extend(this,{initTransport:function(e){var n,i,r,o,s,a;return{withPath:function(t){return n=t,this},withParams:function(t){return i=t,this},withQueryParams:function(t){return a=t,this},withHeaders:function(t){return r=t,this},withPayload:function(t){return o=t,this},withCacheBuster:function(){return s=!0,this},send:function(t){return s&&0<=qq.indexOf(["GET","DELETE"],q.method)&&(i.qqtimestamp=(new Date).getTime()),_(e,t,n,i,a,r,o)}}},canceled:function(t){o(t)}})},qq.UploadHandler=function(t){"use strict";var e=t.proxy,i={},r=e.onCancel,o=e.getName;qq.extend(this,{add:function(t,e){i[t]=e,i[t].temp={}},cancel:function(t){var e=this,n=new qq.Promise;r(t,o(t),n).then(function(){e.isValid(t)&&(i[t].canceled=!0,e.expunge(t)),n.success()})},expunge:function(t){delete i[t]},getThirdPartyFileId:function(t){return i[t].key},isValid:function(t){return void 0!==i[t]},reset:function(){i={}},_getFileState:function(t){return i[t]},_setThirdPartyFileId:function(t,e){i[t].key=e},_wasCanceled:function(t){return!!i[t].canceled}})},qq.UploadHandlerController=function(t,e){"use strict";var i,l,u,n,r=this,o=!1,c=!1,h={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUploadPrep:function(){},onUpload:function(){},onUploadChunk:function(){},onUploadChunkSuccess:function(){},onAutoRetry:function(){},onResume:function(){},onUuidChanged:function(){},getName:function(){},setSize:function(){},isQueued:function(){},getIdsInProxyGroup:function(){},getIdsInBatch:function(){},isInProgress:function(){}},d={done:function(t,e,n,i){var r=u._getChunkData(t,e);u._getFileState(t).attemptingResume=!1,delete u._getFileState(t).temp.chunkProgress[e],u._getFileState(t).loaded+=r.size,h.onUploadChunkSuccess(t,u._getChunkDataForCallback(r),n,i)},finalize:function(i){var r=h.getSize(i),o=h.getName(i);l("All chunks have been uploaded for "+i+" - finalizing...."),u.finalizeChunks(i).then(function(t,e){l("Finalize successful for "+i);var n=p.normalizeResponse(t,!0);h.onProgress(i,o,r,r),u._maybeDeletePersistedChunkData(i),p.cleanup(i,n,e)},function(t,e){var n=p.normalizeResponse(t,!1);l("Problem finalizing chunks for file ID "+i+" - "+n.error,"error"),(n.reset||e&&0<=h.chunking.success.resetOnStatus.indexOf(e.status))&&d.reset(i),h.onAutoRetry(i,o,n,e)||p.cleanup(i,n,e)})},handleFailure:function(t,n,e,i){var r=h.getName(n);l("Chunked upload request failed for "+n+", chunk "+t),u.clearCachedChunk(n,t);var o,s=p.normalizeResponse(e,!1);if(s.reset)d.reset(n);else{var a=u._getFileState(n).chunking.inProgress;0<=(o=a?qq.indexOf(a,t):-1)&&(u._getFileState(n).chunking.inProgress.splice(o,1),u._getFileState(n).chunking.remaining.unshift(t))}u._getFileState(n).temp.ignoreFailure||(c&&(u._getFileState(n).temp.ignoreFailure=!0,l(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(u._getXhrs(n))),JSON.stringify(u._getFileState(n).chunking.inProgress))),qq.each(u._getXhrs(n),function(t,e){l(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",n,t,e.readyState)),e.abort(),e._cancelled=!0}),u.moveInProgressToRemaining(n),f.free(n,!0)),h.onAutoRetry(n,r,s,i)||p.cleanup(n,s,i))},hasMoreParts:function(t){return!!u._getFileState(t).chunking.remaining.length},nextPart:function(t){var e=u._getFileState(t).chunking.remaining.shift();return e>=u._getTotalChunks(t)&&(e=null),e},reset:function(t){l("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+t,"error"),u._maybeDeletePersistedChunkData(t),u.reevaluateChunking(t),u._getFileState(t).loaded=0,u._getFileState(t).attemptingResume=!1},sendNext:function(o){var n=h.getSize(o),t=h.getName(o),s=d.nextPart(o),i=u._getChunkData(o,s),e=u._getFileState(o),r=e.attemptingResume,a=e.chunking.inProgress||[];null==e.loaded&&(e.loaded=0),r&&!1===h.onResume(o,t,i,e.customResumeData)&&(d.reset(o),s=d.nextPart(o),i=u._getChunkData(o,s),r=!1),null==s&&0===a.length?d.finalize(o):(a.push(s),u._getFileState(o).chunking.inProgress=a,c&&f.open(o,s),c&&f.available()&&u._getFileState(o).chunking.remaining.length&&d.sendNext(o),0===i.blob.size&&(l(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",s,o),"error"),d.handleFailure(s,o,"File is no longer available",null)),h.onUploadChunk(o,t,u._getChunkDataForCallback(i)).then(function(t){if(h.isInProgress(o)){l(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",o,s,i.start+1,i.end,n));var e={chunkIdx:s,id:o,overrides:t,resuming:r};u.uploadChunk(e).then(function(t,e){l("Chunked upload request succeeded for "+o+", chunk "+s),u.clearCachedChunk(o,s);var n=u._getFileState(o).chunking.inProgress||[],i=p.normalizeResponse(t,!0),r=qq.indexOf(n,s);l(qq.format("Chunk {} for file {} uploaded successfully.",s,o)),d.done(o,s,i,e),0<=r&&n.splice(r,1),u._maybePersistChunkedState(o),d.hasMoreParts(o)||0!==n.length?d.hasMoreParts(o)?d.sendNext(o):l(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",o,JSON.stringify(n))):d.finalize(o)},function(t,e){d.handleFailure(s,o,t,e)}).done(function(){u.clearXhr(o,s)})}else l(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",o,s))},function(t){d.handleFailure(s,o,t,null)}))}},f={_open:[],_openChunks:{},_waiting:[],available:function(){var t=h.maxConnections,n=0,i=0;return qq.each(f._openChunks,function(t,e){n++,i+=e.length}),t-(f._open.length-n+i)},free:function(t,e){var n,i=!e,r=qq.indexOf(f._waiting,t),o=qq.indexOf(f._open,t);delete f._openChunks[t],p.getProxyOrBlob(t)instanceof qq.BlobProxy&&(l("Generated blob upload has ended for "+t+", disposing generated blob."),delete u._getFileState(t).file),0<=r?f._waiting.splice(r,1):i&&0<=o&&(f._open.splice(o,1),0<=(n=f._waiting.shift())&&(f._open.push(n),p.start(n)))},getWaitingOrConnected:function(){var n=[];return qq.each(f._openChunks,function(t,e){e&&e.length&&n.push(parseInt(t))}),qq.each(f._open,function(t,e){f._openChunks[e]||n.push(parseInt(e))}),n=n.concat(f._waiting)},isUsingConnection:function(t){return 0<=qq.indexOf(f._open,t)},open:function(t,e){return null==e&&f._waiting.push(t),!!f.available()&&(null==e?(f._waiting.pop(),f._open.push(t)):((n=f._openChunks[t]||[]).push(e),f._openChunks[t]=n),!0);var n},reset:function(){f._waiting=[],f._open=[]}},s={send:function(r,o){var t=u._getFileState(r);t?(t.loaded=0,l("Sending simple upload request for "+r),u.uploadFile(r).then(function(t,e){l("Simple upload request succeeded for "+r);var n=p.normalizeResponse(t,!0),i=h.getSize(r);h.onProgress(r,o,i,i),p.maybeNewUuid(r,n),p.cleanup(r,n,e)},function(t,e){l("Simple upload request failed for "+r);var n=p.normalizeResponse(t,!1);h.onAutoRetry(r,o,n,e)||p.cleanup(r,n,e)})):l("Ignoring send request as this upload may have been cancelled, File ID "+r,"warn")}},p={cancel:function(t){l("Cancelling "+t),h.paramsStore.remove(t),f.free(t)},cleanup:function(t,e,n){var i=h.getName(t);h.onComplete(t,i,e,n),u._getFileState(t)&&u._clearXhrs&&u._clearXhrs(t),f.free(t)},getProxyOrBlob:function(t){return u.getProxy&&u.getProxy(t)||u.getFile&&u.getFile(t)},initHandler:function(){(u=new(e?qq[e]:qq.traditional)[(qq.supportedFeatures.ajaxUploading?"Xhr":"Form")+"UploadHandler"](h,{getCustomResumeData:h.getCustomResumeData,getDataByUuid:h.getDataByUuid,getName:h.getName,getSize:h.getSize,getUuid:h.getUuid,log:l,onCancel:h.onCancel,onProgress:h.onProgress,onUuidChanged:h.onUuidChanged,onFinalizing:function(t){h.setStatus(t,qq.status.UPLOAD_FINALIZING)}}))._removeExpiredChunkingRecords&&u._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(t){return h.isQueued(t)},maybeDefer:function(n,t){return t&&!u.getFile(n)&&t instanceof qq.BlobProxy?(h.onUploadPrep(n),l("Attempting to generate a blob on-demand for "+n),t.create().then(function(t){l("Generated an on-demand blob for "+n),u.updateBlob(n,t),h.setSize(n,t.size),u.reevaluateChunking(n),p.maybeSendDeferredFiles(n)},function(t){var e={};t&&(e.error=t),l(qq.format("Failed to generate blob for ID {}.  Error message: {}.",n,t),"error"),h.onComplete(n,h.getName(n),qq.extend(e,i),null),p.maybeSendDeferredFiles(n),f.free(n)}),!1):p.maybeSendDeferredFiles(n)},maybeSendDeferredFiles:function(n){var t=h.getIdsInProxyGroup(n),i=!1;return t&&t.length?(l("Maybe ready to upload proxy group file "+n),qq.each(t,function(t,e){if(p.isDeferredEligibleForUpload(e)&&u.getFile(e))i=e===n,p.now(e);else if(p.isDeferredEligibleForUpload(e))return!1})):(i=!0,p.now(n)),i},maybeNewUuid:function(t,e){void 0!==e.newUuid&&h.onUuidChanged(t,e.newUuid)},normalizeResponse:function(t,e){var n=t;return qq.isObject(t)||(n={},qq.isString(t)&&!e&&(n.error=t)),n.success=e,n},now:function(n){var i=h.getName(n);if(!r.isValid(n))throw new qq.Error(n+" is not a valid file ID to upload!");h.onUpload(n,i).then(function(t){t&&t.pause?(h.setStatus(n,qq.status.PAUSED),u.pause(n),f.free(n)):o&&u._shouldChunkThisFile(n)?d.sendNext(n):s.send(n,i)},function(t){if(l(n+" upload start aborted due to rejected onUpload Promise - details: "+(t=t||{}),"error"),!h.onAutoRetry(n,i,t.responseJSON||{})){var e=p.normalizeResponse(t.responseJSON,!1);p.cleanup(n,e)}})},start:function(t){var e=p.getProxyOrBlob(t);return e?p.maybeDefer(t,e):(p.now(t),!0)}};qq.extend(this,{add:function(){u.add.apply(this,arguments)},upload:function(t){return!!f.open(t)&&p.start(t)},retry:function(t){return c&&(u._getFileState(t).temp.ignoreFailure=!1),f.isUsingConnection(t)?p.start(t):r.upload(t)},cancel:function(t){var e=u.cancel(t);qq.isGenericPromise(e)?e.then(function(){p.cancel(t)}):!1!==e&&p.cancel(t)},cancelAll:function(){var t,e=f.getWaitingOrConnected();if(e.length)for(t=e.length-1;0<=t;t--)r.cancel(e[t]);f.reset()},getFile:function(t){return u.getProxy&&u.getProxy(t)?u.getProxy(t).referenceBlob:u.getFile&&u.getFile(t)},isProxied:function(t){return!(!u.getProxy||!u.getProxy(t))},getInput:function(t){if(u.getInput)return u.getInput(t)},reset:function(){l("Resetting upload handler"),r.cancelAll(),f.reset(),u.reset()},expunge:function(t){if(r.isValid(t))return u.expunge(t)},isValid:function(t){return u.isValid(t)},hasResumeRecord:function(t){var e=u.isValid(t)&&u._getLocalStorageId&&u._getLocalStorageId(t);return!!e&&!!localStorage.getItem(e)},getResumableFilesData:function(){return u.getResumableFilesData?u.getResumableFilesData():[]},getThirdPartyFileId:function(t){if(r.isValid(t))return u.getThirdPartyFileId(t)},pause:function(t){return!!(r.isResumable(t)&&u.pause&&r.isValid(t)&&u.pause(t))&&(f.free(t),u.moveInProgressToRemaining(t),!0)},isAttemptingResume:function(t){return!!u.isAttemptingResume&&u.isAttemptingResume(t)},isResumable:function(t){return!!u.isResumable&&u.isResumable(t)}}),qq.extend(h,t),l=h.log,o=h.chunking.enabled&&qq.supportedFeatures.chunking,c=o&&h.chunking.concurrent.enabled,(n={})[h.preventRetryParam]=!0,i=n,p.initHandler()},qq.WindowReceiveMessage=function(t){"use strict";var e={log:function(){}},i={};qq.extend(e,t),qq.extend(this,{receiveMessage:function(t,e){var n=function(t){e(t.data)};window.postMessage?i[t]=qq(window).attach("message",n):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(t){if(window.postMessage){var e=i[t];e&&e()}}})},qq.FormUploadHandler=function(t){"use strict";function e(t){delete c[t],d&&(clearTimeout(h[t]),delete h[t],m.stopReceivingMessages(t));var e=document.getElementById(s._getIframeName(t));e&&(e.setAttribute("src","javascript:false;"),qq(e).remove())}function o(t){return t.split("_")[0]}function n(t){var e=qq.toElement("<iframe src='javascript:false;' name='"+t+"' />");return e.setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e}function i(t,e){var r=t.id,n=o(r);u[p(n)]=e,c[n]=qq(t).attach("load",function(){s.getInput(n)&&(g("Received iframe load event for CORS upload request (iframe name "+r+")"),h[r]=setTimeout(function(){var t="No valid message received from loaded iframe for iframe name "+r;g(t,"error"),e({error:t})},1e3))}),m.receiveMessage(r,function(t){g("Received the following window message: '"+t+"'");var e,n=(o(r),s._parseJsonResponse(t)),i=n.uuid;i&&u[i]?(g("Handling response for iframe name "+r),clearTimeout(h[r]),delete h[r],s._detachLoadEvent(r),e=u[i],delete u[i],m.stopReceivingMessages(r),e(n)):i||g("'"+t+"' does not contain a UUID - ignoring.")})}var r=t.options,s=this,a=t.proxy,l=qq.getUniqueId(),u={},c={},h={},d=r.isCors,f=r.inputName,p=a.getUuid,g=a.log,m=new qq.WindowReceiveMessage({log:g});qq.extend(this,new qq.UploadHandler(t)),qq.override(this,function(n){return{add:function(t,e){n.add(t,{input:e}),e.setAttribute("name",f),e.parentNode&&qq(e).remove()},expunge:function(t){e(t),n.expunge(t)},isValid:function(t){return n.isValid(t)&&void 0!==s._getFileState(t).input}}}),qq.extend(this,{getInput:function(t){return s._getFileState(t).input},_attachLoadEvent:function(t,e){var n;d?i(t,e):c[t.id]=qq(t).attach("load",function(){if(g("Received response for "+t.id),t.parentNode){try{if(t.contentDocument&&t.contentDocument.body&&"false"==t.contentDocument.body.innerHTML)return}catch(t){g("Error when attempting to access iframe during handling of upload response ("+t.message+")","error"),n={success:!1}}e(n)}})},_createIframe:function(t){return n(s._getIframeName(t))},_detachLoadEvent:function(t){void 0!==c[t]&&(c[t](),delete c[t])},_getIframeName:function(t){return t+"_"+l},_initFormForUpload:function(t){var e=t.method,n=t.endpoint,i=t.params,r=t.paramsInBody,o=t.targetName,s=qq.toElement("<form method='"+e+"' enctype='multipart/form-data'></form>"),a=n;return r?qq.obj2Inputs(i,s):a=qq.obj2url(i,n),s.setAttribute("action",a),s.setAttribute("target",o),s.style.display="none",document.body.appendChild(s),s},_parseJsonResponse:function(t){var e={};try{e=qq.parseJson(t)}catch(t){g("Error when attempting to parse iframe upload response ("+t.message+")","error")}return e}})},qq.XhrUploadHandler=function(t){"use strict";function e(i){qq.each(f._getXhrs(i),function(t,e){var n=f._getAjaxRequester(i,t);e.onreadystatechange=null,e.upload.onprogress=null,e.abort(),n&&n.canceled&&n.canceled(i)})}var f=this,a=t.options.namespace,n=t.proxy,r=t.options.chunking,c=function(t){var e=f._getFileState(t);if(e.chunkSize)return e.chunkSize;var n=r.partSize;return qq.isFunction(n)&&(n=n(t,g(t))),e.chunkSize=n},l=t.options.resume,i=r&&t.options.chunking.enabled&&qq.supportedFeatures.chunking,o=l&&t.options.resume.enabled&&i&&qq.supportedFeatures.resume,p=n.getName,g=n.getSize,s=n.getUuid,u=n.getEndpoint,h=n.getDataByUuid,d=n.onUuidChanged,m=n.onProgress,v=n.log,y=n.getCustomResumeData;qq.extend(this,new qq.UploadHandler(t)),qq.override(this,function(n){return{add:function(t,e){if(qq.isFile(e)||qq.isBlob(e))n.add(t,{file:e});else{if(!(e instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");n.add(t,{proxy:e})}f._initTempState(t),o&&f._maybePrepareForResume(t)},expunge:function(t){e(t),f._maybeDeletePersistedChunkData(t),f._clearXhrs(t),n.expunge(t)}}}),qq.extend(this,{clearCachedChunk:function(t,e){var n=f._getFileState(t);n&&delete n.temp.cachedChunks[e]},clearXhr:function(t,e){var n=f._getFileState(t).temp;n.xhrs&&delete n.xhrs[e],n.ajaxRequesters&&delete n.ajaxRequesters[e]},finalizeChunks:function(t,e){var n=f._getTotalChunks(t)-1,i=f._getXhr(t,n);return e?(new qq.Promise).success(e(i),i):(new qq.Promise).success({},i)},getFile:function(t){return f.isValid(t)&&f._getFileState(t).file},getProxy:function(t){return f.isValid(t)&&f._getFileState(t).proxy},getResumableFilesData:function(){var i=[];return f._iterateResumeRecords(function(t,e){f.moveInProgressToRemaining(null,e.chunking.inProgress,e.chunking.remaining);var n={name:e.name,remaining:e.chunking.remaining,size:e.size,uuid:e.uuid};e.key&&(n.key=e.key),e.customResumeData&&(n.customResumeData=e.customResumeData),i.push(n)}),i},isAttemptingResume:function(t){return f._getFileState(t).attemptingResume},isResumable:function(t){return!!r&&f.isValid(t)&&!f._getFileState(t).notResumable},moveInProgressToRemaining:function(t,e,n){var i=(f._getFileState(t)||{}).chunking||{},r=e||i.inProgress,
o=n||i.remaining;r&&(v(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(r))),r.reverse(),qq.each(r,function(t,e){o.unshift(e)}),r.length=0)},pause:function(t){if(f.isValid(t))return v(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",t,p(t))),f._getFileState(t).paused=!0,e(t),!0},reevaluateChunking:function(t){if(r&&f.isValid(t)){var e,n,i=f._getFileState(t);if(delete i.chunking,i.chunking={},1<(e=f._getTotalChunks(t))||r.mandatory){for(i.chunking.enabled=!0,i.chunking.parts=e,i.chunking.remaining=[],n=0;n<e;n++)i.chunking.remaining.push(n);f._initTempState(t)}else i.chunking.enabled=!1}},updateBlob:function(t,e){f.isValid(t)&&(f._getFileState(t).file=e)},_clearXhrs:function(t){var e=f._getFileState(t).temp;qq.each(e.ajaxRequesters,function(t){delete e.ajaxRequesters[t]}),qq.each(e.xhrs,function(t){delete e.xhrs[t]})},_createXhr:function(t,e){return f._registerXhr(t,e,qq.createXhrInstance())},_getAjaxRequester:function(t,e){var n=null==e?-1:e;return f._getFileState(t).temp.ajaxRequesters[n]},_getChunkData:function(t,e){var n=c(t),i=g(t),r=f.getFile(t),o=n*e,s=i<=o+n?i:o+n,a=f._getTotalChunks(t),l=this._getFileState(t).temp.cachedChunks,u=l[e]||qq.sliceBlob(r,o,s);return{part:e,start:o,end:s,count:a,blob:l[e]=u,size:s-o}},_getChunkDataForCallback:function(t){return{partIndex:t.part,startByte:t.start+1,endByte:t.end,totalParts:t.count}},_getLocalStorageId:function(t){var e=p(t),n=g(t),i=c(t),r=u(t),o=l.customKeys(t),s=qq.format("qq{}resume{}-{}-{}-{}-{}",a,"5.0",e,n,i,r);return o.forEach(function(t){s+="-"+t}),s},_getMimeType:function(t){return f.getFile(t).type},_getPersistableData:function(t){return f._getFileState(t).chunking},_getTotalChunks:function(t){if(r){var e=g(t),n=c(t);return Math.ceil(e/n)}},_getXhr:function(t,e){var n=null==e?-1:e;return f._getFileState(t).temp.xhrs[n]},_getXhrs:function(t){return f._getFileState(t).temp.xhrs},_iterateResumeRecords:function(n){o&&qq.each(localStorage,function(t,e){0===t.indexOf(qq.format("qq{}resume",a))&&n(t,JSON.parse(e))})},_initTempState:function(t){f._getFileState(t).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(t){f._getFileState(t).notResumable=!0},_maybeDeletePersistedChunkData:function(t){var e;return!!(o&&f.isResumable(t)&&((e=f._getLocalStorageId(t))&&localStorage.getItem(e)))&&(localStorage.removeItem(e),!0)},_maybePrepareForResume:function(t){var e,n,i=f._getFileState(t);o&&void 0===i.key&&(e=f._getLocalStorageId(t),(n=localStorage.getItem(e))&&(n=JSON.parse(n),h(n.uuid)?f._markNotResumable(t):(v(qq.format("Identified file with ID {} and name of {} as resumable.",t,p(t))),d(t,n.uuid),i.key=n.key,i.chunking=n.chunking,i.loaded=n.loaded,i.customResumeData=n.customResumeData,i.attemptingResume=!0,f.moveInProgressToRemaining(t))))},_maybePersistChunkedState:function(t){var e,n,i=f._getFileState(t);if(o&&f.isResumable(t)){var r=y(t);e=f._getLocalStorageId(t),n={name:p(t),size:g(t),uuid:s(t),key:i.key,chunking:i.chunking,loaded:i.loaded,lastUpdated:Date.now()},r&&(n.customResumeData=r);try{localStorage.setItem(e,JSON.stringify(n))}catch(e){v(qq.format("Unable to save resume data for '{}' due to error: '{}'.",t,e.toString()),"warn")}}},_registerProgressHandler:function(u,c,h){var t=f._getXhr(u,c),d=p(u),e={simple:function(t,e){var n=g(u);m(u,d,t===e?n:n<=t?n-1:t,n)},chunked:function(t,e){var n=f._getFileState(u).temp.chunkProgress,i=f._getFileState(u).loaded,r=t,o=e,s=g(u),a=r-(o-h),l=i;n[c]=a,qq.each(n,function(t,e){l+=e}),m(u,d,l,s)}};t.upload.onprogress=function(t){t.lengthComputable&&e[null==h?"simple":"chunked"](t.loaded,t.total)}},_registerXhr:function(t,e,n,i){var r=null==e?-1:e,o=f._getFileState(t).temp;return o.xhrs=o.xhrs||{},o.ajaxRequesters=o.ajaxRequesters||{},o.xhrs[r]=n,i&&(o.ajaxRequesters[r]=i),n},_removeExpiredChunkingRecords:function(){var i=l.recordsExpireIn;f._iterateResumeRecords(function(t,e){var n=new Date(e.lastUpdated);n.setDate(n.getDate()+i),n.getTime()<=Date.now()&&(v("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(t){var e=f._getFileState(t);if(e)return e.chunking||f.reevaluateChunking(t),e.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(t){"use strict";function e(){return"POST"===o.method.toUpperCase()?{_method:"DELETE"}:{}}var r,o={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};qq.extend(o,t),r=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:o.method,endpointStore:o.endpointStore,paramsStore:o.paramsStore,mandatedParams:e(),maxConnections:o.maxConnections,customHeaders:function(t){return o.customHeaders.get(t)},log:o.log,onSend:o.onDelete,onComplete:o.onDeleteComplete,cors:o.cors})),qq.extend(this,{sendDelete:function(t,e,n){var i=n||{};o.log("Submitting delete file request for "+t),"DELETE"===o.method?r.initTransport(t).withPath(e).withParams(i).send():(i[o.uuidParamName]=e,r.initTransport(t).withParams(i).send())}})},function(){function v(t){var e,n=t.naturalWidth,i=t.naturalHeight,r=document.createElement("canvas");return 1048576<n*i&&(r.width=r.height=1,(e=r.getContext("2d")).drawImage(t,1-n,0),0===e.getImageData(0,0,1,1).data[3])}function y(t,e,n){var i,r,o,s=document.createElement("canvas"),a=0,l=n,u=n;for(s.width=1,s.height=n,(i=s.getContext("2d")).drawImage(t,0,0),r=i.getImageData(0,0,1,n).data;a<u;)0===r[4*(u-1)+3]?l=u:a=u,u=l+a>>1;return 0===(o=u/n)?1:o}function f(t,e,n,i){var r=document.createElement("canvas"),o=n.mime||"image/jpeg",s=new qq.Promise;return p(t,e,r,n,i).then(function(){s.success(r.toDataURL(o,n.quality||.8))}),s}function o(t){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(5241e3<t.origHeight*t.origWidth)return{newHeight:Math.round(Math.sqrt(t.origHeight/t.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(t.origWidth/t.origHeight*5241e3))}}function p(c,t,e,n,h){var i,d=c.naturalWidth,f=c.naturalHeight,p=n.width,g=n.height,m=e.getContext("2d"),r=new qq.Promise;return m.save(),n.resize?s({blob:t,canvas:e,image:c,imageHeight:f,imageWidth:d,orientation:n.orientation,resize:n.resize,targetHeight:g,targetWidth:p}):(qq.supportedFeatures.unlimitedScaledImageSize||(i=o({origWidth:p,origHeight:g}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",p,g,i.newWidth,i.newHeight),"warn"),p=i.newWidth,g=i.newHeight),_(e,p,g,n.orientation),qq.ios()?function(){v(c)&&(d/=2,f/=2);var t,e,n,i=1024,r=document.createElement("canvas"),o=h?y(c,d,f):1,s=Math.ceil(i*p/d),a=Math.ceil(i*g/f/o),l=0,u=0;for(r.width=r.height=i,t=r.getContext("2d");l<f;){for(n=e=0;e<d;)t.clearRect(0,0,i,i),t.drawImage(c,-e,-l),m.drawImage(r,0,0,i,i,n,u,s,a),e+=i,n+=s;l+=i,u+=a}m.restore(),r=t=null}():m.drawImage(c,0,0,p,g),e.qqImageRendered&&e.qqImageRendered(),r.success(),r)}function s(t){var e=t.blob,n=t.image,i=t.imageHeight,r=t.imageWidth,o=t.orientation,s=new qq.Promise,a=t.resize,l=document.createElement("canvas"),u=l.getContext("2d"),c=t.canvas,h=t.targetHeight,d=t.targetWidth;return _(l,r,i,o),c.height=h,c.width=d,u.drawImage(n,0,0),a({blob:e,height:h,image:n,sourceCanvas:l,targetCanvas:c,width:d}).then(function(){c.qqImageRendered&&c.qqImageRendered(),s.success()},s.failure),s}function _(t,e,n,i){switch(i){case 5:case 6:case 7:case 8:t.width=n,t.height=e;break;default:t.width=e,t.height=n}var r=t.getContext("2d");switch(i){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-e,0)}}function t(n,t){var i=this;window.Blob&&n instanceof Blob&&function(){var t=new Image,e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!e)throw Error("No createObjectURL function found to create blob url");t.src=e.createObjectURL(n),i.blob=n,n=t}(),n.naturalWidth||n.naturalHeight||(n.onload=function(){var n=i.imageLoadListeners;n&&(i.imageLoadListeners=null,setTimeout(function(){for(var t=0,e=n.length;t<e;t++)n[t]()},0))},n.onerror=t,this.imageLoadListeners=[]),this.srcImage=n}t.prototype.render=function(e,t){t=t||{};var n,i,r=this,o=this.srcImage.naturalWidth,s=this.srcImage.naturalHeight,a=t.width,l=t.height,u=t.maxWidth,c=t.maxHeight,h=!this.blob||"image/jpeg"===this.blob.type,d=e.tagName.toLowerCase();this.imageLoadListeners?this.imageLoadListeners.push(function(){r.render(e,t)}):(a&&!l?l=s*a/o<<0:l&&!a?a=o*l/s<<0:(a=o,l=s),u&&u<a&&(l=s*(a=u)/o<<0),c&&c<l&&(a=o*(l=c)/s<<0),n={width:a,height:l},qq.each(t,function(t,e){n[t]=e}),"img"===d?(i=e.src,f(r.srcImage,r.blob,n,h).then(function(t){e.src=t,i===e.src&&e.onload()})):"canvas"===d&&p(this.srcImage,this.blob,e,n,h),"function"==typeof this.onrender&&this.onrender(e))},qq.MegaPixImage=t}(),qq.ImageGenerator=function(h){"use strict";function s(t){return"img"===t.tagName.toLowerCase()}function a(t){return"canvas"===t.tagName.toLowerCase()}function l(){return void 0!==(new Image).crossOrigin}function u(){var t=document.createElement("canvas");return t.getContext&&t.getContext("2d")}function c(t){var e=t.split("/"),n=e[e.length-1].split("?")[0],i=qq.getExtension(n);switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function d(t){var e,n,i,r=document.createElement("a");return r.href=t,e=r.protocol,i=r.port,n=r.hostname,e.toLowerCase()!==window.location.protocol.toLowerCase()||n.toLowerCase()!==window.location.hostname.toLowerCase()||i!==window.location.port&&!qq.ie()}function i(t,e){t.onload=function(){t.onload=null,t.onerror=null,e.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,h("Problem drawing thumbnail!","error"),e.failure(t,"Problem drawing thumbnail!")}}function r(t,e){t.qqImageRendered=function(){e.success(t)}}function f(t,e){var n=s(t)||a(t);return s(t)?i(t,e):a(t)?r(t,e):(e.failure(t),h(qq.format("Element container of type {} is not supported!",t.tagName),"error")),n}function o(r,o,s){var a=new qq.Promise,t=new qq.Identify(r,h),l=s.maxSize,u=null==s.orient||s.orient,c=function(){o.onerror=null,o.onload=null,h("Could not render preview, file may be too large!","error"),a.failure(o,"Browser cannot render image!")};return t.isPreviewable().then(function(n){var t={parse:function(){return(new qq.Promise).success()}},e=u?new qq.Exif(r,h):t,i=new qq.MegaPixImage(r,c);f(o,a)&&e.parse().then(function(t){var e=t&&t.Orientation;i.render(o,{maxWidth:l,maxHeight:l,orientation:e,mime:n,resize:s.customResizeFunction})},function(t){h(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),i.render(o,{maxWidth:l,maxHeight:l,mime:n,resize:s.customResizeFunction})})},function(){h("Not previewable"),a.failure(o,"Not previewable")}),a}function p(t,e,n,i,r){var o=new Image,s=new qq.Promise;f(o,s),d(t)&&(o.crossOrigin="anonymous"),o.src=t,s.then(function(){f(e,n),new qq.MegaPixImage(o).render(e,{maxWidth:i,maxHeight:i,mime:c(t),resize:r})},n.failure)}function g(t,e,n,i){f(e,n),qq(e).css({maxWidth:i+"px",maxHeight:i+"px"}),e.src=t}function m(t,e,n){var i=new qq.Promise,r=n.scale,o=r?n.maxSize:null;return r&&s(e)?u()?d(t)&&!l()?g(t,e,i,o):p(t,e,i,o):g(t,e,i,o):a(e)?p(t,e,i,o):f(e,i)&&(e.src=t),i}qq.extend(this,{generate:function(t,e,n){return qq.isString(t)?(h("Attempting to update thumbnail based on server response."),m(t,e,n||{})):(h("Attempting to draw client-side image preview."),o(t,e,n||{}))}}),this._testing={},this._testing.isImg=s,this._testing.isCanvas=a,this._testing.isCrossOrigin=d,this._testing.determineMimeOfFileName=c},qq.Exif=function(o,s){"use strict";function h(t){for(var e=0,n=0;0<t.length;)e+=parseInt(t.substring(0,2),16)*Math.pow(2,n),t=t.substring(2,t.length),n+=8;return e}function a(t,e){var i=t,r=e;return void 0===i&&(i=2,r=new qq.Promise),qq.readBlobToHex(o,i,4).then(function(t){var e,n=/^ffe([0-9])/.exec(t);n?"1"!==n[1]?(e=parseInt(t.slice(4,8),16),a(i+e+2,r)):r.success(i):r.failure("No EXIF header to be found!")}),r}function t(){var e=new qq.Promise;return qq.readBlobToHex(o,0,6).then(function(t){0!==t.indexOf("ffd8")?e.failure("Not a valid JPEG!"):a().then(function(t){e.success(t)},function(t){e.failure(t)})}),e}function i(t){var e=new qq.Promise;return qq.readBlobToHex(o,t+10,2).then(function(t){e.success("4949"===t)}),e}function l(t,e){var n=new qq.Promise;return qq.readBlobToHex(o,t+18,2).then(function(t){if(e)return n.success(h(t));n.success(parseInt(t,16))}),n}function u(t,e){var n=t+20,i=12*e;return qq.readBlobToHex(o,n,i)}function c(t){for(var e=[],n=0;n+24<=t.length;)e.push(t.slice(n,n+24)),n+=24;return e}function d(l,t){var u=qq.extend([],e),c={};return qq.each(t,function(t,e){var n,i,r,o=e.slice(0,4),s=l?h(o):parseInt(o,16),a=u.indexOf(s);if(0<=a&&(i=f[s].name,r=f[s].bytes,n=e.slice(16,16+2*r),c[i]=l?h(n):parseInt(n,16),u.splice(a,1)),0===u.length)return!1}),c}var e=[274],f={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var r=new qq.Promise,n=function(t){s(qq.format("EXIF header parse failed: '{}' ",t)),r.failure(t)};return t().then(function(e){s(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===o.name?"blob":o.name)),i(e).then(function(i){s(qq.format("EXIF Byte order is {} endian",i?"little":"big")),l(e,i).then(function(t){s(qq.format("Found {} APP1 directory entries",t)),u(e,t).then(function(t){var e=c(t),n=d(i,e);s("Successfully parsed some EXIF tags"),r.success(n)},n)},n)},n)},n),r}}),this._testing={},this._testing.parseLittleEndian=h},qq.Identify=function(o,s){"use strict";function a(t,n){var i=!1,e=[].concat(t);return qq.each(e,function(t,e){if(0===n.indexOf(e))return!(i=!0)}),i}qq.extend(this,{isPreviewable:function(){var t=this,i=new qq.Promise,r=!1,e=void 0===o.name?"blob":o.name;return s(qq.format("Attempting to determine if {} can be rendered in this browser",e)),s("First pass: check type attribute of blob object."),this.isPreviewableSync()?(s("Second pass: check for magic bytes in file header."),qq.readBlobToHex(o,0,4).then(function(n){qq.each(t.PREVIEWABLE_MIME_TYPES,function(t,e){if(a(e,n))return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(r=!0,i.success(t)),!1}),s(qq.format("'{}' is {} able to be rendered in this browser",e,r?"":"NOT")),r||i.failure()},function(){s("Error reading file w/ name '"+e+"'.  Not able to be rendered in this browser."),i.failure()})):i.failure(),i},isPreviewableSync:function(){var t=o.type,e=0<=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),t),n=!1,i=void 0===o.name?"blob":o.name;return e&&(n="image/tiff"!==t||qq.supportedFeatures.tiffPreviews),!n&&s(i+" is not previewable in this browser per the blob's type attr"),n}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(i,r){"use strict";function t(t){var n=!1;return qq.each(t,function(t,e){if(0<e)return!(n=!0)}),n}function e(){var n=new qq.Promise;return new qq.Identify(i,r).isPreviewable().then(function(){var t=new Image,e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;e?(t.onerror=function(){r("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},t.onload=function(){n.success({width:this.width,height:this.height})},t.src=e.createObjectURL(i)):(r("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function o(t,o){var s;return qq.each(t,function(t,e){if(0<e){var n=/(max|min)(Width|Height)/.exec(t),i=n[2].charAt(0).toLowerCase()+n[2].slice(1),r=o[i];switch(n[1]){case"min":if(r<e)return s=t,!1;break;case"max":if(e<r)return s=t,!1}}}),s}this.validate=function(n){var i=new qq.Promise;return r("Attempting to validate image."),t(n)?e().then(function(t){var e=o(n,t);e?i.failure(e):i.success()},i.success):i.success(),i}},qq.Session=function(t){"use strict";function o(t){if(qq.isArray(t))return!0;s.log("Session response is not an array.","error")}function r(t,e,n,i){var r=!1;(e=e&&o(t))&&qq.each(t,function(t,e){if(null==e.uuid)r=!0,s.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",t),"error");else if(null==e.name)r=!0,s.log(qq.format("Session response item {} did not include a valid name - ignoring.",t),"error");else try{return s.addFileRecord(e),!0}catch(t){r=!0,s.log(t.message,"error")}return!1}),i[e&&!r?"success":"failure"](t,n)}var s={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(){},log:function(){}};qq.extend(s,t,!0),this.refresh=function(){var i=new qq.Promise,t=function(t,e,n){r(t,e,n,i)},e=qq.extend({},s);return new qq.SessionAjaxRequester(qq.extend(e,{onComplete:t})).queryServer(),i}},qq.SessionAjaxRequester=function(t){"use strict";function e(t,e,n){var i=null;if(null!=e.responseText)try{i=qq.parseJson(e.responseText)}catch(t){r.log("Problem parsing session response: "+t.message,"error"),n=!0}r.onComplete(i,!n,e)}var n,r={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(){},log:function(){}};qq.extend(r,t),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return r.endpoint}},customHeaders:r.customHeaders,log:r.log,onComplete:e,cors:r.cors})),qq.extend(this,{queryServer:function(){var t=qq.extend({},r.params);r.log("Session query request."),n.initTransport("sessionRefresh").withParams(t).withCacheBuster().send()}})},qq.Scaler=function(t,a){"use strict";var l=t.customResizer,n=t.sendOriginal,u=t.orient,c=t.defaultType,h=t.defaultQuality/100,d=t.failureText,f=t.includeExif,p=this._getSortedSizes(t.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&0<p.length,getFileRecords:function(t,i,e){var r=this,o=[],s=e.blob?e.blob:e;return new qq.Identify(s,a).isPreviewableSync()?(qq.each(p,function(t,e){var n=r._determineOutputType({defaultType:c,requestedType:e.type,refType:s.type});o.push({uuid:qq.getUniqueId(),name:r._getName(i,{name:e.name,type:n,refType:s.type}),blob:new qq.BlobProxy(s,qq.bind(r._generateScaledImage,r,{customResizeFunction:l,maxSize:e.maxSize,orient:u,type:n,quality:h,failedText:d,includeExif:f,log:a}))})}),o.push({uuid:t,name:i,size:s.size,blob:n?s:null})):o.push({uuid:t,name:i,size:s.size,blob:s}),o},handleNewFile:function(t,e,n,i,r,o,s,a){var l,u=this,c=(t.qqButtonId||t.blob&&t.blob.qqButtonId,[]),h=null,d=a.addFileToHandler,f=a.uploadData,p=a.paramsStore,g=qq.getUniqueId();qq.each(u.getFileRecords(n,e,t),function(t,e){var n,i=e.size;e.blob instanceof qq.BlobProxy&&(i=-1),n=f.addFile({uuid:e.uuid,name:e.name,size:i,batchId:o,proxyGroupId:g}),e.blob instanceof qq.BlobProxy?c.push(n):h=n,e.blob?(d(n,e.blob),r.push({id:n,file:e.blob})):f.setStatus(n,qq.status.REJECTED)}),null!==h&&(qq.each(c,function(t,e){var n={qqparentuuid:f.retrieve({id:h}).uuid,qqparentsize:f.retrieve({id:h}).size};n[s]=f.retrieve({id:e}).uuid,f.setParentId(e,h),p.addReadOnly(e,n)}),c.length&&((l={})[s]=f.retrieve({id:h}).uuid,p.addReadOnly(h,l)))}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var i=new qq.Promise,r=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),a=s&&s.name,l=s&&s.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(u,r);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=c.getFileRecords(l,a,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(i.success,i.failure):(r(e+" is not a scalable image!","error"),i.failure())},this)():(i.failure(),r("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),i},_determineOutputType:function(t){"use strict";var e=t.requestedType,n=t.defaultType,i=t.refType;return n||e?e&&0<=qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),e)?"image/tiff"===e?qq.supportedFeatures.tiffPreviews?e:n:e:n:"image/jpeg"!==i?"image/png":i},_getName:function(t,e){"use strict";var n=t.lastIndexOf("."),i=e.type||"image/png",r=e.refType,o="",s=qq.getExtension(t),a="";return e.name&&e.name.trim().length&&(a=" ("+e.name+")"),0<=n?(o=t.substr(0,n),r!==i&&(s=i.split("/")[1]),o+=a+"."+s):o=t+a,o},_getSortedSizes:function(t){"use strict";return(t=qq.extend([],t)).sort(function(t,e){return t.maxSize>e.maxSize?1:t.maxSize<e.maxSize?-1:0})},_generateScaledImage:function(t,i){"use strict";var r=this,e=t.customResizeFunction,o=t.log,n=t.maxSize,s=t.orient,a=t.type,l=t.quality,u=t.failedText,c=t.includeExif&&"image/jpeg"===i.type&&"image/jpeg"===a,h=new qq.Promise,d=new qq.ImageGenerator(o),f=document.createElement("canvas");return o("Attempting to generate scaled version for "+i.name),d.generate(i,f,{maxSize:n,orient:s,customResizeFunction:e}).then(function(){var e=f.toDataURL(a,l),n=function(){o("Success generating scaled version for "+i.name);var t=qq.dataUriToBlob(e);h.success(t)};c?r._insertExifHeader(i,e,o).then(function(t){e=t,n()},function(){o("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),n()}):n()},function(){o("Failed attempt to generate scaled version for "+i.name,"error"),h.failure(u)}),h},_insertExifHeader:function(t,e,n){"use strict";var i=new FileReader,r=new qq.Promise,o="";return i.onload=function(){o=i.result,r.success(qq.ExifRestorer.restore(o,e))},i.onerror=function(){n("Problem reading "+t.name+" during attempt to transfer EXIF data to scaled version.","error"),r.failure()},i.readAsDataURL(t),r},_dataUriToBlob:function(t){"use strict";var e,n,i,r;return e=0<=t.split(",")[0].indexOf("base64")?atob(t.split(",")[1]):decodeURI(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i),qq.each(e,function(t,e){r[t]=e.charCodeAt(0)}),this._createBlob(i,n)},_createBlob:function(t,e){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(t),i.getBlob(e)):new Blob([t],{type:e})}}),qq.ExifRestorer=(zca={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(t){for(var e,n,i,r,o,s="",a="",l="",u=0;i=(e=t[u++])>>2,r=(3&e)<<4|(n=t[u++])>>4,o=(15&n)<<2|(a=t[u++])>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),e=n=a="",i=r=o=l="",u<t.length;);return s},restore:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var n=this.decode64(t.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)},exifManipulation:function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},getExifArray:function(t){for(var e,n=0;n<t.length;n++)if(255==(e=t[n])[0]&225==e[1])return e;return[]},insertExif:function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return(a=a.concat(e)).concat(s)},slice2Segments:function(t){for(var e=0,n=[];!(255==t[e]&218==t[e+1]);){if(255==t[e]&216==t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n},decode64:function(t){var e,n,i,r,o="",s="",a=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(t))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(a++))<<2|(i=this.KEY_STR.indexOf(t.charAt(a++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(t.charAt(a++)))>>2,o=(3&r)<<6|(s=this.KEY_STR.indexOf(t.charAt(a++))),l.push(e),64!=r&&l.push(n),64!=s&&l.push(o),e=n=o="",i=r=s="",a<t.length;);return l}},zca),qq.TotalProgress=function(n,i){"use strict";var o={},s=0,a=0,r=-1,l=-1,u=function(t,e){t===r&&e===l||n(t,e),r=t,l=e},c=function(t,n){var i=!0;return qq.each(t,function(t,e){if(0<=qq.indexOf(n,e))return i=!1}),i},h=function(t){f(t,-1,-1),delete o[t]},t=function(t,e,n){(0===e.length||c(e,n))&&(u(a,a),this.reset())},d=function(t){var e=i(t);0<e&&(f(t,0,e),o[t]={loaded:0,total:e})},f=function(t,e,n){var i=o[t]?o[t].loaded:0,r=o[t]?o[t].total:0;-1===e&&-1===n?(s-=i,a-=r):(e&&(s+=e-i),n&&(a+=n-r)),u(s,a)};qq.extend(this,{onAllComplete:t,onStatusChange:function(t,e,n){n===qq.status.CANCELED||n===qq.status.REJECTED?h(t):n===qq.status.SUBMITTING&&d(t)},onIndividualProgress:function(t,e,n){f(t,e,n),o[t]={loaded:e,total:n}},onNewSize:function(t){d(t)},reset:function(){o={},a=s=0}})},qq.PasteSupport=function(t){"use strict";function i(t){return t.type&&0===t.type.indexOf("image/")}function e(){o=qq(r.targetElement).attach("paste",function(t){var e=t.clipboardData;e&&qq.each(e.items,function(t,e){if(i(e)){var n=e.getAsFile();r.callbacks.pasteReceived(n)}})})}function n(){o&&o()}var r,o;r={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}},qq.extend(r,t),e(),qq.extend(this,{reset:function(){n()}})},qq.FormSupport=function(t,i,n){"use strict";function e(t){t.getAttribute("action")&&(a.newEndpoint=t.getAttribute("action"))}function r(t,e){if(!t.checkValidity||t.checkValidity())return!0;n("Form did not pass validation checks - will not upload.","error"),e()}function o(e){var n=e.submit;qq(e).attach("submit",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,r(e,n)&&i()}),e.submit=function(){r(e,n)&&i()}}function s(t){return t&&(qq.isString(t)&&(t=document.getElementById(t)),t&&(n("Attaching to form element."),e(t),l&&o(t))),t}var a=this,l=t.interceptSubmit,u=t.element,c=t.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==u?null:a._form2Obj(u)}}),u=s(u),this.attachedToForm=!!u},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(t){"use strict";var i={},r=function(t){var e=["button","image","reset","submit"];return qq.indexOf(e,t.toLowerCase())<0},e=function(t){return 0<=qq.indexOf(["checkbox","radio"],t.toLowerCase())},o=function(t){return!(!e(t.type)||t.checked)||t.disabled&&"hidden"!==t.type.toLowerCase()},s=function(t){var n=null;return qq.each(qq(t).children(),function(t,e){if("option"===e.tagName.toLowerCase()&&e.selected)return n=e.value,!1}),n};return qq.each(t.elements,function(t,e){if(!qq.isInput(e,!0)&&"textarea"!==e.tagName.toLowerCase()||!r(e.type)||o(e)){if("select"===e.tagName.toLowerCase()&&!o(e)){var n=s(e);null!==n&&(i[e.name]=n)}}else i[e.name]=e.value}),i}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(s,t){"use strict";function o(t,e){var n,i,r;try{r=(i=e.contentDocument||e.contentWindow.document).body.innerHTML,h("converting iframe's innerHTML to JSON"),h("innerHTML = "+r),r&&r.match(/^<pre/i)&&(r=i.body.firstChild.firstChild.nodeValue),n=l._parseJsonResponse(r)}catch(t){h("Error when attempting to parse form upload response ("+t.message+")","error"),n={success:!1}}return n}function a(t,e){var n=s.paramsStore.get(t),i="get"===s.method.toLowerCase()?"GET":"POST",r=s.endpointStore.get(t),o=u(t);return n[s.uuidName]=c(t),n[s.filenameParam]=o,l._initFormForUpload({method:i,endpoint:r,params:n,paramsInBody:s.paramsInBody,targetName:e.name})}var l=this,u=t.getName,c=t.getUuid,h=t.log;this.uploadFile=function(n){var t,e=l.getInput(n),i=l._createIframe(n),r=new qq.Promise;return(t=a(n,i)).appendChild(e),l._attachLoadEvent(i,function(t){h("iframe loaded");var e=t||o(n,i);l._detachLoadEvent(n),s.cors.expected||qq(i).remove(),e.success?r.success(e):r.failure(e)}),h("Sending upload request for "+n),t.submit(),qq(t).remove(),r},qq.extend(this,new qq.FormUploadHandler({options:{isCors:s.cors.expected,inputName:s.inputName},proxy:{onCancel:s.onCancel,getName:u,getUuid:c,log:h}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(p,n){"use strict";var h=this,g=n.getName,m=n.getSize,v=n.getUuid,i=n.log,y=p.forceMultipart||p.paramsInBody,d=function(t,e,n){var i=m(t),r=g(t);p.omitDefaultParams||(e[p.chunking.paramNames.partIndex]=n.part,e[p.chunking.paramNames.partByteOffset]=n.start,e[p.chunking.paramNames.chunkSize]=n.size,e[p.chunking.paramNames.totalParts]=n.count,e[p.totalFileSizeName]=i),y&&!p.omitDefaultParams&&(e[p.filenameParam]=r)},r=new qq.traditional.AllChunksDoneAjaxRequester({cors:p.cors,endpoint:p.chunking.success.endpoint,headers:p.chunking.success.headers,jsonPayload:p.chunking.success.jsonPayload,log:i,method:p.chunking.success.method,params:p.chunking.success.params}),f=function(e,n){var i=new qq.Promise;return n.onreadystatechange=function(){if(4===n.readyState){var t=a(e,n);t.success?i.success(t.response,n):i.failure(t.response,n)}},i},o=function(t){var e=p.paramsStore.get(t),n=g(t),i=m(t);return e[p.uuidName]=v(t),e[p.filenameParam]=n,e[p.totalFileSizeName]=i,e[p.chunking.paramNames.totalParts]=h._getTotalChunks(t),e},s=function(t,e){return qq.indexOf([200,201,202,203,204],t.status)<0||p.requireSuccessJson&&!e.success||e.reset},a=function(t,e){var n;return i("xhr - server response received for "+t),i("responseText = "+e.responseText),n=l(!0,e),{success:!s(e,n),response:n}},l=function(t,e){var n={};try{i(qq.format("Received response status {} with body: {}",e.status,e.responseText)),n=qq.parseJson(e.responseText)}catch(e){t&&p.requireSuccessJson&&i("Error when attempting to parse xhr response text ("+e.message+")","error")}return n},u=function(t){var e=new qq.Promise;return r.complete(t,h._createXhr(t),o(t),p.customHeaders.get(t)).then(function(t){e.success(l(!1,t),t)},function(t){e.failure(l(!1,t),t)}),e},_=function(t){var e,n=t.fileOrBlob,i=t.id,r=t.xhr,o=t.xhrOverrides||{},s=t.customParams||{},a=t.params||{},l=o.params||{},u=y?new FormData:null,c=o.method||p.method,h=o.endpoint||p.endpointStore.get(i),d=g(i),f=m(i);return p.omitDefaultParams?(e=qq.extend({},s),qq.extend(e,l)):(e=qq.extend({},s),qq.extend(e,l),qq.extend(e,a),e[p.uuidName]=v(i),e[p.filenameParam]=d,y?e[p.totalFileSizeName]=f:p.paramsInBody||(e[p.inputName]=d)),p.paramsInBody||(h=qq.obj2url(e,h)),r.open(c,h,!0),p.cors.expected&&p.cors.sendCredentials&&(r.withCredentials=!0),y?(p.paramsInBody&&qq.obj2FormData(e,u),u.append(p.inputName,n),u):n},b=function(t){var e=t.headerOverrides,n=t.id,i=t.xhr;if(e)qq.each(e,function(t,e){i.setRequestHeader(t,e)});else{var r=p.customHeaders.get(n),o=h.getFile(n);i.setRequestHeader("Accept","application/json"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Cache-Control","no-cache"),y||(i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Mime-Type",o.type)),qq.each(r,function(t,e){i.setRequestHeader(t,e)})}};qq.extend(this,{uploadChunk:function(t){var e,n,i,r=t.id,o=t.chunkIdx,s=t.overrides||{},a=t.resuming,l=h._getChunkData(r,o),u=h._createXhr(r,o),c={};return e=f(r,u),h._registerProgressHandler(r,o,l.size),i=p.paramsStore.get(r),d(r,c,l),a&&(c[p.resume.paramNames.resuming]=!0),n=_({fileOrBlob:l.blob,id:r,customParams:i,params:c,xhr:u,xhrOverrides:s}),b({headerOverrides:s.headers,id:r,xhr:u}),u.send(n),e},uploadFile:function(t){var e,n,i,r,o=h.getFile(t);return n=h._createXhr(t),h._registerProgressHandler(t),e=f(t,n),i=p.paramsStore.get(t),r=_({fileOrBlob:o,id:t,customParams:i,xhr:n}),b({id:t,xhr:n}),n.send(r),e}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},p),proxy:qq.extend({getEndpoint:p.endpointStore.get},n)})),qq.override(this,function(e){return{finalizeChunks:function(t){return n.onFinalizing(t),p.chunking.success.endpoint?u(t):e.finalizeChunks(t,qq.bind(l,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(t){"use strict";var o,s={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(){},method:"POST"},a={},e={get:function(t){return qq.isFunction(s.endpoint)?s.endpoint(t):s.endpoint}};qq.extend(s,t),o=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",
contentType:s.jsonPayload?"application/json":"application/x-www-form-urlencoded",validMethods:[s.method],method:s.method,endpointStore:e,allowXRequestedWithAndCacheControl:!1,cors:s.cors,log:s.log,onComplete:function(t,e,n){var i=a[t];delete a[t],n?i.failure(e):i.success(e)}})),qq.extend(this,{complete:function(t,e,n,i){var r=new qq.Promise;return s.log("Submitting All Chunks Done request for "+t),a[t]=r,o.initTransport(t).withParams(s.params(t)||n).withHeaders(s.headers(t)||i).send(e),r}})},qq.DragAndDrop=function(t){"use strict";function i(t,e){var n=Array.prototype.slice.call(t);c.callbacks.dropLog("Grabbed "+t.length+" dropped files."),e.dropDisabled(!1),c.callbacks.processingDroppedFilesComplete(n,e.getElement())}function o(e){var i=new qq.Promise;return e.isFile?e.file(function(t){t.qqPath=n(e),d.push(t),i.success()},function(t){c.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+t.code+".","error"),i.failure()}):e.isDirectory&&s(e).then(function(t){var n=t.length;qq.each(t,function(t,e){o(e).done(function(){0===(n-=1)&&i.success()})}),t.length||i.success()},function(t){c.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+t.code+".","error"),i.failure()}),i}function n(t){var e=t.name,n=t.fullPath,i=n.lastIndexOf(e);return"/"===(n=n.substr(0,i)).charAt(0)&&(n=n.substr(1)),n}function s(n,t,i,e){var r=e||new qq.Promise,o=t||n.createReader();return o.readEntries(function(t){var e=i?i.concat(t):t;t.length?setTimeout(function(){s(n,o,e,r)},0):r.success(e)},r.failure),r}function r(t,e){var i=[],r=new qq.Promise;return c.callbacks.processingDroppedFiles(),e.dropDisabled(!0),1<t.files.length&&!c.allowMultipleItems?(c.callbacks.processingDroppedFilesComplete([]),c.callbacks.dropError("tooManyFilesError",""),e.dropDisabled(!1),r.failure()):(d=[],qq.isFolderDropSupported(t)?qq.each(t.items,function(t,e){var n=e.webkitGetAsEntry();n&&(n.isFile?d.push(e.getAsFile()):i.push(o(n).done(function(){i.pop(),0===i.length&&r.success()})))}):d=t.files,0===i.length&&r.success()),r}function a(e){var n=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:e,onEnter:function(t){qq(e).addClass(c.classes.dropActive),t.stopPropagation()},onLeaveNotDescendants:function(){qq(e).removeClass(c.classes.dropActive)},onDrop:function(t){r(t.dataTransfer,n).then(function(){i(d,n)},function(){c.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return f.addDisposer(function(){n.dispose()}),qq(e).hasAttribute("qq-hide-dropzone")&&qq(e).hide(),h.push(n),n}function l(t){var n;return qq.each(t.dataTransfer.types,function(t,e){if("Files"===e)return!(n=!0)}),n}function u(t){return qq.safari()?t.x<0||t.y<0:0===t.x&&0===t.y}function e(){var i=c.dropZoneElements,e=function(){setTimeout(function(){qq.each(i,function(t,e){qq(e).hasAttribute("qq-hide-dropzone")&&qq(e).hide(),qq(e).removeClass(c.classes.dropActive)})},10)};qq.each(i,function(t,e){var n=a(e);i.length&&qq.supportedFeatures.fileDrop&&f.attach(document,"dragenter",function(t){!n.dropDisabled()&&l(t)&&qq.each(i,function(t,e){e instanceof HTMLElement&&qq(e).hasAttribute("qq-hide-dropzone")&&qq(e).css({display:"block"})})})}),f.attach(document,"dragleave",function(t){u(t)&&e()}),f.attach(qq(document).children()[0],"mouseenter",function(){e()}),f.attach(document,"drop",function(t){l(t)&&(t.preventDefault(),e())}),f.attach(document,"qq-hidezones",e)}var c,h=[],d=[],f=new qq.DisposeSupport;c={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(c,t,!0),e(),qq.extend(this,{setupExtraDropzone:function(t){c.dropZoneElements.push(t),a(t)},removeDropzone:function(t){var e,n=c.dropZoneElements;for(e in n)if(n[e]===t)return n.splice(e,1)},dispose:function(){f.dispose(),qq.each(h,function(t,e){e.dispose()})}}),this._testing={},this._testing.extractDirectoryPath=n},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(t,e){qq.log("Drag & drop error code '"+t+" with these specifics: '"+e+"'","error")},dropLog:function(t,e){qq.log(t,e)}}},qq.UploadDropZone=function(t){"use strict";function e(){return qq.safari()||qq.firefox()&&qq.windows()}function n(){c||(e?h.attach(document,"dragover",function(t){t.preventDefault()}):h.attach(document,"dragover",function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none",t.preventDefault())}),c=!0)}function i(t){if(!qq.supportedFeatures.fileDrop)return!1;var e,n=t.dataTransfer,i=qq.safari();return e=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==n.effectAllowed,n&&e&&(n.files&&n.files.length||!i&&n.types.contains&&n.types.contains("Files")||n.types.includes&&n.types.includes("Files"))}function r(t){return void 0!==t&&(u=t),u}function o(){function t(){(e=document.createEvent("Event")).initEvent(a.HIDE_ZONES_EVENT_NAME,!0,!0)}var e;if(window.CustomEvent)try{e=new CustomEvent(a.HIDE_ZONES_EVENT_NAME)}catch(e){t()}else t();document.dispatchEvent(e)}function s(){h.attach(l,"dragover",function(t){if(i(t)){var e=qq.ie()&&qq.supportedFeatures.fileDrop?null:t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",t.stopPropagation(),t.preventDefault()}}),h.attach(l,"dragenter",function(t){if(!r()){if(!i(t))return;a.onEnter(t)}}),h.attach(l,"dragleave",function(t){if(i(t)){a.onLeave(t);var e=document.elementFromPoint(t.clientX,t.clientY);qq(this).contains(e)||a.onLeaveNotDescendants(t)}}),h.attach(l,"drop",function(t){if(!r()){if(!i(t))return;t.preventDefault(),t.stopPropagation(),a.onDrop(t),o()}})}var a,l,u,c,h=new qq.DisposeSupport;a={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(a,t),l=a.element,n(),s(),qq.extend(this,{dropDisabled:function(t){return r(t)},dispose:function(){h.dispose()},getElement:function(){return l}}),this._testing={},this._testing.isValidFileDrag=i},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(t){this._dnd&&this._dnd.setupExtraDropzone(t)},removeExtraDropzone:function(t){if(this._dnd)return this._dnd.removeDropzone(t)},getItemByFileId:function(t){if(!this._templating.isHiddenForever(t))return this._templating.getFileContainer(t)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(t,e){var n=this._options.formatFileName(e);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(t,n)},pauseUpload:function(t){var e=this._parent.prototype.pauseUpload.apply(this,arguments);return e&&this._templating.uploadPaused(t),e},continueUpload:function(t){var e=this._parent.prototype.continueUpload.apply(this,arguments);return e&&this._templating.uploadContinued(t),e},getId:function(t){return this._templating.getFileId(t)},getDropTarget:function(t){return this.getFile(t).qqDropTarget}},qq.uiPrivateApi={_getButton:function(t){var e=this._parent.prototype._getButton.apply(this,arguments);return e||t===this._defaultButtonId&&(e=this._templating.getButton()),e},_removeFileItem:function(t){this._templating.removeFile(t)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var i=this,t=this._options.dragAndDrop.extraDropzones,e=this._templating,n=e.getDropZone();return n&&t.push(n),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){e.showDropProcessing()},processingDroppedFilesComplete:function(t,n){e.hideDropProcessing(),qq.each(t,function(t,e){e.qqDropTarget=n}),t.length&&i.addFiles(t,null,null)},dropError:function(t,e){i._itemError(t,e)},dropLog:function(t,e){i.log(t,e)}}})},_bindFileButtonsClickEvent:function(){var n=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(t,e){n.log(t,e)},onDeleteFile:function(t){n.deleteFile(t)},onCancel:function(t){n.cancel(t)},onRetry:function(t){n.retry(t)},onPause:function(t){n.pauseUpload(t)},onContinue:function(t){n.continueUpload(t)},onGetName:function(t){return n.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var n=this,r=this._templating;return{templating:r,log:function(t,e){n.log(t,e)},onGetUploadStatus:function(t){return n.getUploads({id:t}).status},onGetName:function(t){return n.getName(t)},onSetName:function(t,e){n.setName(t,e)},onEditingStatusChange:function(t,e){var n=qq(r.getEditInput(t)),i=qq(r.getFileContainer(t));e?(n.addClass("qq-editing"),r.hideFilename(t),r.hideEditIcon(t)):(n.removeClass("qq-editing"),r.showFilename(t),r.showEditIcon(t)),i.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(t,e,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(t)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(t),this._templating.hideEditIcon(t)),e===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(t),this._templating.setStatusText(t),qq(this._templating.getFileContainer(t)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(t)},_bindFilenameInputFocusInEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(t)},_bindFilenameInputFocusEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(t)},_bindFilenameClickEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(t)},_storeForLater:function(t){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(t)},_onAllComplete:function(){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(t,e){var n=this.getFile(t);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(t,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(t,e)},_onSubmitted:function(t){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(t),this._templating.showEditIcon(t),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(t)))},_onProgress:function(t,e,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(t,n,i),0===i||100===Math.round(n/i*100)?(this._templating.hideCancel(t),this._templating.hidePause(t),this._templating.hideProgress(t),this._templating.setStatusText(t,this._options.text.waitingForResponse),this._displayFileSize(t)):this._displayFileSize(t,n,i)},_onTotalProgress:function(t,e){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(t,e)},_onComplete:function(e,t,n){function i(t){s&&(o.setStatusText(e),qq(s).removeClass(a._classes.retrying),o.hideProgress(e),a.getUploads({id:e}).status!==qq.status.UPLOAD_FAILED&&o.hideCancel(e),o.hideSpinner(e),t.success?a._markFileAsSuccessful(e):(qq(s).addClass(a._classes.fail),o.showCancel(e),o.isRetryPossible()&&!a._preventRetries[e]&&(qq(s).addClass(a._classes.retryable),o.showRetry(e)),a._controlFailureTextDisplay(e,t)))}var r=this._parent.prototype._onComplete.apply(this,arguments),o=this._templating,s=o.getFileContainer(e),a=this;return r instanceof qq.Promise?r.done(function(t){i(t)}):i(n),r},_markFileAsSuccessful:function(t){var e=this._templating;this._isDeletePossible()&&e.showDeleteButton(t),qq(e.getFileContainer(t)).addClass(this._classes.success),this._maybeUpdateThumbnail(t)},_onUploadPrep:function(t){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(t)},_onUpload:function(t){var e=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(t),e},_onUploadChunk:function(t,e){this._parent.prototype._onUploadChunk.apply(this,arguments),0<e.partIndex&&this._handler.isResumable(t)&&this._templating.allowPause(t)},_onCancel:function(t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(t),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(t){var e,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(t),this._options.retry.showAutoRetryNote&&(e=this._autoRetries[t],n=this._options.retry.maxAutoAttempts,i=(i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,e)).replace(/\{maxAuto\}/g,n),this._templating.setStatusText(t,i),qq(this._templating.getFileContainer(t)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(t){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(t),qq(this._templating.getFileContainer(t)).removeClass(this._classes.fail),this._templating.setStatusText(t),this._templating.showSpinner(t),this._showCancelLink(t),!0):(qq(this._templating.getFileContainer(t)).addClass(this._classes.retryable),this._templating.showRetry(t),!1)},_onSubmitDelete:function(t){var e=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,t,e)},_onSubmitDeleteSuccess:function(){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(t,e,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(t),n?(this._templating.setStatusText(t,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(t)):this._removeFileItem(t)},_sendDeleteRequest:function(t){this._templating.hideDeleteButton(t),this._templating.showSpinner(t),this._templating.setStatusText(t,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(t){var e,n=this.getName(t),i=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,n),r=(this.getUuid(t),arguments),o=this;e=this._options.showConfirm(i),qq.isGenericPromise(e)?e.then(function(){o._sendDeleteRequest.apply(o,r)}):!1!==e&&o._sendDeleteRequest.apply(o,r)},_addToList:function(t,e,n){var i,r,o=0,s=this._handler.isProxied(t)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(1<this._totalFilesInBatch&&0<this._filesInBatchAddedToUi&&(o=this._filesInBatchAddedToUi-1),i={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(r=this.getUploads({id:t}),this._handledProxyGroup=this._handledProxyGroup||r.proxyGroupId,r.proxyGroupId===this._handledProxyGroup&&r.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(t,this._options.formatFileName(e),i,s),this._templating.updateThumbnail(t,this._thumbnailUrls[t],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(t,this._options.formatFileName(e),i,s),this._templating.generatePreview(t,this.getFile(t),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(t)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(t,e,n){var i=this.getSize(t),r=this._formatSize(i);0<=i&&(void 0!==e&&void 0!==n&&(r=this._formatProgress(e,n)),this._templating.updateSize(t,r))},_formatProgress:function(t,e){function n(t,e){i=i.replace(t,e)}var i=this._options.text.formatProgress;return n("{percent}",Math.round(t/e*100)),n("{total_size}",this._formatSize(e)),i},_controlFailureTextDisplay:function(t,e){var n,i,r;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((r=e[i])||(r=this._options.text.failUpload),this._templating.setStatusText(t,r),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(t,r)):"default"===n?this._templating.setStatusText(t,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(t,e){this._templating.getFileContainer(t).title=e},_showCancelLink:function(t){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(t)},_itemError:function(){var t=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(t)},_batchError:function(t){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(t)},_setupPastePrompt:function(){var n=this;this._options.callbacks.onPasteReceived=function(){var t=n._options.paste.namePromptMessage,e=n._options.paste.defaultName;return n._options.showPrompt(t,e)}},_fileOrBlobRejected:function(){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(t){this._totalFilesInBatch=t.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(t){var e=this._thumbnailUrls[t];this.getUploads({id:t}).status===qq.status.DELETED||!e&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(t,e,this._options.thumbnails.customResizer)},_addCannedFile:function(){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(t,e){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(t,this._formatSize(e))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(t,e){"use strict";var n=this;this._parent=e?qq[e].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(t){if(n._templating.hasDialog("alert"))return n._templating.showDialog("alert",t);setTimeout(function(){window.alert(t)},0)},showConfirm:function(t){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",t):window.confirm(t)},showPrompt:function(t,e){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",t,e):window.prompt(t,e)}},!0),qq.extend(this._options,t,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(t){"use strict";var h,d,f,c,p,g,m,v,y={content:document.createDocumentFragment(),map:{}},_=!1,s=0,r=!1,o=[],b=-1,w={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},x={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},a={},l=new qq.Promise,S=new qq.Promise,e=function(){var t=w.placeholders.thumbnailNotAvailable,e=w.placeholders.waitingForThumbnail,n={maxSize:b,scale:v};m&&(t?w.imageGenerator.generate(t,new Image,n).then(function(t){l.success(t)},function(){l.failure(),h("Problem loading 'not available' placeholder image at "+t,"error")}):l.failure(),e?w.imageGenerator.generate(e,new Image,n).then(function(t){S.success(t)},function(){S.failure(),h("Problem loading 'waiting for thumbnail' placeholder image at "+e,"error")}):S.failure())},u=function(e){var n=new qq.Promise;return S.then(function(t){B(t,e),e.src?n.success():(e.src=t.src,e.onload=function(){e.onload=null,K(e),n.success()})},function(){j(e),n.success()}),n},q=function(t,e,n){var i=N(t);return h("Generating new thumbnail for "+t),e.qqThumbnailId=t,w.imageGenerator.generate(e,i,n).then(function(){s++,K(i),a[t].success()},function(){a[t].failure(),w.placeholders.waitUntilUpdate||H(t,i)})},C=function(){if(o.length){r=!0;var t=o.shift();t.update?$(t):V(t)}else r=!1},n=function(t){return O(L(t),x.cancel)},E=function(t){return O(L(t),x.continueButton)},k=function(t){return O(p,x[t+"Dialog"])},T=function(t){return O(L(t),x.deleteButton)},i=function(){return O(p,x.dropProcessing)},D=function(t){return O(L(t),x.editNameIcon)},L=function(t){return y.map[t]||qq(g).getFirstByClass("qq-file-id-"+t)},I=function(t){return O(L(t),x.file)},A=function(t){return O(L(t),x.pause)},F=function(t){return null==t?O(p,x.totalProgressBarContainer)||O(p,x.totalProgressBar):O(L(t),x.progressBarContainer)||O(L(t),x.progressBar)},R=function(t){return O(L(t),x.retry)},M=function(t){return O(L(t),x.size)},P=function(t){return O(L(t),x.spinner)},O=function(t,e){return t&&qq(t).getFirstByClass(e)},N=function(t){return m&&O(L(t),x.thumbnail)},j=function(t){t&&qq(t).addClass(w.classes.hide)},B=function(t,e){var n=t.style.maxWidth,i=t.style.maxHeight;i&&n&&!e.style.maxWidth&&!e.style.maxHeight&&qq(e).css({maxWidth:n,maxHeight:i})},H=function(t,e){var n=a[t]||(new qq.Promise).failure(),i=new qq.Promise;return l.then(function(t){n.then(function(){i.success()},function(){B(t,e),e.onload=function(){e.onload=null,i.success()},e.src=t.src,K(e)})}),i},z=function(){var t,e,n,i,r,o,s,a,l,u,c;if(h("Parsing template"),null==w.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(w.templateIdOrEl)){if(null===(t=document.getElementById(w.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",w.templateIdOrEl));e=t.innerHTML}else{if(void 0===w.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");e=w.templateIdOrEl.innerHTML}if(e=qq.trimStr(e),(i=document.createElement("div")).appendChild(qq.toElement(e)),c=qq(i).getFirstByClass(x.uploader),w.button&&((o=qq(i).getFirstByClass(x.button))&&qq(o).remove()),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(l=qq(i).getFirstByClass(x.dropProcessing))&&qq(l).remove(),(s=qq(i).getFirstByClass(x.drop))&&!qq.DragAndDrop&&(h("DnD module unavailable.","info"),qq(s).remove()),qq.supportedFeatures.fileDrop?qq(c).hasAttribute("qq-drop-area-text")&&s&&((u=qq(s).getFirstByClass(x.dropText))&&qq(u).remove()):(c.removeAttribute("qq-drop-area-text"),s&&qq(s).hasAttribute("qq-hide-dropzone")&&qq(s).css({display:"none"})),a=qq(i).getFirstByClass(x.thumbnail),m?a&&(b=0<(b=parseInt(a.getAttribute("qq-max-size")))?b:null,v=qq(a).hasAttribute("qq-server-scale")):a&&qq(a).remove(),m=m&&a,d=0<qq(i).getByClass(x.editFilenameInput).length,f=0<qq(i).getByClass(x.retry).length,null==(n=qq(i).getFirstByClass(x.list)))throw new Error("Could not find the file list container in the template!");return r=n.children[0].cloneNode(!0),n.innerHTML="",i.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),h("Template parsing complete"),{template:i,fileTemplate:r}},W=function(t,e,n){var i=n,r=i.firstChild;0<e&&(r=qq(i).children()[e].nextSibling),i.insertBefore(t,r)},V=function(t){var e=t.id,n=t.optFileOrBlob,i=n&&n.qqThumbnailId,r=N(e),o={customResizeFunction:t.customResizeFunction,maxSize:b,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?r?w.limits.maxThumbs&&w.limits.maxThumbs<=s?(H(e,r),C()):u(r).done(function(){a[e]=new qq.Promise,a[e].done(function(){setTimeout(C,w.limits.timeBetweenThumbs)}),null!=i?G(e,i):q(e,n,o)}):C():r&&(u(r),C())},$=function(t){var e=t.id,n=t.thumbnailUrl,i=t.showWaitingImg,r=N(e),o={customResizeFunction:t.customResizeFunction,scale:v,maxSize:b};if(r)if(n){if(!(w.limits.maxThumbs&&w.limits.maxThumbs<=s))return i&&u(r),w.imageGenerator.generate(n,r,o).then(function(){K(r),s++,setTimeout(C,w.limits.timeBetweenThumbs)},function(){H(e,r),setTimeout(C,w.limits.timeBetweenThumbs)});H(e,r),C()}else H(e,r),C()},U=function(t,e){var n=F(t),i=null==t?x.totalProgressBar:x.progressBar;n&&!qq(n).hasClass(i)&&(n=qq(n).getFirstByClass(i)),n&&(qq(n).css({width:e+"%"}),n.setAttribute("aria-valuenow",e))},K=function(t){t&&qq(t).removeClass(w.classes.hide)},G=function(t,e){var n=N(t),i=N(e);h(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",t,e,e)),a[e].then(function(){s++,a[t].success(),h(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",e,t)),n.src=i.src,K(n)},function(){a[t].failure(),w.placeholders.waitUntilUpdate||H(t,n)})};qq.extend(w,t),h=w.log,qq.supportedFeatures.imagePreviews||(w.limits.timeBetweenThumbs=0,w.limits.maxThumbs=0),p=w.containerEl,m=void 0!==w.imageGenerator,c=z(),e(),qq.extend(this,{render:function(){h("Rendering template in DOM."),s=0,p.appendChild(c.template.cloneNode(!0)),j(i()),this.hideTotalProgress(),g=w.fileContainerEl||O(p,x.list),h("Template rendering complete")},renderFailure:function(t){var e=qq.toElement(t);p.innerHTML="",p.appendChild(e)},reset:function(){p.innerHTML="",this.render()},clearFiles:function(){g.innerHTML=""},disableCancel:function(){_=!0},addFile:function(t,e,n,i,r){var o,s=c.fileTemplate.cloneNode(!0),a=O(s,x.file),l=O(p,x.uploader),u=r?y.content:g;r&&(y.map[t]=s),qq(s).addClass("qq-file-id-"+t),l.removeAttribute("qq-drop-area-text"),a&&(qq(a).setText(e),a.setAttribute("title",e)),s.setAttribute("qq-file-id",t),n?W(s,n.index,u):u.appendChild(s),i?(s.style.display="none",qq(s).addClass("qq-hidden-forever")):(j(F(t)),j(M(t)),j(T(t)),j(R(t)),j(A(t)),j(E(t)),_&&this.hideCancel(t),(o=N(t))&&!o.src&&S.then(function(t){o.src=t.src,t.style.maxHeight&&t.style.maxWidth&&qq(o).css({maxHeight:t.style.maxHeight,maxWidth:t.style.maxWidth}),K(o)}))},addFileToCache:function(t,e,n,i){this.addFile(t,e,n,i,!0)},addCacheToDom:function(){g.appendChild(y.content),y.content=document.createDocumentFragment(),y.map={}},removeFile:function(t){qq(L(t)).remove()},getFileId:function(t){var e=t;if(e){for(;null==e.getAttribute("qq-file-id");)e=e.parentNode;return parseInt(e.getAttribute("qq-file-id"))}},getFileList:function(){return g},markFilenameEditable:function(t){var e=I(t);e&&qq(e).addClass(w.classes.editable)},updateFilename:function(t,e){var n=I(t);n&&(qq(n).setText(e),n.setAttribute("title",e))},hideFilename:function(t){j(I(t))},showFilename:function(t){K(I(t))},isFileName:function(t){return qq(t).hasClass(x.file)},getButton:function(){return w.button||O(p,x.button)},hideDropProcessing:function(){j(i())},showDropProcessing:function(){K(i())},getDropZone:function(){return O(p,x.drop)},isEditFilenamePossible:function(){return d},hideRetry:function(t){j(R(t))},isRetryPossible:function(){return f},showRetry:function(t){K(R(t))},getFileContainer:function(t){return L(t)},showEditIcon:function(t){var e=D(t);e&&qq(e).addClass(w.classes.editable)},isHiddenForever:function(t){return qq(L(t)).hasClass("qq-hidden-forever")},hideEditIcon:function(t){var e=D(t);e&&qq(e).removeClass(w.classes.editable)},isEditIcon:function(t){return qq(t).hasClass(x.editNameIcon,!0)},getEditInput:function(t){return O(L(t),x.editFilenameInput)},isEditInput:function(t){return qq(t).hasClass(x.editFilenameInput,!0)},updateProgress:function(t,e,n){var i,r=F(t);r&&0<n&&(100===(i=Math.round(e/n*100))?j(r):K(r),U(t,i))},updateTotalProgress:function(t,e){this.updateProgress(null,t,e)},hideProgress:function(t){var e=F(t);e&&j(e)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(t){U(t,0),
this.hideTotalProgress(t)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(t){if(!_){var e=n(t);e&&qq(e).removeClass(w.classes.hide)}},hideCancel:function(t){j(n(t))},isCancel:function(t){return qq(t).hasClass(x.cancel,!0)},allowPause:function(t){K(A(t)),j(E(t))},uploadPaused:function(t){this.setStatusText(t,w.text.paused),this.allowContinueButton(t),j(P(t))},hidePause:function(t){j(A(t))},isPause:function(t){return qq(t).hasClass(x.pause,!0)},isContinueButton:function(t){return qq(t).hasClass(x.continueButton,!0)},allowContinueButton:function(t){K(E(t)),j(A(t))},uploadContinued:function(t){this.setStatusText(t,""),this.allowPause(t),K(P(t))},showDeleteButton:function(t){K(T(t))},hideDeleteButton:function(t){j(T(t))},isDeleteButton:function(t){return qq(t).hasClass(x.deleteButton,!0)},isRetry:function(t){return qq(t).hasClass(x.retry,!0)},updateSize:function(t,e){var n=M(t);n&&(K(n),qq(n).setText(e))},setStatusText:function(t,e){var n=O(L(t),x.statusText);n&&(null==e?qq(n).clearText():qq(n).setText(e))},hideSpinner:function(t){qq(L(t)).removeClass("qq-in-progress"),j(P(t))},showSpinner:function(t){qq(L(t)).addClass("qq-in-progress"),K(P(t))},generatePreview:function(t,e,n){this.isHiddenForever(t)||(o.push({id:t,customResizeFunction:n,optFileOrBlob:e}),!r&&C())},updateThumbnail:function(t,e,n,i){this.isHiddenForever(t)||(o.push({customResizeFunction:i,update:!0,id:t,thumbnailUrl:e,showWaitingImg:n}),!r&&C())},hasDialog:function(t){return qq.supportedFeatures.dialogElement&&!!k(t)},showDialog:function(t,e,n){var i=k(t),r=O(i,x.dialogMessage),o=i.getElementsByTagName("INPUT")[0],s=O(i,x.dialogCancelButton),a=O(i,x.dialogOkButton),l=new qq.Promise,u=function(){s.removeEventListener("click",c),a&&a.removeEventListener("click",h),l.failure()},c=function(){s.removeEventListener("click",c),i.close()},h=function(){i.removeEventListener("close",u),a.removeEventListener("click",h),i.close(),l.success(o&&o.value)};return i.addEventListener("close",u),s.addEventListener("click",c),a&&a.addEventListener("click",h),o&&(o.value=n),r.textContent=e,i.showModal(),l}})},qq.UiEventHandler=function(t,e){"use strict";function n(t){i.attach(t,r.eventType,function(t){var e=(t=t||window.event).target||t.srcElement;r.onHandled(e,t)})}var i=new qq.DisposeSupport,r={eventType:"click",attachTo:null,onHandled:function(){}};qq.extend(this,{addHandler:function(t){n(t)},dispose:function(){i.dispose()}}),qq.extend(e,{getFileIdFromItem:function(t){return t.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(r,t),r.attachTo&&n(r.attachTo)},qq.FileButtonsClickHandler=function(t){"use strict";function e(r,o){qq.each(i,function(t,e){var n,i=t.charAt(0).toUpperCase()+t.slice(1);if(s.templating["is"+i](r))return n=s.templating.getFileId(r),qq.preventDefault(o),s.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",s.onGetName(n),n)),e(n),!1})}var n={},s={templating:null,log:function(){},onDeleteFile:function(){},onCancel:function(){},onRetry:function(){},onPause:function(){},onContinue:function(){},onGetName:function(){}},i={cancel:function(t){s.onCancel(t)},retry:function(t){s.onRetry(t)},deleteButton:function(t){s.onDeleteFile(t)},pause:function(t){s.onPause(t)},continueButton:function(t){s.onContinue(t)}};qq.extend(s,t),s.eventType="click",s.onHandled=e,s.attachTo=s.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(s,n))},qq.FilenameClickHandler=function(t){"use strict";function e(t,e){if(r.templating.isFileName(t)||r.templating.isEditIcon(t)){var n=r.templating.getFileId(t);r.onGetUploadStatus(n)===qq.status.SUBMITTED&&(r.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",r.onGetName(n),n)),qq.preventDefault(e),i.handleFilenameEdit(n,t,!0))}}var i={},r={templating:null,log:function(){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(){},onGetName:function(){}};qq.extend(r,t),r.eventType="click",r.onHandled=e,qq.extend(this,new qq.FilenameEditHandler(r,i))},qq.FilenameInputFocusInHandler=function(t,n){"use strict";function e(t){if(i.templating.isEditInput(t)){var e=i.templating.getFileId(t);i.onGetUploadStatus(e)===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",i.onGetName(e),e)),n.handleFilenameEdit(e,t))}}var i={templating:null,onGetUploadStatus:function(){},log:function(){}};n||(n={}),i.eventType="focusin",i.onHandled=e,qq.extend(i,t),qq.extend(this,new qq.FilenameEditHandler(i,n))},qq.FilenameInputFocusHandler=function(t){"use strict";t.eventType="focus",t.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(t,{}))},qq.FilenameEditHandler=function(t,i){"use strict";function r(t){var e=u.onGetName(t),n=e.lastIndexOf(".");return 0<n&&(e=e.substr(0,n)),e}function o(t){var e=u.onGetName(t);return qq.getExtension(e)}function s(t,e){var n,i=t.value;void 0!==i&&0<qq.trimStr(i).length&&(void 0!==(n=o(e))&&(i=i+"."+n),u.onSetName(e,i)),u.onEditingStatusChange(e,!1)}function a(t,e){i.getDisposeSupport().attach(t,"blur",function(){s(t,e)})}function l(e,n){i.getDisposeSupport().attach(e,"keyup",function(t){13===(t.keyCode||t.which)&&s(e,n)})}var u={templating:null,log:function(){},onGetUploadStatus:function(){},onGetName:function(){},onSetName:function(){},onEditingStatusChange:function(){}};qq.extend(u,t),u.attachTo=u.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(u,i)),qq.extend(i,{handleFilenameEdit:function(t,e,n){var i=u.templating.getEditInput(t);u.onEditingStatusChange(t,!0),i.value=r(t),n&&i.focus(),a(i,t),l(i,t)}})}}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(u){u.extend(u.fn,{validate:function(t){if(this.length){var n=u.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new u.validator(t,this[0]),u.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),u(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==u(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function t(){var t;return!n.settings.submitHandler||(n.submitButton&&(t=u("<input type='hidden'/>").attr("name",n.submitButton.name).val(u(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&t.remove(),!1)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,t()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):t():(n.focusInvalid(),!1)})),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e;return u(this[0]).is("form")?t=this.validate().form():(t=!0,e=u(this[0].form).validate(),this.each(function(){t=e.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return u.each(t.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(t,e){var n,i,r,o,s,a,l=this[0];if(t)switch(n=u.data(l.form,"validator").settings,i=n.rules,r=u.validator.staticRules(l),t){case"add":u.extend(r,u.validator.normalizeRule(e)),delete r.messages,i[l.name]=r,e.messages&&(n.messages[l.name]=u.extend(n.messages[l.name],e.messages));break;case"remove":return e?(a={},u.each(e.split(/\s/),function(t,e){a[e]=r[e],delete r[e],"required"===e&&u(l).removeAttr("aria-required")}),a):(delete i[l.name],r)}return(o=u.validator.normalizeRules(u.extend({},u.validator.classRules(l),u.validator.attributeRules(l),u.validator.dataRules(l),u.validator.staticRules(l)),l)).required&&(s=o.required,delete o.required,o=u.extend({required:s},o),u(l).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=u.extend(o,{remote:s})),o}}),u.extend(u.expr[":"],{blank:function(t){return!u.trim(""+u(t).val())},filled:function(t){return!!u.trim(""+u(t).val())},unchecked:function(t){return!u(t).prop("checked")}}),u.validator=function(t,e){this.settings=u.extend(!0,{},u.validator.defaults,t),this.currentForm=e,this.init()},u.validator.format=function(n,t){return 1===arguments.length?function(){var t=u.makeArray(arguments);return t.unshift(n),u.validator.format.apply(this,t)}:(2<arguments.length&&t.constructor!==Array&&(t=u.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),u.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})}),n)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(n):u(t).addClass(e).removeClass(n)},unhighlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(n):u(t).removeClass(e).addClass(n)}},setDefaults:function(t){u.extend(u.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e=u.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,""),i=e.settings;i[n]&&!this.is(i.ignore)&&i[n].call(e,this[0],t)}this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};u.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),u.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,u.each(n,function(t,e){n[t]=u.validator.normalizeRule(e)}),u(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&u(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),u(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e=this.clean(t),n=this.validationTargetFor(e),i=!0;return void 0===(this.lastElement=n)?delete this.invalid[e.name]:(this.prepareElement(n),this.currentElements=u(n),(i=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),u(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){for(var t in u.extend(this.errorMap,e),this.errorList=[],e)this.errorList.push({message:e[t],element:this.findByName(t)[0]});this.successList=u.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(i){}},findLastActive:function(){var e=this.lastActive;return e&&1===u.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var t=this,e={};return u(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in e||!t.objectLength(u(this).rules()))&&(e[this.name]=!0)})},clean:function(t){return u(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([]),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,n=u(t),i=t.type;return"radio"===i||"checkbox"===i?u("input[name='"+t.name+"']:checked").val():"number"===i&&"undefined"!=typeof t.validity?!t.validity.badInput&&n.val():"string"==typeof(e=n.val())?e.replace(/\r/g,""):e},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,i,r=u(t).rules(),o=u.map(r,function(t,e){return e}).length,s=!1,a=this.elementValue(t);for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(e=u.validator.methods[n].call(this,a,t,i.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,i),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",l),l}}if(!s)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,e){return u(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||u(t).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){return this.findDefined(this.customMessage(t.name,e),this.customDataMessage(t,e),!this.settings.ignoreTitle&&t.title||void 0,u.validator.messages[e],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=u.validator.format(n.replace(i,"{$1}"),e.parameters)),this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,r,o=this.errorsFor(t),s=this.idOrName(t),a=u(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(e)):(n=o=u("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,u(t)):n.insertAfter(t),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+s+"']").length&&(r=o.attr("id"),a?a.match(new RegExp("\b"+r+"\b"))||(a+=" "+r):a=r,u(t).attr("aria-describedby",a),(i=this.groups[t.name])&&u.each(this.groups,function(t,e){e===i&&u("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!e&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var e=this.idOrName(t),n=u(t).attr("aria-describedby"),i="label[for='"+e+"'], label[for='"+e+"'] *";return n&&(i=i+", #"+n.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return u(this.currentForm).find("[name='"+t+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return u("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(t,e){return!!u(t,e.form).length},"function":function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!u.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(u(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return u.data(t,"previousValue")||u.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:u.extend(this.classRuleSettings,t)},classRules:function(t){var e={},n=u(t).attr("class");return n&&u.each(n.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(e,u.validator.classRuleSettings[this])}),e},attributeRules:function(t){var e,n,i={},r=u(t),o=t.getAttribute("type");for(e in u.validator.methods)"required"===e?(""===(n=t.getAttribute(e))&&(n=!0),n=!!n):n=r.attr(e),/min|max/.test(e)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?i[e]=n:o===e&&"range"!==o&&(i[e]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},r=u(t);for(e in u.validator.methods)void 0!==(n=r.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(i[e]=n);return i},staticRules:function(t){var e={},n=u.data(t.form,"validator");return n.settings.rules&&(e=u.validator.normalizeRule(n.settings.rules[t.name])||{}),e},normalizeRules:function(i,r){return u.each(i,function(t,e){if(!1!==e){if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!u(e.depends,r.form).length;break;case"function":n=e.depends.call(r,r)}n?i[t]=void 0===e.param||e.param:delete i[t]}}else delete i[t]}),u.each(i,function(t,e){i[t]=u.isFunction(e)?e(r):e}),u.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),u.each(["rangelength","range"],function(){var t;i[this]&&(u.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),u.validator.autoCreateRanges&&(i.min&&i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),i.minlength&&i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){if("string"==typeof t){var e={};u.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,n){u.validator.methods[t]=e,u.validator.messages[t]=void 0!==n?n:u.validator.messages[t],e.length<3&&u.validator.addClassRules(t,u.validator.normalizeRule(t))},methods:{required:function(t,e,n){if(!this.depend(n,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):0<u.trim(t).length;var i=u(e).val();return i&&0<i.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,s=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(n=t.length-1;0<=n;n--)i=t.charAt(n),o=parseInt(i,10),s&&9<(o*=2)&&(o-=9),r+=o,s=!s;return r%10==0},minlength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(u.trim(t),e);return this.optional(e)||n<=i},maxlength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(u.trim(t),e);return this.optional(e)||i<=n},rangelength:function(t,e,n){var i=u.isArray(t)?t.length:this.getLength(u.trim(t),e);return this.optional(e)||i>=n[0]&&i<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(t,e,n){var i=u(n);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){u(e).valid()}),t===i.val()},remote:function(o,s,t){if(this.optional(s))return"dependency-mismatch";var a,e,l=this.previousValue(s);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),l.originalMessage=this.settings.messages[s.name].remote,this.settings.messages[s.name].remote=l.message,t="string"==typeof t&&{url:t}||t,l.old===o?l.valid:(l.old=o,(a=this).startRequest(s),(e={})[s.name]=o,u.ajax(u.extend(!0,{url:t,mode:"abort",port:"validate"+s.name,dataType:"json",data:e,context:a.currentForm,success:function(t){var e,n,i,r=!0===t||"true"===t;a.settings.messages[s.name].remote=l.originalMessage,r?(i=a.formSubmitted,a.prepareElement(s),a.formSubmitted=i,a.successList.push(s),delete a.invalid[s.name],a.showErrors()):(e={},n=t||a.defaultMessage(s,"remote"),e[s.name]=l.message=u.isFunction(n)?n(o):n,a.invalid[s.name]=!0,a.showErrors(e)),l.valid=r,a.stopRequest(s,r)}},t)),"pending")}}}),u.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var i,r={};u.ajaxPrefilter?u.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(i=u.ajax,u.ajax=function(t){var e=("mode"in t?t:u.ajaxSettings).mode,n=("port"in t?t:u.ajaxSettings).port;return"abort"===e?(r[n]&&r[n].abort(),r[n]=i.apply(this,arguments),r[n]):i.apply(this,arguments)}),u.extend(u.fn,{validateDelegate:function(n,t,i){return this.bind(t,function(t){var e=u(t.target);return e.is(n)?i.apply(e,arguments):void 0})}})});var _get=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();window.cash=function(){function o(t,e){return e=e||S,A.test(t)?e.getElementsByClassName(t.slice(1)):R.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}function s(t){if(!x){var e=(x=S.implementation.createHTMLDocument(null)).createElement("base");e.href=S.location.href,x.head.appendChild(e)}return x.body.innerHTML=t,x.body.childNodes}function u(t){"loading"!==S.readyState?t():S.addEventListener("DOMContentLoaded",t)}function n(t,e){if(!t)return this;if(t.cash&&t!==q)return t;var n,i=t,r=0;if(L(t))i=I.test(t)?S.getElementById(t.slice(1)):F.test(t)?s(t):o(t,e);else if(D(t))return u(t),this;if(!i)return this;if(i.nodeType||i===q)this[0]=i,this.length=1;else for(n=this.length=i.length;r<n;r++)this[r]=i[r];return this}function a(t,e){return new n(t,e)}function l(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function r(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function t(e){return L(e)?r:e.cash?function(t){return e.is(t)}:function(t,e){return t===e}}function c(t){return a(C.call(t).filter(function(t,e,n){return n.indexOf(t)===e}))}function h(t){return t[P]=t[P]||{}}function d(t,e,n){return h(t)[e]=n}function f(t,e){var n=h(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:a(t).attr("data-"+e)),n[e]}function p(t){return L(t)&&t.match(O)}function g(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function m(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function v(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function i(t,e){return parseInt(q.getComputedStyle(t[0],null)[e],10)||0}function y(e,n,t){var i,r=f(e,"_cashEvents"),o=r&&r[n];o&&(t?(e.removeEventListener(n,t),0<=(i=o.indexOf(t))&&o.splice(i,1)):(l(o,function(t){e.removeEventListener(n,t)}),o=[]))}function _(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function b(t){var e,n,i,r=t.type;if(!r)return null;switch(r.toLowerCase()){case"select-one":return 0<=(i=(n=t).selectedIndex)?n.options[i].value:null;case"select-multiple":return e=[],l(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null;case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function w(e,n,i){var t=L(n);t||!n.length?l(e,t?function(t){return t.insertAdjacentHTML(i?"afterbegin":"beforeend",n)}:function(t,e){return function(t,e){if(i){var n=t.childNodes[0];t.insertBefore(e,n)}else t.appendChild(e)}(t,0===e?n:n.cloneNode(!0))}):l(n,function(t){return w(e,t,i)})}var x,S=document,q=window,e=Array.prototype,C=e.slice,E=e.filter,k=e.push,T=function(){},D=function(t){return typeof t==typeof T&&t.call},L=function(t){return"string"==typeof t},I=/^#[\w-]*$/,A=/^\.[\w-]*$/,F=/<.+>/,R=/^\w+$/,M=a.fn=a.prototype=n.prototype={cash:!0,length:0,push:k,splice:e.splice,map:e.map,init:n};Object.defineProperty(M,"constructor",{value:a}),a.parseHTML=s,a.noop=T,a.isFunction=D,a.isString=L,a.extend=M.extend=function(t){t=t||{};var e=C.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var r in e[i])e[i].hasOwnProperty(r)&&(t[r]=e[i][r]);return t},a.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:l,matches:r,unique:c,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var P=a.uid="_cash"+Date.now();M.extend({data:function(e,n){if(L(e))return void 0===n?f(this[0],e):this.each(function(t){return d(t,e,n)});for(var t in e)this.data(t,e[t]);return this},removeData:function(r){return this.each(function(t){return n=r,void((i=h(e=t))?delete i[n]:e.dataset?delete e.dataset[n]:a(e).removeAttr("data-"+name));var e,n,i})}});var O=/\S+/g;M.extend({addClass:function(t){var i=p(t);return i?this.each(function(e){var n=" "+e.className+" ";l(i,function(t){m(e,t,n)})}):this},attr:function(e,n){if(e){if(L(e))return void 0===n?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each(function(t){t.setAttribute?t.setAttribute(e,n):t[e]=n});for(var t in e)this.attr(t,e[t]);return this}},hasClass:function(t){var e=!1,n=p(t);return n&&n.length&&this.each(function(t){return!(e=g(t,n[0]))}),e},prop:function(e,n){if(L(e))return void 0===n?this[0][e]:this.each(function(t){t[e]=n});for(var t in e)this.prop(t,e[t]);return this},removeAttr:function(e){return this.each(function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]})},removeClass:function(t){if(!arguments.length)return this.attr("class","");var n=p(t);return n?this.each(function(e){l(n,function(t){v(e,t)})}):this},removeProp:function(e){return this.each(function(t){delete t[e]})},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var i=p(t);return i?this.each(function(e){var n=" "+e.className+" ";l(i,function(t){g(e,t)?v(e,t):m(e,t,n)})}):this}}),M.extend({add:function(t,e){return c(a.merge(this,a(t,e)))},each:function(t){return l(this,t),this},eq:function(t){return a(this.get(t))},filter:function(e){if(!e)return this;var n=D(e)?e:t(e);return a(E.call(this,function(t){return n(t,e)}))},first:function(){return this.eq(0)},get:function(t){return void 0===t?C.call(this
):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?a(t)[0]:this[0],n=t?this:a(e).parent().children();return C.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var N,j,B,H,z,W=(H=/(?:^\w|[A-Z]|\b\w)/g,z=/[\s-_]+/g,function(t){return t.replace(H,function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()}).replace(z,"")}),V=(N={},j=document.createElement("div"),B=j.style,function(e){if(e=W(e),N[e])return N[e];var t=e.charAt(0).toUpperCase()+e.slice(1);return l((e+" "+["webkit","moz","ms","o"].join(t+" ")+t).split(" "),function(t){if(t in B)return N[t]=e=N[e]=t,!1}),N[e]});a.prefixedProp=V,a.camelCase=W,M.extend({css:function(e,n){if(L(e))return e=V(e),1<arguments.length?this.each(function(t){return t.style[e]=n}):q.getComputedStyle(this[0])[e];for(var t in e)this.css(t,e[t]);return this}}),l(["Width","Height"],function(e){var t=e.toLowerCase();M[t]=function(){return this[0].getBoundingClientRect()[t]},M["inner"+e]=function(){return this[0]["client"+e]},M["outer"+e]=function(t){return this[0]["offset"+e]+(t?i(this,"margin"+("Width"===e?"Left":"Top"))+i(this,"margin"+("Width"===e?"Right":"Bottom")):0)}}),M.extend({off:function(e,n){return this.each(function(t){return y(t,e,n)})},on:function(s,n,a,l){var i;if(L(s))return D(n)&&(a=n,n=null),"ready"===s?(u(a),this):(n&&(i=a,a=function(t){for(var e=t.target;!r(e,n);){if(e===this||null===e)return!1;e=e.parentNode}e&&i.call(e,t)}),this.each(function(t){var e,n,i,r,o=a;l&&(o=function(){a.apply(this,arguments),y(t,s,o)}),n=s,i=o,(r=f(e=t,"_cashEvents")||d(e,"_cashEvents",{}))[n]=r[n]||[],r[n].push(i),e.addEventListener(n,i)}));for(var t in s)this.on(t,n,s[t]);return this},one:function(t,e,n){return this.on(t,e,n,!0)},ready:u,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each(function(t){return t.dispatchEvent(n)})}}}),M.extend({serialize:function(){var r="";return l(this[0].elements||this,function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var e=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=b(t);null!==n&&l(n,function(t){r+=_(e,t)});break;default:var i=b(t);null!==i&&(r+=_(e,i))}}}),r.substr(1)},val:function(e){return void 0===e?b(this[0]):this.each(function(t){return t.value=e})}}),M.extend({after:function(t){return a(t).insertAfter(this),this},append:function(t){return w(this,t),this},appendTo:function(t){return w(a(t),this),this},before:function(t){return a(t).insertBefore(this),this},clone:function(){return a(this.map(function(t){return t.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertAfter:function(t){var r=this;return a(t).each(function(t,e){var n=t.parentNode,i=t.nextSibling;r.each(function(t){n.insertBefore(0===e?t:t.cloneNode(!0),i)})}),this},insertBefore:function(t){var r=this;return a(t).each(function(e,n){var i=e.parentNode;r.each(function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)})}),this},prepend:function(t){return w(this,t,!0),this},prependTo:function(t){return w(a(t),this,!0),this},remove:function(){return this.each(function(t){if(t.parentNode)return t.parentNode.removeChild(t)})},text:function(e){return void 0===e?this[0].textContent:this.each(function(t){return t.textContent=e})}});var $=S.documentElement;return M.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+q.pageYOffset-$.clientTop,left:t.left+q.pageXOffset-$.clientLeft}},offsetParent:function(){return a(this[0].offsetParent)}}),M.extend({children:function(e){var n=[];return this.each(function(t){k.apply(n,t.children)}),n=c(n),e?n.filter(function(t){return r(t,e)}):n},closest:function(t){return!t||this.length<1?a():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(e){if(!e)return!1;var n=!1,i=t(e);return this.each(function(t){return!(n=i(t,e))}),n},find:function(e){if(!e||e.nodeType)return a(e&&this.has(e).length?e:null);var n=[];return this.each(function(t){k.apply(n,o(e,t))}),c(n)},has:function(e){var t=L(e)?function(t){return 0!==o(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return a(this[0].nextElementSibling)},not:function(e){if(!e)return this;var n=t(e);return this.filter(function(t){return!n(t,e)})},parent:function(){var e=[];return this.each(function(t){t&&t.parentNode&&e.push(t.parentNode)}),c(e)},parents:function(e){var n,i=[];return this.each(function(t){for(n=t;n&&n.parentNode&&n!==S.body.parentNode;)n=n.parentNode,(!e||e&&r(n,e))&&i.push(n)}),c(i)},prev:function(){return a(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter(function(t){return t!==n})}}),a}();var Component=function(){function i(t,e){_classCallCheck(this,i),e instanceof Element||console.error(Error(e+" is not an HTML Element"));var n=t.getInstance(e);n&&n.destroy(),this.el=e,this.$el=cash(e)}return _createClass(i,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],n));i=r}return i}}]),i}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=M),exports["default"]=M),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;var docHandleKeydown=function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},docHandleKeyup=function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},docHandleFocus=function(){M.keyDown&&document.body.classList.add("keyboard-focused")},docHandleBlur=function(){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",docHandleKeydown,!0),document.addEventListener("keyup",docHandleKeyup,!0),document.addEventListener("focus",docHandleFocus,!0),document.addEventListener("blur",docHandleBlur,!0),M.initializeJqueryWrapper=function(i,r,o){jQuery.fn[r]=function(e){if(i.prototype[e]){var n=Array.prototype.slice.call(arguments,1);if("get"!==e.slice(0,3))return this.each(function(){var t=this[o];t[e].apply(t,n)});var t=this.first()[0][o];return t[e].apply(t,n)}if("object"==typeof e||!e)return i.init(this,e),this;jQuery.error("Method "+e+" does not exist on jQuery."+r)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each(function(){if("fixed"===$(this).css("position"))return!(i=!0)}),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=t.scrollLeft,a=t.scrollTop,l=e.left-s,u=e.top-a;return(l<r.left+n||l<n)&&(i.left=!0),(l+e.width>r.right-n||l+e.width>window.innerWidth-n)&&(i.right=!0),(u<r.top+n||u<n)&&(i.top=!0),(u+e.height>o-n||u+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,s=e.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),l=Math.min(s.width,window.innerWidth),u=t.getBoundingClientRect(),c=e.scrollLeft,h=e.scrollTop,d=n.left-c,f=n.top-h,p=n.top+u.height-h;return r.spaceOnRight=o?window.innerWidth-(u.left+n.width):l-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?u.right-n.width:d-n.width+u.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(u.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?u.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var getTime=Date.now||function(){return(new Date).getTime()};M.throttle=function(n,i,r){var o=void 0,s=void 0,a=void 0,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:getTime(),l=null,a=n.apply(o,s),o=s=null};return function(){var t=getTime();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0?(clearTimeout(l),l=null,u=t,a=n.apply(o,s),o=s=null):l||!1===r.trailing||(l=setTimeout(c,e)),a}};var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(e,n){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var i=0,r={next:function(){if(i<e.length){var t=i++;return{value:n(t,e[t]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var $jscomp$this=this,NS,NS;M.anime=function(){function r(t){if(!I.col(t))try{return document.querySelectorAll(t)}catch(t){}}function w(t,e){for(var n=t.length,i=2<=arguments.length?e:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function c(t){return t.reduce(function(t,e){return t.concat(I.arr(e)?c(e):e)},[])}function o(t){return I.arr(t)?t:(I.str(t)&&(t=r(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function s(t,e){return t.some(function(t){return t===e})}function a(t){var e,n={};for(e in t)n[e]=t[e];return n}function h(t,e){var n,i=a(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function d(t,e){var n,i=a(t);for(n in e)i[n]=I.und(t[n])?e[n]:t[n];return i}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function u(t,e){return I.fnc(t)?t(e.target,e.id,e.total):t}function x(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function f(t,e){return I.dom(t)&&s(L,e)?"transform":I.dom(t)&&(t.getAttribute(e)||I.svg(t)&&t[e])?"attribute":I.dom(t)&&"transform"!==e&&x(t,e)?"css":null!=t[e]?"object":void 0}function p(t,e){switch(f(t,e)){case"transform":return function(t,n){var e,i=-1<(e=n).indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0;i=-1<n.indexOf("scale")?1:0+i;if(!(t=t.style.transform))return i;for(var r=[],o=[],s=[],a=/(\w+)\((.+?)\)/g;r=a.exec(t);)o.push(r[1]),s.push(r[2]);return(t=w(s,function(t,e){return o[e]===n})).length?t[0]:i}(t,e);case"css":return x(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function g(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function m(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function n(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=m(e,r)),e=r}return n}function v(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return m({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return n(t);case"polygon":var e=t.points;return n(t)+m(e.getItem(e.numberOfItems-1),e.getItem(0))}}function S(e,n){function t(t){return t=void 0===t?0:t,e.el.getPointAtLength(1<=n+t?n+t:0)}var i=t(),r=t(-1),o=t(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function y(t,e){var n,i=/-?\d*\.?\d+/g;if(n=I.pth(t)?t.totalLength:t,I.col(n))if(I.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=I.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):I.hsl(n)?function(t){function e(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;n=n[4]||1;if(0==i)r=i=t=r;else{var o=r<.5?r*(1+i):r+i-r*i,s=2*r-o;r=e(s,o,t+1/3),i=e(s,o,t);t=e(s,o,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}(n):void 0;else r=(r=l(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:I.str(t)||e?n.split(i):[]}}function _(t){return w(t=t?c(I.arr(t)?t.map(o):o(t)):[],function(t,e,n){return n.indexOf(t)===e})}function b(t,n){var e=a(n);if(I.arr(t)){var i=t.length;2!==i||I.obj(t[0])?I.fnc(n.duration)||(e.duration=n.duration/i):t={value:t}}return o(t).map(function(t,e){return e=e?0:n.delay,t=I.obj(t)&&!I.pth(t)?t:{value:t},I.und(t.delay)&&(t.delay=e),t}).map(function(t){return d(t,e)})}function q(o,s){var a;return o.tweens.map(function(t){var e=(t=function(t,e){var n,i={};for(n in t){var r=u(t[n],e);I.arr(r)&&1===(r=r.map(function(t){return u(t,e)})).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(t,s)).value,n=p(s.target,o.name),i=a?a.to.original:n,r=(i=I.arr(e)?e[0]:i,g(I.arr(e)?e[1]:e,i));n=l(r)||l(i)||l(n);return t.from=y(i,n),t.to=y(r,n),t.start=a?a.end:o.offset,t.end=t.start+t.delay+t.duration,t.easing=function(t){return I.arr(t)?A.apply(this,t):F[t]}(t.easing),t.elasticity=(1e3-Math.min(Math.max(t.elasticity,1),999))/1e3,t.isPath=I.pth(e),t.isColor=I.col(t.from.original),t.isColor&&(t.round=1),a=t})}function C(e,t,n,i){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map(function(t){return t[e]})):r?i.delay:n.offset+i.delay+i.duration}function i(t){var e,n,i,r,o=h(T,t),s=h(D,t),a=(n=t.targets,(i=_(n)).map(function(t,e){return{target:t,id:e,total:i.length}})),l=[],u=d(o,s);for(e in t)u.hasOwnProperty(e)||"targets"===e||l.push({name:e,offset:u.offset,tweens:b(t[e],s)});return r=l,t=w(c(a.map(function(i){return r.map(function(t){var e=f(i.target,t.name);if(e){var n=q(t,i);t={type:e,property:t.name,animatable:i,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else t=void 0;return t})})),function(t){return!I.und(t)}),d(o,{children:[],animatables:a,animations:t,duration:C("duration",t,o,s),delay:C("delay",t,o,s)})}function E(t){function c(){return window.Promise&&new Promise(function(t){return y=t})}function h(t){return b.reversed?b.duration-t:t}function d(e){for(var t=0,n={},i=b.animations,r=i.length;t<r;){var o=i[t],s=o.animatable,a=(l=o.tweens)[h=l.length-1];h&&(a=w(l,function(t){return e<t.end})[0]||a);for(var l=Math.min(Math.max(e-a.start-a.delay,0),a.duration)/a.duration,u=isNaN(l)?1:a.easing(l,a.elasticity),c=(l=a.to.strings,a.round),h=[],d=void 0,f=(d=a.to.numbers.length,0);f<d;f++){var p=void 0,g=(p=a.to.numbers[f],a.from.numbers[f]);p=a.isPath?S(a.value,u*p):g+u*(p-g);c&&(a.isColor&&2<f||(p=Math.round(p*c)/c)),h.push(p)}if(a=l.length)for(d=l[0],u=0;u<a;u++)c=l[u+1],f=h[u],isNaN(f)||(d=c?d+(f+c):d+(f+" "));else d=h[0];R[o.type](s.target,o.property,d,n,s.id),o.currentValue=d,t++}if(t=Object.keys(n).length)for(i=0;i<t;i++)k||(k=x(document.body,"transform")?"transform":"-webkit-transform"),b.animatables[i].target.style[k]=n[i].join(" ");b.currentTime=e,b.progress=e/b.duration*100}function f(t){b[t]&&b[t](b)}function p(){b.remaining&&!0!==b.remaining&&b.remaining--}function e(t){var e=b.duration,n=b.offset,i=n+b.delay,r=b.currentTime,o=b.reversed,s=h(t);if(b.children.length){var a=b.children,l=a.length;if(s>=b.currentTime)for(var u=0;u<l;u++)a[u].seek(s);else for(;l--;)a[l].seek(s)}(i<=s||!e)&&(b.began||(b.began=!0,f("begin")),f("run")),n<s&&s<e?d(s):(s<=n&&0!==r&&(d(0),o&&p()),(e<=s&&r!==e||!e)&&(d(e),o||p())),f("update"),e<=t&&(b.remaining?(m=g,"alternate"===b.direction&&(b.reversed=!b.reversed)):(b.pause(),b.completed||(b.completed=!0,f("complete"),"Promise"in window&&(y(),_=c()))),v=0)}t=void 0===t?{}:t;var g,m,v=0,y=null,_=c(),b=i(t);return b.reset=function(){var t=b.direction,e=b.loop;for(b.currentTime=0,b.progress=0,b.paused=!0,b.began=!1,b.completed=!1,b.reversed="reverse"===t,b.remaining="alternate"===t&&1===e?2:e,d(0),t=b.children.length;t--;)b.children[t].reset()},b.tick=function(t){g=t,m||(m=g),e((v+g-m)*E.speed)},b.seek=function(t){e(h(t))},b.pause=function(){var t=M.indexOf(b);-1<t&&M.splice(t,1),b.paused=!0},b.play=function(){b.paused&&(b.paused=!1,m=0,v=h(b.currentTime),M.push(b),P||O())},b.reverse=function(){b.reversed=!b.reversed,m=0,v=h(b.currentTime)},b.restart=function(){b.pause(),b.reset(),b.play()},b.finished=_,b.reset(),b.autoplay&&b.play(),b}var k,T={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},D={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},L="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),I={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return I.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||I.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return I.hex(t)||I.rgb(t)||I.hsl(t)}},A=function(){function h(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(s,a,l,u){if(0<=s&&s<=1&&0<=l&&l<=1){var c=new Float32Array(11);if(s!==a||l!==u)for(var t=0;t<11;++t)c[t]=h(.1*t,s,l);return function(t){if(s===a&&l===u)return t;if(0===t)return 0;if(1===t)return 1;for(var e=0,n=1;10!==n&&c[n]<=t;++n)e+=.1;n=e+(t-c[--n])/(c[n+1]-c[n])*.1;var i=3*(1-3*l+3*s)*n*n+2*(3*l-6*s)*n+3*s;if(.001<=i){for(e=0;e<4&&0!=(i=3*(1-3*l+3*s)*n*n+2*(3*l-6*s)*n+3*s);++e){var r=h(n,s,l)-t;n=n-r/i}t=n}else if(0===i)t=n;else{n=e,e=e+.1;for(var o=0;0<(i=h(r=n+(e-n)/2,s,l)-t)?e=r:n=r,1e-7<Math.abs(i)&&++o<10;);t=r}return h(t,a,u)}}}}(),F=function(){function n(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var t,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],n],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,e){return 1-n(1-t,e)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,e){return t<.5?n(2*t,e)/2:1-n(-2*t+2,e)/2}]},r={linear:A(.25,.25,.75,.75)},o={};for(t in e)o.type=t,e[o.type].forEach(function(n){return function(t,e){r["ease"+n.type+i[e]]=I.fnc(t)?t:A.apply($jscomp$this,t)}}(o)),o={type:o.type};return r}(),R={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},M=[],P=0,O=function(){function i(){P=requestAnimationFrame(t)}function t(t){var e=M.length;if(e){for(var n=0;n<e;)M[n]&&M[n].tick(t),n++;i()}else cancelAnimationFrame(P),P=0}return i}();return E.version="2.2.0",E.speed=1,E.running=M,E.remove=function(t){t=_(t);for(var e=M.length;e--;)for(var n=M[e],i=n.animations,r=i.length;r--;)s(t,i[r].animatable.target)&&(i.splice(r,1),i.length||n.pause())},E.getValue=p,E.path=function(t,e){var n=I.str(t)?r(t)[0]:t,i=e||100;return function(t){return{el:n,property:t,totalLength:v(n)*(i/100)}}},E.setDashoffset=function(t){var e=v(t);return t.setAttribute("stroke-dasharray",e),e},E.bezier=A,E.easings=F,E.timeline=function(i){var r=E(i);return r.pause(),r.duration=0,r.add=function(t){return r.children.forEach(function(t){t.began=!0,t.completed=!0}),o(t).forEach(function(t){var e=d(t,h(D,i||{}));e.targets=e.targets||i.targets,t=r.duration;var n=e.offset;e.autoplay=!1,e.direction=r.direction,e.offset=I.und(n)?t:g(n,t),r.began=!0,r.completed=!0,r.seek(e.offset),(e=E(e)).began=!0,e.completed=!0,e.duration>t&&(r.duration=e.duration),r.children.push(e)}),r.seek(0),r.reset(),r.autoplay&&r.restart(),r},r},E.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},E}(),function(a,l){"use strict";var t={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},e=function(){function r(t,e){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,e));(n.el.M_Collapsible=n).options=a.extend({},r.defaults,e),n.$headers=n.$el.children("li").children(".collapsible-header"),n.$headers.attr("tabindex",0),n._setupEventHandlers();var i=n.$el.children("li.active").children(".collapsible-body");return n.options.accordion?i.first().css("display","block"):i.css("display","block"),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(t){var e=a(t.target).closest(".collapsible-header");if(t.target&&e.length){var n=e.closest(".collapsible");if(n[0]===this.el){var i=e.closest("li"),r=n.children("li"),o=i[0].classList.contains("active"),s=r.index(i);o?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var e=this,n=this.$el.children("li").eq(t);if(n.length){var i=n.children(".collapsible-body");l.remove(i[0]),i.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var r=i.css("padding-top"),o=i.css("padding-bottom"),s=i[0].scrollHeight;i.css({paddingTop:0,paddingBottom:0}),l({targets:i[0],height:s,paddingTop:r,paddingBottom:o,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(){i.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,n[0])}})}}},{key:"_animateOut",value:function(t){var e=this,n=this.$el.children("li").eq(t);if(n.length){var i=n.children(".collapsible-body");l.remove(i[0]),i.css("overflow","hidden"),l({targets:i[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){i.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,n[0])}})}}},{key:"open",value:function(t){var n=this,e=this.$el.children("li").eq(t);if(e.length&&!e[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,e[0]),this.options.accordion){var i=this.$el.children("li");this.$el.children("li.active").each(function(t){var e=i.index(a(t));n.close(e)})}e[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return t}}]),r}();M.Collapsible=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"collapsible","M_Collapsible")}(cash,M.anime),function(u,e){"use strict";var t={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},n=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return n.el.M_Dropdown=n,i._dropdowns.push(n),n.id=M.getIdFromTrigger(t),n.dropdownEl=document.getElementById(n.id),n.$dropdownEl=u(n.dropdownEl),n.options=u.extend({},i.defaults,e),n.isOpen=!1,n.isScrollable=!1,n.isTouchMoving=!1,n.focusedIndex=-1,n.filterQuery=[],n.options.container?u(n.options.container).append(n.dropdownEl):n.$el.after(n.dropdownEl),n._makeDropdownFocusable(),n._resetFilterQueryBound=n._resetFilterQuery.bind(n),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),n._handleDocumentTouchmoveBound=n._handleDocumentTouchmove.bind(n),n._handleDropdownClickBound=n._handleDropdownClick.bind(n),n._handleDropdownKeydownBound=n._handleDropdownKeydown.bind(n),n._handleTriggerKeydownBound=n._handleTriggerKeydown.bind(n),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),i._dropdowns.splice(i._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var e=t.toElement||t.relatedTarget,n=!!u(e).closest(".dropdown-content").length,i=!1,r=u(e).closest(".dropdown-trigger");r.length&&r[0].M_Dropdown&&r[0].M_Dropdown.isOpen&&(i=!0),i||n||this.close()}},{key:"_handleDocumentClick",value:function(t){var e=this,n=u(t.target);this.options.closeOnClick&&n.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){e.close()},0):!n.closest(".dropdown-trigger").length&&n.closest(".dropdown-content").length||setTimeout(function(){e.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){u(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{
key:"_handleDropdownClick",value:function(t){if("function"==typeof this.options.onItemClick){var e=u(t.target).closest("li")[0];this.options.onItemClick.call(this,e)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var e=this.dropdownEl.children[this.focusedIndex],n=u(e).find("a, button").first();n.length?n[0].click():e&&e.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var i=t.which===M.keys.ARROW_DOWN?1:-1,r=this.focusedIndex,o=!1;do{if(r+=i,this.dropdownEl.children[r]&&-1!==this.dropdownEl.children[r].tabIndex){o=!0;break}}while(r<this.dropdownEl.children.length&&0<=r);o&&(this.focusedIndex=r,this._focusFocusedItem())}var s=String.fromCharCode(t.which).toLowerCase();if(s&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(s);var a=this.filterQuery.join(""),l=u(this.dropdownEl).find("li").filter(function(t){return 0===u(t).text().toLowerCase().indexOf(a)})[0];l&&(this.focusedIndex=u(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,u(this.dropdownEl).children().each(function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,o=t.top-e.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:t.height),u="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,l.top||(l.bottom?u="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(u="bottom",n+=l.spaceOnTop,o-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[c]){var h="left"===c?"right":"left";l[h]?c=h:l.spaceOnLeft>l.spaceOnRight?(c="right",i+=l.spaceOnLeft,r-=l.spaceOnLeft):(c="left",i+=l.spaceOnRight)}return"bottom"===u&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===c&&(r=r-e.width+t.width),{x:r,y:o,verticalAlignment:u,horizontalAlignment:c,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(){t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return t}}]),i}();n._dropdowns=[],M.Dropdown=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"dropdown","M_Dropdown")}(cash,M.anime),function(r,n){"use strict";var t={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Modal=n).options=r.extend({},i.defaults,e),n.isOpen=!1,n.id=n.$el.attr("id"),n._openingTrigger=void 0,n.$overlay=r('<div class="modal-overlay"></div>'),n.el.tabIndex=0,n._nthModalOpened=0,i._count++,n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){i._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===i._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===i._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var e=r(t.target).closest(".modal-trigger");if(e.length){var n=M.getIdFromTrigger(e[0]),i=document.getElementById(n).M_Modal;i&&i.open(e),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){r(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==i._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var t=this;r.extend(this.el.style,{display:"block",opacity:0}),r.extend(this.$overlay[0].style,{display:"block",opacity:0}),n({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var e={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el,t._openingTrigger)}};this.el.classList.contains("bottom-sheet")?r.extend(e,{bottom:0,opacity:1}):r.extend(e,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),n(e)}},{key:"_animateOut",value:function(){var t=this;n({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var e={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){t.el.style.display="none",t.$overlay.remove(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};this.el.classList.contains("bottom-sheet")?r.extend(e,{bottom:"-100%",opacity:0}):r.extend(e,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),n(e)}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,i._modalsOpen++,this._nthModalOpened=i._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*i._modalsOpen,this.el.style.zIndex=1e3+2*i._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),n.remove(this.el),n.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,i._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===i._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),n.remove(this.el),n.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return t}}]),i}();e._modalsOpen=0,e._count=0,M.Modal=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"modal","M_Modal")}(cash,M.anime),function(o,s){"use strict";var t={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Materialbox=n).options=o.extend({},i.defaults,e),n.overlayActive=!1,n.doneAnimating=!0,n.placeholder=o("<div></div>").addClass("material-placeholder"),n.originalWidth=0,n.originalHeight=0,n.originInlineStyles=n.$el.attr("style"),n.caption=n.el.getAttribute("data-caption")||"",n.$el.before(n.placeholder),n.placeholder.append(n.$el),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,o(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=o();for(var t=this.placeholder[0].parentNode;null!==t&&!o(t).is(document);){var e=o(t);"visible"!==e.css("overflow")&&(e.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=e:this.ancestorsChanged=this.ancestorsChanged.add(e)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,e={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(e.maxWidth=this.newWidth),"none"!==this.maxHeight&&(e.maxHeight=this.newHeight),s(e)}},{key:"_animateImageOut",value:function(){var t=this,e={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};s(e)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var t=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=o('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){t.doneAnimating&&t.close()}),this.$el.before(this.$overlay);var e=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*e.left+"px",top:-1*e.top+"px"}),s.remove(this.el),s.remove(this.$overlay[0]),s({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&s.remove(this.$photoCaption[0]),this.$photoCaption=o('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),o("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),s({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var n=0,i=this.originalWidth/this.windowWidth,r=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,r<i?(n=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*n):(n=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*n,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),s.remove(this.el),s.remove(this.$overlay[0]),""!==this.caption&&s.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),s({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&s({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return t}}]),i}();M.Materialbox=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"materialbox","M_Materialbox")}(cash,M.anime),function(r){"use strict";var t={responsiveThreshold:0},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Parallax=n).options=r.extend({},i.defaults,e),n._enabled=window.innerWidth>n.options.responsiveThreshold,n.$img=n.$el.find("img").first(),n.$img.each(function(){this.complete&&r(this).trigger("load")}),n._updateParallax(),n._setupEventHandlers(),n._setupStyles(),i._parallaxes.push(n),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=0<this.$el.height()?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=e*((r+o-i)/(t+o));this._enabled?r<n&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),i}();e._parallaxes=[],M.Parallax=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"parallax","M_Parallax")}(cash),function(s,r){"use strict";var t={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Tabs=n).options=s.extend({},i.defaults,e),n.$tabLinks=n.$el.children("li.tab").children("a"),n.index=0,n._setupActiveTabLink(),n.options.swipeable?n._setupSwipeableTabs():n._setupNormalTabs(),n._setTabsAndTabWidth(),n._createIndicator(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var e=this,n=s(t.target).closest("li.tab"),i=s(t.target).closest("a");if(i.length&&i.parent().hasClass("tab"))if(n.hasClass("disabled"))t.preventDefault();else if(!i.attr("target")){this.$activeTabLink.removeClass("active");var r=this.$content;this.$activeTabLink=i,this.$content=s(M.escapeHash(i[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var o=this.index;this.index=Math.max(this.$tabLinks.index(i),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),r.length&&!r.is(this.$content)&&(r[0].style.display="none",r.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(o),t.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout(function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=s(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=s(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var n=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var i=s();this.$tabLinks.each(function(t){var e=s(M.escapeHash(t.hash));e.addClass("carousel-item"),i=i.add(e)});var t=s('<div class="tabs-content carousel carousel-slider"></div>');i.first().before(t),t.append(i),i[0].style.display="";var e=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(t[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(t){var e=n.index;n.index=s(t).index(),n.$activeTabLink.removeClass("active"),n.$activeTabLink=n.$tabLinks.eq(n.index),n.$activeTabLink.addClass("active"),n._animateIndicator(e),"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])}}),this._tabsCarousel.set(e)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(t){if(t.hash){var e=s(M.escapeHash(t.hash));e.length&&(e[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(t){if(t.hash){var e=s(M.escapeHash(t.hash));e.length&&(e[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var e=0,n=0;0<=this.index-t?e=90:n=90;var i={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:e},right:{value:this._calcRightPos(this.$activeTabLink),delay:n},duration:this.options.duration,easing:"easeOutQuad"};r.remove(this._indicator),r(i)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return t}}]),i}();M.Tabs=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"tabs","M_Tabs")}(cash,M.anime),function(c,t){"use strict";var e={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},n=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Tooltip=n).options=c.extend({},i.defaults,e),n.isOpen=!1,n.isHovered=!1,n.isFocused=!1,n._appendTooltipEl(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){c(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=c.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){t.isHovered||t.isFocused||t._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(e.isHovered||e.isFocused||t)&&e._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,e=this.el,n=this.tooltipEl,i=e.offsetHeight,r=e.offsetWidth,o=n.offsetHeight,s=n.offsetWidth,a=this.options.margin,l=void 0,u=void 0;this.xMovement=0,this.yMovement=0,l=e.getBoundingClientRect().top+M.getDocumentScrollTop(),u=e.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-o-a,u+=r/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=i/2-o/2,u+=r+a,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=i/2-o/2,u+=-s-a,this.xMovement=-this.options.transitionMovement):(l+=i+a,u+=r/2-s/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(u,l,s,o),c(n).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=t-r,a=e-o,l={left:s,top:a,width:n,height:i},u=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,l,u);return c.left?s=u:c.right&&(s-=s+n-window.innerWidth),c.top?a=u:c.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return e}}]),i}();M.Tooltip=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tooltip","M_Tooltip")}(cash,M.anime),function(n){"use strict";function m(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function e(t){var e=function(t){if(!1===l.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(t);null!==e&&(v.show(t,e),"ontouchstart"in n&&(e.addEventListener("touchend",v.hide,!1),e.addEventListener("touchcancel",v.hide,!1)),e.addEventListener("mouseup",v.hide,!1),e.addEventListener("mouseleave",v.hide,!1),e.addEventListener("dragend",v.hide,!1))}var t=t||{},i=document.querySelectorAll.bind(document),v={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,i=document.createElement("div");i.className="waves-ripple",n.appendChild(i);var r,o,s,a,l,u,c,h=(u={top:0,left:0},o=(c=(r=n)&&r.ownerDocument).documentElement,void 0!==r.getBoundingClientRect&&(u=r.getBoundingClientRect()),s=null!==(l=a=c)&&l===l.window?a:9===a.nodeType&&a.defaultView,{top:u.top+s.pageYOffset-o.clientTop,left:u.left+s.pageXOffset-o.clientLeft}),d=t.pageY-h.top,f=t.pageX-h.left,p="scale("+n.clientWidth/100*10+")";"touches"in t&&(d=t.touches[0].pageY-h.top,f=t.touches[0].pageX-h.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",p),i.setAttribute("data-x",f),i.setAttribute("data-y",d);var g={top:d+"px",left:f+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",m(g)),i.className=i.className.replace("waves-notransition",""),g["-webkit-transform"]=p,g["-moz-transform"]=p,g["-ms-transform"]=p,g["-o-transform"]=p,g.transform=p,g.opacity="1",g["-webkit-transition-duration"]=v.duration+"ms",g["-moz-transition-duration"]=v.duration+"ms",g["-o-transition-duration"]=v.duration+"ms",g["transition-duration"]=v.duration+"ms",
g["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",g["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",m(g))},hide:function(t){l.touchup(t);var e=this,n=(e.clientWidth,null),i=e.getElementsByClassName("waves-ripple");if(!(0<i.length))return!1;var r=(n=i[i.length-1]).getAttribute("data-x"),o=n.getAttribute("data-y"),s=n.getAttribute("data-scale"),a=350-(Date.now()-Number(n.getAttribute("data-hold")));a<0&&(a=0),setTimeout(function(){var t={top:o+"px",left:r+"px",opacity:"0","-webkit-transition-duration":v.duration+"ms","-moz-transition-duration":v.duration+"ms","-o-transition-duration":v.duration+"ms","transition-duration":v.duration+"ms","-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s};n.setAttribute("style",m(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},v.duration)},a)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},l={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?l.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){0<l.touches&&(l.touches-=1)},500):"mousedown"===t.type&&0<l.touches&&(e=!1),e},touchup:function(t){l.allowEvent(t)}};t.displayEffect=function(t){"duration"in(t=t||{})&&(v.duration=t.duration),v.wrapInput(i(".waves-effect")),"ontouchstart"in n&&document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("mousedown",e,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(v.wrapInput([t]),t=t.parentNode),"ontouchstart"in n&&t.addEventListener("touchstart",e,!1),t.addEventListener("mousedown",e,!1)},n.Waves=t,document.addEventListener("DOMContentLoaded",function(){t.displayEffect()},!1)}(window),function(n,i){"use strict";var t={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},e=function(){function r(t){_classCallCheck(this,r),this.options=n.extend({},r.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===r._toasts.length&&r._createContainer(),r._toasts.push(this);var e=this._createToast();(e.M_Toast=this).el=e,this.$el=n(e),this._animateIn(),this._setTimer()}return _createClass(r,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&n(t).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?n(t).append(this.message[0]):t.innerHTML=this.message,r._container.appendChild(t),t}},{key:"_animateIn",value:function(){i({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()},20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var e=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+e+"px)",this.el.style.opacity=0),i({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),r._toasts.splice(r._toasts.indexOf(t),1),0===r._toasts.length&&r._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",r._onDragStart),t.addEventListener("touchmove",r._onDragMove),t.addEventListener("touchend",r._onDragEnd),t.addEventListener("mousedown",r._onDragStart),document.addEventListener("mousemove",r._onDragMove),document.addEventListener("mouseup",r._onDragEnd),document.body.appendChild(t),r._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",r._onDragMove),document.removeEventListener("mouseup",r._onDragEnd),n(r._container).remove(),r._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&n(t.target).closest(".toast").length){var e=n(t.target).closest(".toast")[0].M_Toast;e.panning=!0,(r._draggedToast=e).el.classList.add("panning"),e.el.style.transition="",e.startingXPos=r._xPos(t),e.time=Date.now(),e.xPos=r._xPos(t)}}},{key:"_onDragMove",value:function(t){if(r._draggedToast){t.preventDefault();var e=r._draggedToast;e.deltaX=Math.abs(e.xPos-r._xPos(t)),e.xPos=r._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,i=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/i)}}},{key:"_onDragEnd",value:function(){if(r._draggedToast){var t=r._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||1<t.velocityX?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),r._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in r._toasts)r._toasts[t].dismiss()}},{key:"defaults",get:function(){return t}}]),r}();e._toasts=[],e._container=null,e._draggedToast=null,M.Toast=e,M.toast=function(t){return new e(t)}}(cash,M.anime),function(r,o){"use strict";var t={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Sidenav=n).id=n.$el.attr("id"),n.options=r.extend({},i.defaults,e),n.isOpen=!1,n.isFixed=n.el.classList.contains("sidenav-fixed"),n.isDragged=!1,n.lastWindowWidth=window.innerWidth,n.lastWindowHeight=window.innerHeight,n._createOverlay(),n._createDragTarget(),n._setupEventHandlers(),n._setupClasses(),n._setupFixed(),i._sidenavs.push(n),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=i._sidenavs.indexOf(this);0<=t&&i._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===i._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===i._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var e=r(t.target).closest(".sidenav-trigger");if(t.target&&e.length){var n=M.getIdFromTrigger(e[0]),i=document.getElementById(n).M_Sidenav;i&&i.open(e),t.preventDefault()}}},{key:"_startDrag",value:function(t){var e=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=e,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,o.remove(this.el),o.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){r(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(o.remove(this.el),o({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,e="left"===this.options.edge?-1:1;this.isDragged&&(e="left"===this.options.edge?e+this.percentOpen:e-this.percentOpen),o.remove(this.el),o({targets:this.el,translateX:[100*e+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var t=0;this.isDragged?t=this.percentOpen:r(this._overlay).css({display:"block"}),o.remove(this._overlay),o({targets:this._overlay,opacity:[t,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,e="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?e+this.percentOpen:e-this.percentOpen),o.remove(this.el),o({targets:this.el,translateX:[100*n+"%",105*e+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var t=this;o.remove(this._overlay),o({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){r(t._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return t}}]),i}();e._sidenavs=[],M.Sidenav=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"sidenav","M_Sidenav")}(cash,M.anime),function(o,s){"use strict";var t={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},e=function(){function d(t,e){_classCallCheck(this,d);var n=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,t,e));return(n.el.M_ScrollSpy=n).options=o.extend({},d.defaults,e),d._elements.push(n),d._count++,d._increment++,n.tickId=-1,n.id=d._increment,n._setupEventHandlers(),n._handleWindowScroll(),n}return _inherits(d,Component),_createClass(d,[{key:"destroy",value:function(){d._elements.splice(d._elements.indexOf(this),1),d._elementsInView.splice(d._elementsInView.indexOf(this),1),d._visibleElements.splice(d._visibleElements.indexOf(this.$el),1),d._count--,this._removeEventHandlers(),o(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===d._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===d._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(t){for(var e=o(t.target),n=d._elements.length-1;0<=n;n--){var i=d._elements[n];if(e.is('a[href="#'+i.$el.attr("id")+'"]')){t.preventDefault();var r=i.$el.offset().top+1;s({targets:[document.documentElement,document.body],scrollTop:r-i.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){d._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,r=d._findElements(t,n,i,e),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=d._ticks}for(var a=0;a<d._elementsInView.length;a++){var l=d._elementsInView[a],u=l.tickId;0<=u&&u!==d._ticks&&(l._exit(),l.tickId=-1)}d._elementsInView=r}},{key:"_enter",value:function(){(d._visibleElements=d._visibleElements.filter(function(t){return 0!=t.height()}))[0]?(o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),d._visibleElements[0][0].M_ScrollSpy&&this.id<d._visibleElements[0][0].M_ScrollSpy.id?d._visibleElements.unshift(this.$el):d._visibleElements.push(this.$el)):d._visibleElements.push(this.$el),o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;(d._visibleElements=d._visibleElements.filter(function(t){return 0!=t.height()}))[0]&&(o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(d._visibleElements=d._visibleElements.filter(function(t){return t.attr("id")!=e.$el.attr("id")}))[0]&&o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return _get(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var r=[],o=0;o<d._elements.length;o++){var s=d._elements[o],a=t+s.options.scrollOffset||200;if(0<s.$el.height()){var l=s.$el.offset().top,u=s.$el.offset().left,c=u+s.$el.width(),h=l+s.$el.height();!(e<u||c<i||n<l||h<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return t}}]),d}();e._elements=[],e._elementsInView=[],e._visibleElements=[],e._count=0,e._increment=0,e._ticks=0,M.ScrollSpy=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(u){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},e=function(){function r(t,e){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,e));return(n.el.M_Autocomplete=n).options=u.extend({},r.defaults,e),n.isOpen=!1,n.count=0,n.activeIndex=-1,n.oldVal,n.$inputField=n.$el.closest(".input-field"),n.$active=u(),n._mousedown=!1,n._setupDropdown(),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),u(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(t){e.selectOption(u(t))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(r._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(t){r._keydown=!0;var e=t.keyCode,n=void 0,i=u(this.container).children("li").length;e===M.keys.ENTER&&0<=this.activeIndex?(n=u(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(n),t.preventDefault()):e!==M.keys.ARROW_UP&&e!==M.keys.ARROW_DOWN||(t.preventDefault(),e===M.keys.ARROW_UP&&0<this.activeIndex&&this.activeIndex--,e===M.keys.ARROW_DOWN&&this.activeIndex<i-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=u(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,o=e.text().slice(0,i),s=e.text().slice(i,r+1),a=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){u(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var e=[];for(var r in t)if(t.hasOwnProperty(r)&&-1!==r.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var o={data:t[r],key:r};e.push(o),this.count++}this.options.sortFunction&&e.sort(function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())});for(var s=0;s<e.length;s++){var a=e[s],l=u("<li></li>");a.data?l.append('<img src="'+a.data+'" class="right circle"><span>'+a.key+"</span>"):l.append("<span>"+a.key+"</span>"),u(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),r}();e._keydown=!1,M.Autocomplete=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"autocomplete","M_Autocomplete")}(cash),function(c){M.updateTextFields=function(){c("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(t){var e=c(this);0<t.value.length||c(t).is(":focus")||t.autofocus||null!==e.attr("placeholder")?e.siblings("label").addClass("active"):t.validity?e.siblings("label").toggleClass("active",!0===t.validity.badInput):e.siblings("label").removeClass("active")})},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=c(t)),t.length){var e=c(".hiddendiv").first();e.length||(e=c('<div class="hiddendiv common"></div>'),c("body").append(e));var n=t.css("font-family"),i=t.css("font-size"),r=t.css("line-height"),o=t.css("padding-top"),s=t.css("padding-right"),a=t.css("padding-bottom"),l=t.css("padding-left");i&&e.css("font-size",i),n&&e.css("font-family",n),r&&e.css("line-height",r),o&&e.css("padding-top",o),s&&e.css("padding-right",s),a&&e.css("padding-bottom",a),l&&e.css("padding-left",l),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&e.css("overflow-wrap","normal").css("white-space","pre"),e.text(t[0].value+"\n");var u=e.html().replace(/\n/g,"<br>");e.html(u),0<t[0].offsetWidth&&0<t[0].offsetHeight?e.css("width",t.width()+"px"):e.css("width",window.innerWidth/2+"px"),t.data("original-height")<=e.innerHeight()?t.css("height",e.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},c(document).ready(function(){var i="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";c(document).on("change",i,function(){0===this.value.length&&null===c(this).attr("placeholder")||c(this).siblings("label").addClass("active"),M.validate_field(c(this))}),c(document).ready(function(){M.updateTextFields()}),c(document).on("reset",function(t){var e=c(t.target);e.is("form")&&(e.find(i).removeClass("valid").removeClass("invalid"),e.find(i).each(function(){this.value.length&&c(this).siblings("label").removeClass("active")}),setTimeout(function(){e.find("select").each(function(){this.M_FormSelect&&c(this).trigger("change")})},0))}),document.addEventListener("focus",function(t){c(t.target).is(i)&&c(t.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(t){var e=c(t.target);if(e.is(i)){var n=".prefix";0===e[0].value.length&&!0!==e[0].validity.badInput&&null===e.attr("placeholder")&&(n+=", label"),e.siblings(n).removeClass("active"),M.validate_field(e)}},!0),c(document).on("keyup","input[type=radio], input[type=checkbox]",function(t){if(t.which===M.keys.TAB)return c(this).addClass("tabbed"),void c(this).one("blur",function(){c(this).removeClass("tabbed")})});var t=".materialize-textarea";c(t).each(function(){var t=c(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)}),c(document).on("keyup",t,function(){M.textareaAutoResize(c(this))}),c(document).on("keydown",t,function(){M.textareaAutoResize(c(this))}),c(document).on("change",'.file-field input[type="file"]',function(){for(var t=c(this).closest(".file-field").find("input.file-path"),e=c(this)[0].files,n=[],i=0;i<e.length;i++)n.push(e[i].name);t[0].value=n.join(", "),t.trigger("change")})})}(cash),function(r,o){"use strict";var t={indicators:!0,height:400,duration:500,interval:6e3},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Slider=n).options=r.extend({},i.defaults,e),n.$slider=n.$el.find(".slides"),n.$slides=n.$slider.children("li"),n.activeIndex=n.$slides.filter(function(t){return r(t).hasClass("active")}).first().index(),-1!=n.activeIndex&&(n.$active=n.$slides.eq(n.activeIndex)),n._setSliderHeight(),n.$slides.find(".caption").each(function(t){n._animateCaptionIn(t,0)}),n.$slides.find("img").each(function(t){var e="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";r(t).attr("src")!==e&&(r(t).css("background-image",'url("'+r(t).attr("src")+'")'),r(t).attr("src",e))}),n._setupIndicators(),n.$active?n.$active.css("display","block"):(n.$slides.first().addClass("active"),o({targets:n.$slides.first()[0],opacity:1,duration:n.options.duration,easing:"easeOutQuad"}),n.activeIndex=0,n.$active=n.$slides.eq(n.activeIndex),n.options.indicators&&n.$indicators.eq(n.activeIndex).addClass("active")),n.$active.find("img").each(function(){o({targets:n.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:n.options.duration,easing:"easeOutQuad"})}),n._setupEventHandlers(),n.start(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(t){t.addEventListener("click",e._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each(function(t){t.removeEventListener("click",e._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(t){var e=r(t.target).index();this.set(e)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(t,e){var n={targets:t,opacity:0,duration:e,easing:"easeOutQuad"};r(t).hasClass("center-align")?n.translateY=-100:r(t).hasClass("right-align")?n.translateX=100:r(t).hasClass("left-align")&&(n.translateX=-100),o(n)}},{
key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=r('<ul class="indicators"></ul>'),this.$slides.each(function(){var t=r('<li class="indicator-item"></li>');e.$indicators.append(t[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var e=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var n=this.$active.find(".caption");this.$active.removeClass("active"),o({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){e.$slides.not(".active").each(function(t){o({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(n[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),o({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),o({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return t}}]),i}();M.Slider=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"slider","M_Slider")}(cash,M.anime),function(i,r){i(document).on("click",".card",function(t){if(i(this).children(".card-reveal").length){var n=i(t.target).closest(".card");void 0===n.data("initialOverflow")&&n.data("initialOverflow",void 0===n.css("overflow")?"":n.css("overflow"));var e=i(this).find(".card-reveal");i(t.target).is(i(".card-reveal .card-title"))||i(t.target).is(i(".card-reveal .card-title i"))?r({targets:e[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var e=t.animatables[0].target;i(e).css({display:"none"}),n.css("overflow",n.data("initialOverflow"))}}):(i(t.target).is(i(".card .activator"))||i(t.target).is(i(".card .activator i")))&&(n.css("overflow","hidden"),e.css({display:"block"}),r({targets:e[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(u){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},e=function(){function l(t,e){_classCallCheck(this,l);var n=_possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,e));return(n.el.M_Chips=n).options=u.extend({},l.defaults,e),n.$el.addClass("chips input-field"),n.chipsData=[],n.$chips=u(),n._setupInput(),n.hasAutocomplete=0<Object.keys(n.options.autocompleteOptions).length,n.$input.attr("id")||n.$input.attr("id",M.guid()),n.options.data.length&&(n.chipsData=n.options.data,n._renderChips(n.chipsData)),n.hasAutocomplete&&n._setupAutocomplete(),n._setPlaceholder(),n._setupLabel(),n._setupEventHandlers(),n}return _inherits(l,Component),_createClass(l,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",l._handleChipsKeydown),document.addEventListener("keyup",l._handleChipsKeyup),this.el.addEventListener("blur",l._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",l._handleChipsKeydown),document.removeEventListener("keyup",l._handleChipsKeyup),this.el.removeEventListener("blur",l._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var e=u(t.target).closest(".chip"),n=u(t.target).is(".close");if(e.length){var i=e.index();n?(this.deleteChip(i),this.$input[0].focus()):this.selectChip(i)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(l._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var e=document.createElement("div"),n=document.createElement("i");if(e.classList.add("chip"),e.textContent=t.tag,e.setAttribute("tabindex",0),u(n).addClass("material-icons close"),n.textContent="close",t.image){var i=document.createElement("img");i.setAttribute("src",t.image),e.insertBefore(i,e.firstChild)}return e.appendChild(n),e}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=u("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?u(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&u(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var e=this._renderChip(t);this.$chips.add(e),this.chipsData.push(t),u(this.$input).before(e),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,e)}}},{key:"deleteChip",value:function(t){var e=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter(function(t){return 0<=u(t).index()}),this.chipsData.splice(t,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,e[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);(this._selectedChip=e)[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return _get(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(t){l._keydown=!0;var e=u(t.target).closest(".chips"),n=t.target&&e.length;if(!u(t.target).is("input, textarea")&&n){var i=e[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var r=i.chipsData.length;if(i._selectedChip){var o=i._selectedChip.index();i.deleteChip(o),i._selectedChip=null,r=Math.max(o-1,0)}i.chipsData.length&&i.selectChip(r)}else if(37===t.keyCode){if(i._selectedChip){var s=i._selectedChip.index()-1;if(s<0)return;i.selectChip(s)}}else if(39===t.keyCode&&i._selectedChip){var a=i._selectedChip.index()+1;a>=i.chipsData.length?i.$input[0].focus():i.selectChip(a)}}}},{key:"_handleChipsKeyup",value:function(){l._keydown=!1}},{key:"_handleChipsBlur",value:function(t){l._keydown||(u(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),l}();e._keydown=!1,M.Chips=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"chips","M_Chips"),u(document).ready(function(){u(document.body).on("click",".chip .close",function(){var t=u(this).closest(".chips");t.length&&t[0].M_Chips||u(this).closest(".chip").remove()})})}(cash),function(r){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Pushpin=n).options=r.extend({},i.defaults,e),n.originalOffset=n.el.offsetTop,i._pushpins.push(n),n._setupEventHandlers(),n._updatePosition(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins)i._pushpins[t]._updatePosition()}},{key:"defaults",get:function(){return t}}]),i}();e._pushpins=[],M.Pushpin=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"pushpin","M_Pushpin")}(cash),function(a,r){"use strict";var t={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};a.fn.reverse=[].reverse;var e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_FloatingActionButton=n).options=a.extend({},i.defaults,e),n.isOpen=!1,n.$anchor=n.$el.children("a").first(),n.$menu=n.$el.children("ul").first(),n.$floatingBtns=n.$el.find("ul .btn-floating"),n.$floatingBtnsReverse=n.$el.find("ul .btn-floating").reverse(),n.offsetY=0,n.offsetX=0,n.$el.addClass("direction-"+n.options.direction),"top"===n.options.direction?n.offsetY=40:"right"===n.options.direction?n.offsetX=-40:"bottom"===n.options.direction?n.offsetY=-40:n.offsetX=40,n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){a(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each(function(t){r({targets:t,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40})}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each(function(t){r.remove(t),r({targets:t,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var t,e=this,n=window.innerWidth,i=window.innerHeight,r=this.el.getBoundingClientRect(),o=a('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(o),this.offsetX=r.left-n/2+r.width/2,this.offsetY=i-r.bottom,t=n/o[0].clientWidth,this.btnBottom=r.bottom,this.btnLeft=r.left,this.btnWidth=r.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),o.css({"background-color":s}),setTimeout(function(){e.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),e.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){e.$el.css({overflow:"hidden","background-color":s}),o.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),e.$menu.children("li").children("a").css({opacity:1}),e._handleDocumentClickBound=e._handleDocumentClick.bind(e),window.addEventListener("scroll",e._handleCloseBound,!0),document.body.addEventListener("click",e._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout(function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return t}}]),i}();M.FloatingActionButton=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(v){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},e=function(){function I(t,e){_classCallCheck(this,I);var n=_possibleConstructorReturn(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,I,t,e));(n.el.M_Datepicker=n).options=v.extend({},I.defaults,e),e&&e.hasOwnProperty("i18n")&&"object"==typeof e.i18n&&(n.options.i18n=v.extend({},I.defaults.i18n,e.i18n)),n.options.minDate&&n.options.minDate.setHours(0,0,0,0),n.options.maxDate&&n.options.maxDate.setHours(0,0,0,0),n.id=M.guid(),n._setupVariables(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupEventHandlers(),n.options.defaultDate||(n.options.defaultDate=new Date(Date.parse(n.el.value)));var i=n.options.defaultDate;return I._isDate(i)?n.options.setDefaultDate?(n.setDate(i,!0),n.setInputValue()):n.gotoDate(i):n.gotoDate(new Date),n.isOpen=!1,n}return _inherits(I,Component),_createClass(I,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),v(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(v(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,I._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(t){return e.formats[t]?e.formats[t]():t}).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),I._isDate(t)){var n=this.options.minDate,i=this.options.maxDate;I._isDate(n)&&t<n?t=n:I._isDate(i)&&i<t&&(t=i),this.date=new Date(t.getTime()),this._renderDateDisplay(),I._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=I._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],i=e.monthsShort[t.getMonth()],r=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+i+" "+r}},{key:"gotoDate",value:function(t){var e=!0;if(I._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=r<n.getTime()||i.getTime()<r}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),11<t.month&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var i=this.options,r=new Date,o=I._getDaysInMonth(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];I._setToStartOfDay(r),0<i.firstDay&&(s-=i.firstDay)<0&&(s+=7);for(var u=0===e?11:e-1,c=11===e?0:e+1,h=0===e?t-1:t,d=11===e?t+1:t,f=I._getDaysInMonth(h,u),p=o+s,g=p;7<g;)g-=7;p+=7-g;for(var m=!1,v=0,y=0;v<p;v++){var _=new Date(t,e,v-s+1),b=!!I._isDate(this.date)&&I._compareDates(_,this.date),w=I._compareDates(_,r),x=-1!==i.events.indexOf(_.toDateString()),S=v<s||o+s<=v,q=v-s+1,C=e,E=t,k=i.startRange&&I._compareDates(i.startRange,_),T=i.endRange&&I._compareDates(i.endRange,_),D=i.startRange&&i.endRange&&i.startRange<_&&_<i.endRange;S&&(v<s?(q=f+q,C=u,E=h):(q-=o,C=c,E=d));var L={day:q,month:C,year:E,hasEvent:x,isSelected:b,isToday:w,isDisabled:i.minDate&&_<i.minDate||i.maxDate&&_>i.maxDate||i.disableWeekends&&I._isWeekend(_)||i.disableDayFn&&i.disableDayFn(_),isEmpty:S,isStartRange:k,isEndRange:T,isInRange:D,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(this.renderDay(L)),7==++y&&(a.push(this.renderRow(l,i.isRTL,m)),y=0,m=!(l=[]))}return this.renderTable(i,a,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,e,n,i,r,o){var s,a,l=void 0,u=void 0,c=void 0,h=this.options,d=n===h.minYear,f=n===h.maxYear,p='<div id="'+o+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,m=!0;for(c=[],l=0;l<12;l++)c.push('<option value="'+(n===r?l-e:12+l-e)+'"'+(l===i?' selected="selected"':"")+(d&&l<h.minMonth||f&&l>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[l]+"</option>");for(s='<select class="datepicker-select orig-select-month" tabindex="-1">'+c.join("")+"</select>",v.isArray(h.yearRange)?(l=h.yearRange[0],u=h.yearRange[1]+1):(l=n-h.yearRange,u=1+n+h.yearRange),c=[];l<u&&l<=h.maxYear;l++)l>=h.minYear&&c.push('<option value="'+l+'" '+(l===n?'selected="selected"':"")+">"+l+"</option>");return a='<select class="datepicker-select orig-select-year" tabindex="-1">'+c.join("")+"</select>",p+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',p+='<div class="selects-container">',h.showMonthAfterYear?p+=a+s:p+=s+a,p+="</div>",d&&(0===i||h.minMonth>=i)&&(g=!1),f&&(11===i||h.maxMonth<=i)&&(m=!1),(p+='<button class="month-next'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),a+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e);this.destroySelects(),this.calendarEl.innerHTML=a;var u=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(u,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),u.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=v(I._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var e=v(t.target);e.hasClass("is-disabled")||(!e.hasClass("datepicker-day-button")||e.hasClass("is-empty")||e.parent().hasClass("is-disabled")?e.closest(".month-prev").length?this.prevMonth():e.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),I._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;7<=e;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return _get(I.__proto__||Object.getPrototypeOf(I),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){I._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,I._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){I._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return t}}]),I}()
;e._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"datepicker","M_Datepicker")}(cash),function(u){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},e=function(){function g(t,e){_classCallCheck(this,g);var n=_possibleConstructorReturn(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,g,t,e));return(n.el.M_Timepicker=n).options=u.extend({},g.defaults,e),n.id=M.guid(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupVariables(),n._setupEventHandlers(),n._clockSetup(),n._pickerSetup(),n}return _inherits(g,Component),_createClass(g,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),u(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),u(this.spanHours).on("click",this.showView.bind(this,"hours")),u(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,i=e.top;this.x0=n+this.options.dialRadius,this.y0=i+this.options.dialRadius,this.moved=!1;var r=g._Pos(t);this.dx=r.x-this.x0,this.dy=r.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=g._Pos(t),n=e.x-this.x0,i=e.y-this.y0;this.moved=!0,this.setHand(n,i,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var e=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var n=g._Pos(t),i=n.x-this.x0,r=n.y-this.y0;this.moved&&i===this.dx&&r===this.dy&&this.setHand(i,r),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(u(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){e.done()},this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=u(g._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=u('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var e=u('<div class="confirmation-btns"></div>');u('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(e).on("click",this.close.bind(this)),u('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(e).on("click",this.done.bind(this)),e.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=u('<div class="am-btn">AM</div>'),this.$pmBtn=u('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,i=g._createSVGEl("svg");i.setAttribute("class","timepicker-svg"),i.setAttribute("width",n),i.setAttribute("height",n);var r=g._createSVGEl("g");r.setAttribute("transform","translate("+t+","+t+")");var o=g._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var s=g._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var a=g._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bg"),a.setAttribute("r",e),r.appendChild(s),r.appendChild(a),r.appendChild(o),i.appendChild(r),this._canvas.appendChild(i),this.hand=s,this.bg=a,this.bearing=o,this.g=r}},{key:"_buildHoursView",value:function(){var t=u('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var e=1;e<13;e+=1){var n=t.clone(),i=e/6*Math.PI,r=this.options.outerRadius;n.css({left:this.options.dialRadius+Math.sin(i)*r-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*r-this.options.tickRadius+"px"}),n.html(0===e?"00":e),this.hoursView.appendChild(n[0])}else for(var o=0;o<24;o+=1){var s=t.clone(),a=o/6*Math.PI,l=0<o&&o<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(a)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(a)*l-this.options.tickRadius+"px"}),s.html(0===o?"00":o),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var t=u('<div class="timepicker-tick"></div>'),e=0;e<60;e+=5){var n=t.clone(),i=e/30*Math.PI;n.css({left:this.options.dialRadius+Math.sin(i)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*this.options.outerRadius-this.options.tickRadius+"px"}),n.html(g._addLeadingZero(e)),this.minutesView.appendChild(n[0])}}},{key:"_handleAmPmClick",value:function(t){var e=u(t.target);this.amOrPm=e.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(0<t[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=t[0]&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=g._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,e){"minutes"===t&&u(this.hoursView).css("visibility");var n="hours"===t,i=n?this.hoursView:this.minutesView,r=n?this.minutesView:this.hoursView;this.currentView=t,u(this.spanHours).toggleClass("text-primary",n),u(this.spanMinutes).toggleClass("text-primary",!n),r.classList.add("timepicker-dial-out"),u(i).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(e),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){u(r).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(t){var e=this.currentView,n=this[e],i="hours"===e,r=n*(Math.PI/(i?6:30)),o=i&&0<n&&n<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(r)*o,a=-Math.cos(r)*o,l=this;t?(u(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){u(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(s,a)},t)):this.setHand(s,a)}},{key:"setHand",value:function(t,e,n){var i=this,r=Math.atan2(t,-e),o="hours"===this.currentView,s=Math.PI/(o||n?6:30),a=Math.sqrt(t*t+e*e),l=o&&a<(this.options.outerRadius+this.options.innerRadius)/2,u=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),r<0&&(r=2*Math.PI+r);var c=Math.round(r/s);r=c*s,this.options.twelveHour?o?0===c&&(c=12):(n&&(c*=5),60===c&&(c=0)):o?(12===c&&(c=0),c=l?0===c?12:c:0===c?0:c+12):(n&&(c*=5),60===c&&(c=0)),this[this.currentView]!==c&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){i.vibrateTimer=null},100))),this[this.currentView]=c,o?this.spanHours.innerHTML=c:this.spanMinutes.innerHTML=g._addLeadingZero(c);var h=Math.sin(r)*(u-this.options.tickRadius),d=-Math.cos(r)*(u-this.options.tickRadius),f=Math.sin(r)*u,p=-Math.cos(r)*u;this.hand.setAttribute("x2",h),this.hand.setAttribute("y2",d),this.bg.setAttribute("cx",f),this.bg.setAttribute("cy",p)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,i=e?"":g._addLeadingZero(this.hours)+":"+g._addLeadingZero(this.minutes);this.time=i,!e&&this.options.twelveHour&&(i=i+" "+this.amOrPm),(this.el.value=i)!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return _get(g.__proto__||Object.getPrototypeOf(g),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return t}}]),g}();e._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"timepicker","M_Timepicker")}(cash),function(r){"use strict";var t={},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_CharacterCounter=n).options=r.extend({},i.defaults,e),n.isInvalid=!1,n.isValidLength=!1,n._setupCounter(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),r(this.counterEl).addClass("character-counter").css({"float":"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){r(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),e=this.el.value.length;this.isValidLength=e<=t;var n=e;t&&(n+="/"+t,this._validateInput()),r(this.counterEl).html(n)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),i}();M.CharacterCounter=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"characterCounter","M_CharacterCounter")}(cash),function(w){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},e=function(){function n(t,e){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,t,e));return(i.el.M_Carousel=i).options=w.extend({},n.defaults,e),i.hasMultipleSlides=1<i.$el.find(".carousel-item").length,i.showIndicators=i.options.indicators&&i.hasMultipleSlides,i.noWrap=i.options.noWrap||!i.hasMultipleSlides,i.pressed=!1,i.dragged=!1,i.offset=i.target=0,i.images=[],i.itemWidth=i.$el.find(".carousel-item").first().innerWidth(),i.itemHeight=i.$el.find(".carousel-item").first().innerHeight(),i.dim=2*i.itemWidth+i.options.padding||1,i._autoScrollBound=i._autoScroll.bind(i),i._trackBound=i._track.bind(i),i.options.fullWidth&&(i.options.dist=0,i._setCarouselHeight(),i.showIndicators&&i.$el.find(".carousel-fixed-item").addClass("with-indicators")),i.$indicators=w('<ul class="indicators"></ul>'),i.$el.find(".carousel-item").each(function(t,e){if(i.images.push(t),i.showIndicators){var n=w('<li class="indicator-item"></li>');0===e&&n[0].classList.add("active"),i.$indicators.append(n)}}),i.showIndicators&&i.$el.append(i.$indicators),i.count=i.images.length,i.options.numVisible=Math.min(i.count,i.options.numVisible),i.xform="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return void 0===document.body.style[e]||(i.xform=e,!1)}),i._setupEventHandlers(),i._scroll(i.offset),i}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(t){t.addEventListener("click",e._handleIndicatorClickBound)}));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&w(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(2<i||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var e=w(t.target).closest(".carousel-item").index();0!=this._wrap(this.center)-e&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(e)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var e=w(t.target).closest(".indicator-item");e.length&&this._cycleTo(e.index())}},{key:"_handleResize",value:function(){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(0<r)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",function(t){e.$el.css("height",t.offsetHeight+"px")});else if(!t){var l=n.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,2<(e=this.amplitude*Math.exp(-t/this.options.duration))||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var e=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){e.$el.removeClass("scrolling")},this.options.duration);var n,i,r,o,s=void 0,a=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=this.center,f=1/this.options.numVisible;if(this.offset="number"==typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=-(r=(i=this.offset-this.center*this.dim)<0?1:-1)*i*2/this.dim,n=this.count>>1,this.options.fullWidth?(l="translateX(0)",h=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",h=1-f*o),this.showIndicators){var p=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==p&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(p)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){a=this.images[this._wrap(this.center)],w(a).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),a.classList.add("active"));var m=l+" translateX("+-i/2+"px) translateX("+r*this.options.shift*o*s+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(a,h,0,m)}for(s=1;s<=n;++s){if(this.options.fullWidth?(u=this.options.dist,c=s===n&&i<0?1-o:1):(u=this.options.dist*(2*s+o*r),c=1-f*(2*s+o*r)),!this.noWrap||this.center+s<this.count){a=this.images[this._wrap(this.center+s)];var v=l+" translateX("+(this.options.shift+(this.dim*s-i)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(a,c,-s,v)}if(this.options.fullWidth?(u=this.options.dist,c=s===n&&0<i?1-o:1):(u=this.options.dist*(2*s-o*r),c=1-f*(2*s-o*r)),!this.noWrap||0<=this.center-s){a=this.images[this._wrap(this.center-s)];var y=l+" translateX("+(-this.options.shift+(-this.dim*s-i)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(a,c,-s,y)}}if(!this.noWrap||0<=this.center&&this.center<this.count){a=this.images[this._wrap(this.center)];var _=l+" translateX("+-i/2+"px) translateX("+r*this.options.shift*o+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(a,h,0,_)}var b=this.$el.find(".carousel-item").eq(this._wrap(this.center));d!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,b[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,b[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):0<n&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):0<n&&(this.target-=this.dim*n),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return t}}]),n}();M.Carousel=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"carousel","M_Carousel")}(cash),function(A){"use strict";var t={onOpen:void 0,onClose:void 0},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_TapTarget=n).options=A.extend({},i.defaults,e),n.isOpen=!1,n.$origin=A("#"+n.$el.attr("data-target")),n._setup(),n._calculatePositioning(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(){this.open()}},{key:"_handleOriginClick",value:function(){this.close()}},{key:"_handleResize",value:function(){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){A(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=A(this.wrapper).find(".tap-target-wave")[0],this.originEl=A(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],A(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(A(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var e=this.$origin.parents(),n=0;n<e.length&&!(t="fixed"==A(e[n]).css("position"));n++);var i=this.$origin.outerWidth(),r=this.$origin.outerHeight(),o=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,a=window.innerWidth,l=window.innerHeight,u=a/2,c=l/2,h=s<=u,d=u<s,f=o<=c,p=c<o,g=.25*a<=s&&s<=.75*a,m=this.$el.outerWidth(),v=this.$el.outerHeight(),y=o+r/2-v/2,_=s+i/2-m/2,b=t?"fixed":"absolute",w=g?m:m/2+i,x=v/2,S=f?v/2:0,q=h&&!g?m/2-i:0,C=i,E=p?"bottom":"top",k=2*i,T=k,D=v/2-T/2,L=m/2-k/2,I={};I.top=f?y+"px":"",I.right=d?a-_-m+"px":"",I.bottom=p?l-y-v+"px":"",I.left=h?_+"px":"",I.position=b,A(this.wrapper).css(I),A(this.contentEl).css({width:w+"px",height:x+"px",top:S+"px",right:"0px",bottom:"0px",left:q+"px",padding:C+"px",verticalAlign:E}),A(this.waveEl).css({top:D+"px",left:L+"px",width:k+"px",height:T+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return t}}]),i}();M.TapTarget=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"tapTarget","M_TapTarget")}(cash),function(c){"use strict";var t={classes:"",dropdownOptions:{}},e=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return n.$el.hasClass("browser-default")?_possibleConstructorReturn(n):((n.el.M_FormSelect=n).options=c.extend({},i.defaults,e),n.isMultiple=n.$el.prop("multiple"),n.el.tabIndex=-1,n._keysSelected={},n._valueDict={},n._setupDropdown(),n._setupEventHandlers(),n)}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),c(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.addEventListener("click",e._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;c(
this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.removeEventListener("click",e._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var e=c(t.target).closest("li")[0],n=e.id;if(!c(e).hasClass("disabled")&&!c(e).hasClass("optgroup")&&n.length){var i=!0;if(this.isMultiple){var r=c(this.dropdownOptions).find("li.disabled.selected");r.length&&(r.removeClass("selected"),r.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(r[0].id)),i=this._toggleEntryFromArray(n)}else c(this.dropdownOptions).find("li").removeClass("selected"),c(e).toggleClass("selected",i);c(this._valueDict[n].el).prop("selected")!==i&&(c(this._valueDict[n].el).prop("selected",i),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var i=this;this.wrapper=document.createElement("div"),c(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(c(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),c(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(t){if(c(t).is("option")){var e=void 0;e=i.isMultiple?i._appendOptionWithIcon(i.$el,t,"multiple"):i._appendOptionWithIcon(i.$el,t),i._addOptionToValueDict(t,e)}else if(c(t).is("optgroup")){var n=c(t).children("option");c(i.dropdownOptions).append(c('<li class="optgroup"><span>'+t.getAttribute("label")+"</span></li>")[0]),n.each(function(t){var e=i._appendOptionWithIcon(i.$el,t,"optgroup-option");i._addOptionToValueDict(t,e)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),c(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&c(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var t=c('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(t[0]),!this.el.disabled){var e=c.extend({},this.options.dropdownOptions);e.onOpenEnd=function(){var t=c(i.dropdownOptions).find(".selected").first();if(t.length&&(M.keyDown=!0,i.dropdown.focusedIndex=t.index(),i.dropdown._focusFocusedItem(),M.keyDown=!1,i.dropdown.isScrollable)){var e=t[0].getBoundingClientRect().top-i.dropdownOptions.getBoundingClientRect().top;e-=i.dropdownOptions.clientHeight/2,i.dropdownOptions.scrollTop=e}},this.isMultiple&&(e.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,e)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){c(this.wrapper).find(".caret").remove(),c(this.input).remove(),c(this.dropdownOptions).remove(),c(this.wrapper).before(this.$el),c(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,e,n){var i=e.disabled?"disabled ":"",r="optgroup-option"===n?"optgroup-option ":"",o=this.isMultiple?'<label><input type="checkbox"'+i+'"/><span>'+e.innerHTML+"</span></label>":e.innerHTML,s=c("<li></li>"),a=c("<span></span>");a.html(o),s.addClass(i+" "+r),s.append(a);var l=e.getAttribute("data-icon");if(l){var u=c('<img alt="" src="'+l+'">');s.prepend(u)}return c(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(t){var e=!this._keysSelected.hasOwnProperty(t),n=c(this._valueDict[t].optionEl);return e?this._keysSelected[t]=!0:delete this._keysSelected[t],n.toggleClass("selected",e),n.find('input[type="checkbox"]').prop("checked",e),n.prop("selected",e),e}},{key:"_setValueToInput",value:function(){var n=[];if(this.$el.find("option").each(function(t){if(c(t).prop("selected")){var e=c(t).text();n.push(e)}}),!n.length){var t=this.$el.find("option:disabled").eq(0);t.length&&""===t[0].value&&n.push(t.text())}this.input.value=n.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var e=this._valueDict[t],n=c(e.el).prop("selected");c(e.optionEl).find('input[type="checkbox"]').prop("checked",n),n?(this._activateOption(c(this.dropdownOptions),c(e.optionEl)),this._keysSelected[t]=!0):c(e.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,e){e&&(this.isMultiple||t.find("li.selected").removeClass("selected"),c(e).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return t}}]),i}();M.FormSelect=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"formSelect","M_FormSelect")}(cash),function(r,e){"use strict";var t={},n=function(){function i(t,e){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,e));return(n.el.M_Range=n).options=r.extend({},i.defaults,e),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return _inherits(i,Component),_createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){r(this.value).html(this.$el.val()),r(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();r(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(r(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),r(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var e=this._calcRangeOffset();r(this.thumb).addClass("active").css("left",e+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){r(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();r(this.thumb).addClass("active").css("left",t+"px"),r(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var t=7+parseInt(this.$el.css("padding-left"))+"px";r(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:t,duration:100})),r(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),r(this.thumb).addClass("thumb"),r(this.value).addClass("value"),r(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){r(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var t=-7+parseInt(r(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:t,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return _get(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return t}}]),i}();M.Range=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"range","M_Range"),n.init(r("input[type=range]"))}(cash,M.anime),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e||(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e,t,t.document)}:n(jQuery,window,document)}(function(A,v,y,F){function o(e){var n,i,r={};A.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),r[i]=t,"o"===n[1]&&o(e[t]))}),e._hungarianMap=r}function b(e,n,i){var r;e._hungarianMap||o(e),A.each(n,function(t){(r=e._hungarianMap[t])===F||!i&&n[r]!==F||("o"===r.charAt(0)?(n[r]||(n[r]={}),A.extend(!0,n[r],n[t]),b(e[r],n[r],i)):n[r]=n[t])})}function w(t){var e=Ut.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&At(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&At(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Ht(t)}function x(t){if(ue(t,"ordering","bSort"),ue(t,"orderMulti","bSortMulti"),ue(t,"orderClasses","bSortClasses"),ue(t,"orderCellsTop","bSortCellsTop"),ue(t,"order","aaSorting"),ue(t,"orderFixed","aaSortingFixed"),ue(t,"paging","bPaginate"),ue(t,"pagingType","sPaginationType"),ue(t,"pageLength","iDisplayLength"),ue(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&b(Ut.models.oSearch,t[e])}function S(t){ue(t,"orderable","bSortable"),ue(t,"orderData","aDataSort"),ue(t,"orderSequence","asSorting"),ue(t,"orderDataType","sortDataType");var e=t.aDataSort;e&&!A.isArray(e)&&(t.aDataSort=[e])}function q(t){if(!Ut.__browser){var e={};Ut.__browser=e;var n=A("<div/>").css({position:"fixed",top:0,left:-1*A(v).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(A("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(A("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=n.children(),r=i.children();e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}A.extend(t.oBrowser,Ut.__browser),t.oScroll.iBarWidth=Ut.__browser.barWidth}function n(t,e,n,i,r,o){var s,a=!1;for(n!==F&&(s=n,a=!0);i!==r;)t.hasOwnProperty(i)&&(s=a?e(s,t[i],i,t):t[i],a=!0,i+=o);return s}function C(t,e){var n=Ut.defaults.column,i=t.aoColumns.length;n=A.extend({},Ut.models.oColumn,n,{nTh:e||y.createElement("th"),sTitle:n.sTitle?n.sTitle:e?e.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.mData:i,idx:i});t.aoColumns.push(n),(n=t.aoPreSearchCols)[i]=A.extend({},Ut.models.oSearch,n[i]),E(t,i,A(e).data())}function E(t,e,n){e=t.aoColumns[e];var i=t.oClasses,r=A(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=r.attr("width")||null;var o=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(e.sWidthOrig=o[1])}n!==F&&null!==n&&(S(n),b(Ut.defaults.column,n),n.mDataProp!==F&&!n.mData&&(n.mData=n.mDataProp),n.sType&&(e._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),A.extend(e,n),At(e,n,"sWidth","sWidthOrig"),n.iDataSort!==F&&(e.aDataSort=[n.iDataSort]),At(e,n,"aDataSort"));var s=e.mData,a=P(s),l=e.mRender?P(e.mRender):null;n=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=A.isPlainObject(s)&&(n(s.sort)||n(s.type)||n(s.filter)),e._setter=null,e.fnGetData=function(t,e,n){var i=a(t,e,F,n);return l&&e?l(i,e,t,n):i},e.fnSetData=function(t,e,n){return p(s)(t,e,n)},"number"!=typeof s&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,r.addClass(i.sSortableNone)),t=-1!==A.inArray("asc",e.asSorting),n=-1!==A.inArray("desc",e.asSorting),e.bSortable&&(t||n)?t&&!n?(e.sSortingClass=i.sSortableAsc,e.sSortingClassJUI=i.sSortJUIAscAllowed):!t&&n?(e.sSortingClass=i.sSortableDesc,e.sSortingClassJUI=i.sSortJUIDescAllowed):(e.sSortingClass=i.sSortable,e.sSortingClassJUI=i.sSortJUI):(e.sSortingClass=i.sSortableNone,e.sSortingClassJUI="")}function R(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&pt(t),Pt(t,null,"column-sizing",[t])}function M(t,e){var n=k(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function u(t,e){var n=k(t,"bVisible");return-1!==(n=A.inArray(e,n))?n:null}function _(t){var n=0;return A.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==A(e.nTh).css("display")&&n++}),n}function k(t,n){var i=[];return A.map(t.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function s(t){var e,n,i,r,o,s,a,l,u,c=t.aoColumns,h=t.aoData,d=Ut.ext.type.detect;for(e=0,n=c.length;e<n;e++)if(u=[],!(a=c[e]).sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(i=0,r=d.length;i<r;i++){for(o=0,s=h.length;o<s&&(u[o]===F&&(u[o]=I(t,o,e,"type")),(l=d[i](u[o],t))||i===d.length-1)&&"html"!==l;o++);if(l){a.sType=l;break}}a.sType||(a.sType="string")}}function T(t,e,n,i){var r,o,s,a,l,u,c=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--){var h=(u=e[r]).targets!==F?u.targets:u.aTargets;for(A.isArray(h)||(h=[h]),o=0,s=h.length;o<s;o++)if("number"==typeof h[o]&&0<=h[o]){for(;c.length<=h[o];)C(t);i(h[o],u)}else if("number"==typeof h[o]&&h[o]<0)i(c.length+h[o],u);else if("string"==typeof h[o])for(a=0,l=c.length;a<l;a++)("_all"==h[o]||A(c[a].nTh).hasClass(h[o]))&&i(a,u)}if(n)for(r=0,t=n.length;r<t;r++)i(r,n[r])}function D(t,e,n,i){var r=t.aoData.length,o=A.extend(!0,{},Ut.models.oRow,{src:n?"dom":"data",idx:r});o._aData=e,t.aoData.push(o);for(var s=t.aoColumns,a=0,l=s.length;a<l;a++)s[a].sType=null;return t.aiDisplayMaster.push(r),(e=t.rowIdFn(e))!==F&&(t.aIds[e]=o),(n||!t.oFeatures.bDeferRender)&&g(t,r,n,i),r}function L(n,t){var i;return t instanceof A||(t=A(t)),t.map(function(t,e){return i=l(n,e),D(n,i.data,e,i.cells)})}function I(t,e,n,i){var r=t.iDraw,o=t.aoColumns[n],s=t.aoData[e]._aData,a=o.sDefaultContent,l=o.fnGetData(s,i,{settings:t,row:e,col:n});if(l===F)return t.iDrawError!=r&&null===a&&(It(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),a;if(l!==s&&null!==l||null===a||i===F){if("function"==typeof l)return l.call(s)}else l=a;return null===l&&"display"==i?"":l}function i(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function c(t){return A.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function P(r){if(A.isPlainObject(r)){var o={};return A.each(r,function(t,e){e&&(o[t]=P(e))}),function(t,e,n,i){var r=o[e]||o._;return r!==F?r(t,e,n,i):t}}if(null===r)return function(t){return t};if("function"==typeof r)return function(t,e,n,i){return r(t,e,n,i)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(t){return t[r]};var a=function(t,e,n){var i,r;if(""!==n)for(var o=0,s=(r=c(n)).length;o<s;o++){if(n=r[o].match(ce),i=r[o].match(he),n){if(r[o]=r[o].replace(ce,""),""!==r[o]&&(t=t[r[o]]),i=[],r.splice(0,o+1),r=r.join("."),A.isArray(t))for(o=0,s=t.length;o<s;o++)i.push(a(t[o],e,r));t=""===(t=n[0].substring(1,n[0].length-1))?i:i.join(t);break}if(i)r[o]=r[o].replace(he,""),t=t[r[o]]();else{if(null===t||t[r[o]]===F)return F;t=t[r[o]]}}return t};return function(t,e){return a(t,e,r)}}function p(i){if(A.isPlainObject(i))return p(i._);if(null===i)return function(){};if("function"==typeof i)return function(t,e,n){i(t,"set",e,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("("))return function(t,e){t[i]=e};var l=function(t,e,n){var i;i=(n=c(n))[n.length-1];for(var r,o,s=0,a=n.length-1;s<a;s++){if(r=n[s].match(ce),o=n[s].match(he),r){if(n[s]=n[s].replace(ce,""),t[n[s]]=[],(i=n.slice()).splice(0,s+1),r=i.join("."),A.isArray(e))for(o=0,a=e.length;o<a;o++)l(i={},e[o],r),t[n[s]].push(i);else t[n[s]]=e;return}o&&(n[s]=n[s].replace(he,""),t=t[n[s]](e)),null!==t[n[s]]&&t[n[s]]!==F||(t[n[s]]={}),t=t[n[s]]}i.match(he)?t[i.replace(he,"")](e):t[i.replace(ce,"")]=e};return function(t,e){return l(t,e,i)}}function f(t){return re(t.aoData,"_aData")}function a(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function h(t,e,n){for(var i=-1,r=0,o=t.length;r<o;r++)t[r]==e?i=r:t[r]>e&&t[r]--;-1!=i&&n===F&&t.splice(i,1)}function r(n,i,t,e){var r,o=n.aoData[i],s=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=I(n,i,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==o.src)){var a=o.anCells;if(a)if(e!==F)s(a[e],e);else for(t=0,r=a.length;t<r;t++)s(a[t],t)}else o._aData=l(n,o,e,e===F?F:o._aData).data;if(o._aSortData=null,o._aFilterData=null,s=n.aoColumns,e!==F)s[e].sType=null;else{for(t=0,r=s.length;t<r;t++)s[t].sType=null;d(n,o)}}function l(t,e,n,i){var r,o,s,a=[],l=e.firstChild,u=0,c=t.aoColumns,h=t._rowReadObject,d=(i=i!==F?i:h?{}:[],function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),p(t)(i,e.getAttribute(n)))}}),f=function(t){n!==F&&n!==u||(o=c[u],s=A.trim(t.innerHTML),o&&o._bAttrSrc?(p(o.mData._)(i,s),d(o.mData.sort,t),d(o.mData.type,t),d(o.mData.filter,t)):h?(o._setter||(o._setter=p(o.mData)),o._setter(i,s)):i[u]=s),u++};if(l)for(;l;)"TD"!=(r=l.nodeName.toUpperCase())&&"TH"!=r||(f(l),a.push(l)),l=l.nextSibling;else for(l=0,r=(a=e.anCells).length;l<r;l++)f(a[l]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&p(t.rowId)(i,e),{data:i,cells:a}}function g(t,e,n,i){var r,o,s,a,l,u=t.aoData[e],c=u._aData,h=[];if(null===u.nTr){for(r=n||y.createElement("tr"),u.nTr=r,u.anCells=h,r._DT_RowIndex=e,d(t,u),a=0,l=t.aoColumns.length;a<l;a++)s=t.aoColumns[a],(o=n?i[a]:y.createElement(s.sCellType))._DT_CellIndex={row:e,column:a},h.push(o),n&&!s.mRender&&s.mData===a||A.isPlainObject(s.mData)&&s.mData._===a+".display"||(o.innerHTML=I(t,e,a,"display")),s.sClass&&(o.className+=" "+s.sClass),s.bVisible&&!n?r.appendChild(o):!s.bVisible&&n&&o.parentNode.removeChild(o),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,o,I(t,e,a),c,e,a);Pt(t,"aoRowCreatedCallback",null,[r,c,e])}u.nTr.setAttribute("role","row")}function d(t,e){var n=e.nTr,i=e._aData;if(n){var r=t.rowIdFn(i);r&&(n.id=r),i.DT_RowClass&&(r=i.DT_RowClass.split(" "),e.__rowc=e.__rowc?le(e.__rowc.concat(r)):r,A(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&A(n).attr(i.DT_RowAttr),i.DT_RowData&&A(n).data(i.DT_RowData)}}function m(t){var e,n,i,r,o,s=t.nTHead,a=t.nTFoot,l=0===A("th, td",s).length,u=t.oClasses,c=t.aoColumns;for(l&&(r=A("<tr/>").appendTo(s)),e=0,n=c.length;e<n;e++)o=c[e],i=A(o.nTh).addClass(o.sClass),l&&i.appendTo(r),t.oFeatures.bSort&&(i.addClass(o.sSortingClass),!1!==o.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ct(t,o.nTh,e))),o.sTitle!=i[0].innerHTML&&i.html(o.sTitle),Nt(t,"header")(t,i,o,u);if(l&&H(t.aoHeader,s),A(s).find(">tr").attr("role","row"),A(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),A(a).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==a)for(e=0,n=(t=t.aoFooter[0]).length;e<n;e++)(o=c[e]).nTf=t[e].cell,o.sClass&&A(o.nTf).addClass(o.sClass)}function O(t,e,n){var i,r,o,s,a=[],l=[],u=t.aoColumns.length;if(e){for(n===F&&(n=!1),i=0,r=e.length;i<r;i++){for(a[i]=e[i].slice(),a[i].nTr=e[i].nTr,o=u-1;0<=o;o--)!t.aoColumns[o].bVisible&&!n&&a[i].splice(o,1);l.push([])}for(i=0,r=a.length;i<r;i++){if(t=a[i].nTr)for(;o=t.firstChild;)t.removeChild(o);for(o=0,e=a[i].length;o<e;o++)if(s=u=1,l[i][o]===F){for(t.appendChild(a[i][o].cell),l[i][o]=1;a[i+u]!==F&&a[i][o].cell==a[i+u][o].cell;)l[i+u][o]=1,u++;for(;a[i][o+s]!==F&&a[i][o].cell==a[i][o+s].cell;){for(n=0;n<u;n++)l[i+n][o+s]=1;s++}A(a[i][o].cell).attr("rowspan",u).attr("colspan",s)}}}}function N(t){var e=Pt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==A.inArray(!1,e))dt(t,!1);else{e=[];var n=0,i=t.asStripeClasses,r=i.length,o=t.oLanguage,s=t.iInitDisplayStart,a="ssp"==jt(t),l=t.aiDisplay;t.bDrawing=!0,s!==F&&-1!==s&&(t._iDisplayStart=a?s:s>=t.fnRecordsDisplay()?0:s,t.iInitDisplayStart=-1);s=t._iDisplayStart;var u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,dt(t,!1);else if(a){if(!t.bDestroying&&!V(t))return}else t.iDraw++;if(0!==l.length)for(o=a?t.aoData.length:u,a=a?0:s;a<o;a++){var c=l[a],h=t.aoData[c];if(null===h.nTr&&g(t,c),c=h.nTr,0!==r){var d=i[n%r];h._sRowStripe!=d&&(A(c).removeClass(h._sRowStripe).addClass(d),h._sRowStripe=d)}Pt(t,"aoRowCallback",null,[c,h._aData,n,a]),e.push(c),n++}else n=o.sZeroRecords,1==t.iDraw&&"ajax"==jt(t)?n=o.sLoadingRecords:o.sEmptyTable&&0===t.fnRecordsTotal()&&(n=o.sEmptyTable),e[0]=A("<tr/>",{"class":r?i[0]:""}).append(A("<td />",{valign:"top",colSpan:_(t),"class":t.oClasses.sRowEmpty}).html(n))[0];Pt(t,"aoHeaderCallback","header",[A(t.nTHead).children("tr")[0],f(t),s,u,l]),Pt(t,"aoFooterCallback","footer",[A(t.nTFoot).children("tr")[0],f(t),s,u,l]),(i=A(t.nTBody)).children().detach(),i.append(A(e)),Pt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function j(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&xt(t),i?G(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,N(t),t._drawHold=!1}function B(t){var e=t.oClasses,n=A(t.nTable),i=(n=A("<div/>").insertBefore(n),t.oFeatures),r=A("<div/>",{id:t.sTableId+"_wrapper","class":e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,s,a,l,u,c,h=t.sDom.split(""),d=0;d<h.length;d++){if(o=null,"<"==(s=h[d])){if(a=A("<div/>")[0],"'"==(l=h[d+1])||'"'==l){for(u="",c=2;h[d+c]!=l;)u+=h[d+c],c++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),a.id=l[0].substr(1,l[0].length-1),a.className=l[1]):"#"==u.charAt(0)?a.id=u.substr(1,u.length-1):a.className=u,d+=c}r.append(a),r=A(a)}else if(">"==s)r=r.parent();else if("l"==s&&i.bPaginate&&i.bLengthChange)o=lt(t);else if("f"==s&&i.bFilter)o=K(t);else if("r"==s&&i.bProcessing)o=ht(t);else if("t"==s)o=ft(t);else if("i"==s&&i.bInfo)o=nt(t);else if("p"==s&&i.bPaginate)o=ut(t);else if(0!==Ut.ext.feature.length)for(c=0,l=(a=Ut.ext.feature).length;c<l;c++)if(s==a[c].cFeature){o=a[c].fnInit(t);break}o&&((a=t.aanFeatures)[s]||(a[s]=[]),a[s].push(o),r.append(o))}n.replaceWith(r),t.nHolding=null}function H(t,e){var n,i,r,o,s,a,l,u,c,h,d=A(e).children("tr");for(t.splice(0,t.length),r=0,a=d.length;r<a;r++)t.push([]);for(r=0,a=d.length;r<a;r++)for(i=(n=d[r]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(u=(u=1*i.getAttribute("colspan"))&&0!==u&&1!==u?u:1,c=(c=1*i.getAttribute("rowspan"))&&0!==c&&1!==c?c:1,o=0,s=t[r];s[o];)o++;for(l=o,h=1===u,s=0;s<u;s++)for(o=0;o<c;o++)t[r+o][l+s]={cell:i,unique:h},t[r+o].nTr=n}i=i.nextSibling}}function z(t,e,n){var i=[];n||(n=t.aoHeader,e&&H(n=[],e));e=0;for(var r=n.length;e<r;e++)for(var o=0,s=n[e].length;o<s;o++)!n[e][o].unique||i[o]&&t.bSortCellsTop||(i[o]=n[e][o].cell);return i}function W(i,t,e){if(Pt(i,"aoServerParams","serverParams",[t]),t&&A.isArray(t)){var r={},o=/(.*?)\[\]$/;A.each(t,function(t,e){var n=e.name.match(o);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(e.value)):r[e.name]=e.value}),t=r}var n,s=i.ajax,a=i.oInstance,l=function(t){Pt(i,null,"xhr",[i,t,i.jqXHR]),e(t)};if(A.isPlainObject(s)&&s.data){n=s.data;var u=A.isFunction(n)?n(t,i):n;t=A.isFunction(n)&&u?u:A.extend(!0,t,u);delete s.data}u={data:t,success:function(t){var e=t.error||t.sError;e&&It(i,0,e),i.json=t,l(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){var n=Pt(i,null,"xhr",[i,null,i.jqXHR]);-1===A.inArray(!0,n)&&("parsererror"==e?It(i,0,"Invalid JSON response",1):4===t.readyState&&It(i,0,"Ajax error",7)),dt(i,!1)}},i.oAjaxData=t,Pt(i,null,"preXhr",[i,t]),i.fnServerData?i.fnServerData.call(a,i.sAjaxSource,A.map(t,function(t,e){return{name:e,value:t}}),l,i):i.sAjaxSource||"string"==typeof s?i.jqXHR=A.ajax(A.extend(u,{url:s||i.sAjaxSource})):A.isFunction(s)?i.jqXHR=s.call(a,t,l,i):(i.jqXHR=A.ajax(A.extend(u,s)),s.data=n)}function V(e){return!e.bAjaxDataGet||(e.iDraw++,dt(e,!0),W(e,t(e),function(t){$(e,t)}),!1)}function t(t){var e,n,i,r,o=t.aoColumns,s=o.length,a=t.oFeatures,l=t.oPreviousSearch,u=t.aoPreSearchCols,c=[],h=wt(t);e=t._iDisplayStart,n=!1!==a.bPaginate?t._iDisplayLength:-1;var d=function(t,e){c.push({name:t,value:e})};d("sEcho",t.iDraw),d("iColumns",s),d("sColumns",re(o,"sName").join(",")),d("iDisplayStart",e),d("iDisplayLength",n);var f={draw:t.iDraw,columns:[],order:[],start:e,length:n,search:{value:l.sSearch,regex:l.bRegex}};for(e=0;e<s;e++)i=o[e],r=u[e],n="function"==typeof i.mData?"function":i.mData,f.columns.push({data:n,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),d("mDataProp_"+e,n),a.bFilter&&(d("sSearch_"+e,r.sSearch),d("bRegex_"+e,r.bRegex),d("bSearchable_"+e,i.bSearchable)),a.bSort&&d("bSortable_"+e,i.bSortable);return a.bFilter&&(d("sSearch",l.sSearch),d("bRegex",l.bRegex)),a.bSort&&(A.each(h,function(t,e){f.order.push({column:e.col,dir:e.dir}),d("iSortCol_"+t,e.col),d("sSortDir_"+t,e.dir)}),d("iSortingCols",h.length)),null===(o=Ut.ext.legacy.ajax)?t.sAjaxSource?c:f:o?c:f}function $(t,e){var n=U(t,e),i=e.sEcho!==F?e.sEcho:e.draw,r=e.iTotalRecords!==F?e.iTotalRecords:e.recordsTotal,o=e.iTotalDisplayRecords!==F?e.iTotalDisplayRecords:e.recordsFiltered;if(i){if(1*i<t.iDraw)return;t.iDraw=1*i}for(a(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(o,10),i=0,r=n.length;i<r;i++)D(t,n[i]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,N(t),t._bInitComplete||st(t,e),t.bAjaxDataGet=!0,dt(t,!1)}function U(t,e){var n=A.isPlainObject(t.ajax)&&t.ajax.dataSrc!==F?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===n?e.aaData||e[n]:""!==n?P(n)(e):e}function K(n){var t=n.oClasses,e=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,o=n.aanFeatures,s='<input type="search" class="'+t.sFilterInput+'"/>',a=(a=i.sSearch).match(/_INPUT_/)?a.replace("_INPUT_",s):a+s,l=(t=A("<div/>",{id:o.f?null:e+"_filter","class":t.sFilter}).append(A("<label/>").append(a)),o=function(){var t=this.value?this.value:"";t!=r.sSearch&&(G(n,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),n._iDisplayStart=0,N(n))},s=null!==n.searchDelay?n.searchDelay:"ssp"===jt(n)?400:0,A("input",t).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",s?me(o,s):o).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e));return A(n.nTable).on("search.dt.DT",function(t,e){if(n===e)try{l[0]!==y.activeElement&&l.val(r.sSearch)}catch(i){}}),t[0]}function G(t,e,n){var i=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(s(t),"ssp"!=jt(t)){for(X(t,e.sSearch,n,e.bEscapeRegex!==F?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<r.length;e++)Y(t,r[e].sSearch,e,r[e].bEscapeRegex!==F?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);Q(t)}else o(e);t.bFiltered=!0,Pt(t,null,"search",[t])}function Q(t){for(var e,n,i=Ut.ext.search,r=t.aiDisplay,o=0,s=i.length;o<s;o++){for(var a=[],l=0,u=r.length;l<u;l++)n=r[l],e=t.aoData[n],i[o](t,e._aFilterData,n,e._aData,l)&&a.push(n);r.length=0,A.merge(r,a)}}function Y(t,e,n,i,r,o){if(""!==e){var s=[],a=t.aiDisplay;for(i=J(e,i,r,o),r=0;r<a.length;r++)e=t.aoData[a[r]]._aFilterData[n],i.test(e)&&s.push(a[r]);t.aiDisplay=s}}function X(t,e,n,i,r,o){i=J(e,i,r,o),o=t.oPreviousSearch.sSearch;var s,a=t.aiDisplayMaster;r=[];if(0!==Ut.ext.search.length&&(n=!0),s=Z(t),e.length<=0)t.aiDisplay=a.slice();else{for((s||n||o.length>e.length||0!==e.indexOf(o)||t.bSorted)&&(t.aiDisplay=a.slice()),e=t.aiDisplay,n=0;n<e.length;n++)i.test(t.aoData[e[n]]._sFilterRow)&&r.push(e[n]);t.aiDisplay=r}}function J(t,e,n,i){return t=e?t:de(t),n&&(t="^(?=.*?"+A.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,i?"i":"")}function Z(t){var e,n,i,r,o,s,a,l,u=t.aoColumns,c=Ut.ext.type.search;for(e=!1,n=0,r=t.aoData.length;n<r;n++)if(!(l=t.aoData[n])._aFilterData){for(s=[],i=0,o=u.length;i<o;i++)(e=u[i]).bSearchable?(a=I(t,n,i,"filter"),c[e.sType]&&(a=c[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(fe.innerHTML=a,a=pe?fe.textContent:fe.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);l._aFilterData=s,l._sFilterRow=s.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,i=A("<div/>",{"class":t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),A(t.nTable).attr("aria-describedby",e+"_info")),i[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,i=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),a=s?n.sInfo:n.sInfoEmpty;s!==o&&(a+=" "+n.sInfoFiltered),a=rt(t,a+=n.sInfoPostFix),null!==(n=n.fnInfoCallback)&&(a=n.call(t.oInstance,t,i,r,o,s,a)),A(e).html(a)}}function rt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),s=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,s?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,s?1:Math.ceil(o/r)))}function ot(n){var i,t,e,r=n.iInitDisplayStart,o=n.aoColumns;t=n.oFeatures;var s=n.bDeferLoading;if(n.bInitialised){for(B(n),m(n),O(n,n.aoHeader),O(n,n.aoFooter),dt(n,!0),t.bAutoWidth&&mt(n),i=0,
t=o.length;i<t;i++)(e=o[i]).sWidth&&(e.nTh.style.width=bt(e.sWidth));Pt(n,null,"preInit",[n]),j(n),("ssp"!=(o=jt(n))||s)&&("ajax"==o?W(n,[],function(t){var e=U(n,t);for(i=0;i<e.length;i++)D(n,e[i]);n.iInitDisplayStart=r,j(n),dt(n,!1),st(n,t)},n):(dt(n,!1),st(n)))}else setTimeout(function(){ot(n)},200)}function st(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&R(t),Pt(t,null,"plugin-init",[t,e]),Pt(t,"aoInitComplete","init",[t,e])}function at(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ot(t),Pt(t,null,"length",[t,n])}function lt(i){for(var t=i.oClasses,e=i.sTableId,n=i.aLengthMenu,r=(o=A.isArray(n[0]))?n[0]:n,o=(n=o?n[1]:n,A("<select/>",{name:e+"_length","aria-controls":e,"class":t.sLengthSelect})),s=0,a=r.length;s<a;s++)o[0][s]=new Option(n[s],r[s]);var l=A("<div><label/></div>").addClass(t.sLength);return i.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),A("select",l).val(i._iDisplayLength).on("change.DT",function(){at(i,A(this).val()),N(i)}),A(i.nTable).on("length.dt.DT",function(t,e,n){i===e&&A("select",l).val(n)}),l[0]}function ut(t){var e=t.sPaginationType,s=Ut.ext.pager[e],a="function"==typeof s,l=function(t){N(t)},u=(e=A("<div/>").addClass(t.oClasses.sPaging+e)[0],t.aanFeatures);return a||s.fnInit(t,e,l),u.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(a){var e,n=t._iDisplayStart,i=t._iDisplayLength,r=t.fnRecordsDisplay(),o=(n=(o=-1===i)?0:Math.ceil(n/i),i=o?1:Math.ceil(r/i),r=s(n,i),0);for(e=u.p.length;o<e;o++)Nt(t,"pageButton")(t,u.p[o],o,r,n,i)}else s.fnUpdate(t,l)},sName:"pagination"})),e}function ct(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof e?o<(i=e*r)&&(i=0):"first"==e?i=0:"previous"==e?(i=0<=r?i-r:0)<0&&(i=0):"next"==e?i+r<o&&(i+=r):"last"==e?i=Math.floor((o-1)/r)*r:It(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Pt(t,null,"page",[t]),n&&N(t)),e}function ht(t){return A("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function dt(t,e){t.oFeatures.bProcessing&&A(t.aanFeatures.r).css("display",e?"block":"none"),Pt(t,null,"processing",[t,e])}function ft(t){(c=A(t.nTable)).attr("role","grid");var e=t.oScroll;if(""===e.sX&&""===e.sY)return t.nTable;var n=e.sX,i=e.sY,r=t.oClasses,o=c.children("caption"),s=o.length?o[0]._captionSide:null,a=A(c[0].cloneNode(!1)),l=A(c[0].cloneNode(!1)),u=c.children("tfoot");u.length||(u=null),a=A("<div/>",{"class":r.sScrollWrapper}).append(A("<div/>",{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?n?bt(n):null:"100%"}).append(A("<div/>",{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:e.sXInner||"100%"}).append(a.removeAttr("id").css("margin-left",0).append("top"===s?o:null).append(c.children("thead"))))).append(A("<div/>",{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:n?bt(n):null}).append(c)),u&&a.append(A("<div/>",{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:n?n?bt(n):null:"100%"}).append(A("<div/>",{"class":r.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append("bottom"===s?o:null).append(c.children("tfoot")))));var c,h=(c=a.children())[0],d=(r=c[1],u?c[2]:null);return n&&A(r).on("scroll.DT",function(){var t=this.scrollLeft;h.scrollLeft=t,u&&(d.scrollLeft=t)}),A(r).css(i&&e.bCollapse?"max-height":"height",i),t.nScrollHead=h,t.nScrollBody=r,t.nScrollFoot=d,t.aoDrawCallback.push({fn:pt,sName:"scrolling"}),a[0]}function pt(n){var t,e,i,r,o,s=(u=n.oScroll).sX,a=u.sXInner,l=u.sY,u=u.iBarWidth,c=A(n.nScrollHead),h=c[0].style,d=(p=c.children("div"))[0].style,f=p.children("table"),p=n.nScrollBody,g=A(p),m=p.style,v=A(n.nScrollFoot).children("div"),y=v.children("table"),_=A(n.nTHead),b=A(n.nTable),w=b[0],x=w.style,S=n.nTFoot?A(n.nTFoot):null,q=n.oBrowser,C=q.bScrollOversize,E=re(n.aoColumns,"nTh"),k=[],T=[],D=[],L=[],I=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};e=p.scrollHeight>p.clientHeight,n.scrollBarVis!==e&&n.scrollBarVis!==F?(n.scrollBarVis=e,R(n)):(n.scrollBarVis=e,b.children("thead, tfoot").remove(),S&&(i=S.clone().prependTo(b),t=S.find("tr"),i=i.find("tr")),r=_.clone().prependTo(b),_=_.find("tr"),e=r.find("tr"),r.find("th, td").removeAttr("tabindex"),s||(m.width="100%",c[0].style.width="100%"),A.each(z(n,r),function(t,e){o=M(n,t),e.style.width=n.aoColumns[o].sWidth}),S&&gt(function(t){t.style.width=""},i),c=b.outerWidth(),""===s?(x.width="100%",C&&(b.find("tbody").height()>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(x.width=bt(b.outerWidth()-u)),c=b.outerWidth()):""!==a&&(x.width=bt(a),c=b.outerWidth()),gt(I,e),gt(function(t){D.push(t.innerHTML),k.push(bt(A(t).css("width")))},e),gt(function(t,e){-1!==A.inArray(t,E)&&(t.style.width=k[e])},_),A(e).height(0),S&&(gt(I,i),gt(function(t){L.push(t.innerHTML),T.push(bt(A(t).css("width")))},i),gt(function(t,e){t.style.width=T[e]},t),A(i).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+D[e]+"</div>",t.style.width=k[e]},e),S&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=T[e]},i),b.outerWidth()<c?(t=p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y")?c+u:c,C&&(p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(x.width=bt(t-u)),(""===s||""!==a)&&It(n,1,"Possible column misalignment",6)):t="100%",m.width=bt(t),h.width=bt(t),S&&(n.nScrollFoot.style.width=bt(t)),!l&&C&&(m.height=bt(w.offsetHeight+u)),s=b.outerWidth(),f[0].style.width=bt(s),d.width=bt(s),a=b.height()>p.clientHeight||"scroll"==g.css("overflow-y"),d[l="padding"+(q.bScrollbarLeft?"Left":"Right")]=a?u+"px":"0px",S&&(y[0].style.width=bt(s),v[0].style.width=bt(s),v[0].style[l]=a?u+"px":"0px"),b.children("colgroup").insertBefore(b.children("thead")),g.scroll(),!n.bSorted&&!n.bFiltered||n._drawHold||(p.scrollTop=0))}function gt(t,e,n){for(var i,r,o=0,s=0,a=e.length;s<a;){for(i=e[s].firstChild,r=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,o):t(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;s++}}function mt(t){var e,n,i=t.nTable,r=t.aoColumns,o=(g=t.oScroll).sY,s=g.sX,a=g.sXInner,l=r.length,u=k(t,"bVisible"),c=A("th",t.nTHead),h=i.getAttribute("width"),d=i.parentNode,f=!1,p=t.oBrowser,g=p.bScrollOversize;for((e=i.style.width)&&-1!==e.indexOf("%")&&(h=e),e=0;e<u.length;e++)null!==(n=r[u[e]]).sWidth&&(n.sWidth=vt(n.sWidthOrig,d),f=!0);if(g||!f&&!s&&!o&&l==_(t)&&l==c.length)for(e=0;e<l;e++)null!==(u=M(t,e))&&(r[u].sWidth=bt(c.eq(e).width()));else{(l=A(i).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=A("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(A(t.nTHead).clone()).append(A(t.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),c=z(t,l.find("thead")[0]),e=0;e<u.length;e++)n=r[u[e]],c[e].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?bt(n.sWidthOrig):"",n.sWidthOrig&&s&&A(c[e]).append(A("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<u.length;e++)n=r[f=u[e]],A(yt(t,f)).clone(!1).append(n.sContentPadding).appendTo(m);for(A("[name]",l).removeAttr("name"),n=A("<div/>").css(s||o?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(d),s&&a?l.width(a):s?(l.css("width","auto"),l.removeAttr("width"),l.width()<d.clientWidth&&h&&l.width(d.clientWidth)):o?l.width(d.clientWidth):h&&l.width(h),e=o=0;e<u.length;e++)a=(d=A(c[e])).outerWidth()-d.width(),o+=d=p.bBounding?Math.ceil(c[e].getBoundingClientRect().width):d.outerWidth(),r[u[e]].sWidth=bt(d-a);i.style.width=bt(o),n.remove()}h&&(i.style.width=bt(h)),!h&&!s||t._reszEvt||(i=function(){A(v).on("resize.DT-"+t.sInstance,me(function(){R(t)}))},g?setTimeout(i,1e3):i(),t._reszEvt=!0)}function vt(t,e){if(!t)return 0;var n=A("<div/>").css("width",bt(t)).appendTo(e||y.body),i=n[0].offsetWidth;return n.remove(),i}function yt(t,e){var n=_t(t,e);if(n<0)return null;var i=t.aoData[n];return i.nTr?i.anCells[e]:A("<td/>").html(I(t,n,e,"display"))[0]}function _t(t,e){for(var n,i=-1,r=-1,o=0,s=t.aoData.length;o<s;o++)(n=(n=(n=I(t,o,e,"display")+"").replace(ge,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function bt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(t){var e,n,i,r,o,s,a=[],l=t.aoColumns;e=t.aaSortingFixed,n=A.isPlainObject(e);var u=[];for(i=function(t){t.length&&!A.isArray(t[0])?u.push(t):A.merge(u,t)},A.isArray(e)&&i(e),n&&e.pre&&i(e.pre),i(t.aaSorting),n&&e.post&&i(e.post),t=0;t<u.length;t++)for(e=0,n=(i=l[s=u[t][0]].aDataSort).length;e<n;e++)o=l[r=i[e]].sType||"string",u[t]._idx===F&&(u[t]._idx=A.inArray(u[t][1],l[r].asSorting)),a.push({src:s,col:r,dir:u[t][1],index:u[t]._idx,type:o,formatter:Ut.ext.type.order[o+"-pre"]});return a}function xt(t){var e,n,i,u,c=[],h=Ut.ext.type.order,d=t.aoData,r=0,o=t.aiDisplayMaster;for(s(t),e=0,n=(u=wt(t)).length;e<n;e++)(i=u[e]).formatter&&r++,kt(t,i.col);if("ssp"!=jt(t)&&0!==u.length){for(e=0,n=o.length;e<n;e++)c[o[e]]=e;r===u.length?o.sort(function(t,e){var n,i,r,o,s=u.length,a=d[t]._aSortData,l=d[e]._aSortData;for(r=0;r<s;r++)if(0!==(n=(n=a[(o=u[r]).col])<(i=l[o.col])?-1:i<n?1:0))return"asc"===o.dir?n:-n;return(n=c[t])<(i=c[e])?-1:i<n?1:0}):o.sort(function(t,e){var n,i,r,o,s=u.length,a=d[t]._aSortData,l=d[e]._aSortData;for(r=0;r<s;r++)if(n=a[(o=u[r]).col],i=l[o.col],0!==(n=(o=h[o.type+"-"+o.dir]||h["string-"+o.dir])(n,i)))return n;return(n=c[t])<(i=c[e])?-1:i<n?1:0})}t.bSorted=!0}function St(t){for(var e,n,i=t.aoColumns,r=wt(t),o=(t=t.oLanguage.oAria,0),s=i.length;o<s;o++){var a=(n=i[o]).asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==o?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=a[r[0].index+1]||a[0]):n=a[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function qt(t,e,n,i){var r=t.aaSorting,o=t.aoColumns[e].asSorting,s=function(t,e){var n=t._idx;return n===F&&(n=A.inArray(t[1],o)),n+1<o.length?n+1:e?null:0};"number"==typeof r[0]&&(r=t.aaSorting=[r]),n&&t.oFeatures.bSortMulti?-1!==(n=A.inArray(e,re(r,"0")))?(null===(e=s(r[n],!0))&&1===r.length&&(e=0),null===e?r.splice(n,1):(r[n][1]=o[e],r[n]._idx=e)):(r.push([e,o[0],0]),r[r.length-1]._idx=0):r.length&&r[0][0]==e?(e=s(r[0]),r.length=1,r[0][1]=o[e],r[0]._idx=e):(r.length=0,r.push([e,o[0]]),r[0]._idx=0),j(t),"function"==typeof i&&i(t)}function Ct(e,t,n,i){var r=e.aoColumns[n];Rt(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(dt(e,!0),setTimeout(function(){qt(e,n,t.shiftKey,i),"ssp"!==jt(e)&&dt(e,!1)},0)):qt(e,n,t.shiftKey,i))})}function Et(t){var e,n,i=t.aLastSort,r=t.oClasses.sSortColumn,o=wt(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,e=i.length;s<e;s++)n=i[s].src,A(re(t.aoData,"anCells",n)).removeClass(r+(s<2?s+1:3));for(s=0,e=o.length;s<e;s++)n=o[s].src,A(re(t.aoData,"anCells",n)).addClass(r+(s<2?s+1:3))}t.aLastSort=o}function kt(t,e){var n,i=t.aoColumns[e],r=Ut.ext.order[i.sSortDataType];r&&(n=r.call(t.oInstance,t,e,u(t,e)));for(var o,s=Ut.ext.type.order[i.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)(i=t.aoData[a])._aSortData||(i._aSortData=[]),(!i._aSortData[e]||r)&&(o=r?n[a]:I(t,a,e,"sort"),i._aSortData[e]=s?s(o):o)}function Tt(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:A.extend(!0,[],n.aaSorting),search:tt(n.oPreviousSearch),columns:A.map(n.aoColumns,function(t,e){return{visible:t.bVisible,search:tt(n.aoPreSearchCols[e])}})};Pt(n,"aoStateSaveParams","stateSaveParams",[n,t]),n.oSavedState=t,n.fnStateSaveCallback.call(n.oInstance,n,t)}}function Dt(n,t,i){var r,o,s=n.aoColumns;t=function(t){if(t&&t.time){var e=Pt(n,"aoStateLoadParams","stateLoadParams",[n,a]);if(-1===A.inArray(!1,e)&&!(0<(e=n.iStateDuration)&&t.time<+new Date-1e3*e||t.columns&&s.length!==t.columns.length)){if(n.oLoadedState=A.extend(!0,{},a),t.start!==F&&(n._iDisplayStart=t.start,n.iInitDisplayStart=t.start),t.length!==F&&(n._iDisplayLength=t.length),t.order!==F&&(n.aaSorting=[],A.each(t.order,function(t,e){n.aaSorting.push(e[0]>=s.length?[0,e[1]]:e)})),t.search!==F&&A.extend(n.oPreviousSearch,et(t.search)),t.columns)for(r=0,o=t.columns.length;r<o;r++)(e=t.columns[r]).visible!==F&&(s[r].bVisible=e.visible),e.search!==F&&A.extend(n.aoPreSearchCols[r],et(e.search));Pt(n,"aoStateLoaded","stateLoaded",[n,a])}}i()};if(n.oFeatures.bStateSave){var a=n.fnStateLoadCallback.call(n.oInstance,n,t);a!==F&&t(a)}else i()}function Lt(t){var e=Ut.settings;return-1!==(t=A.inArray(t,re(e,"nTable")))?e[t]:null}function It(t,e,n,i){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),e)v.console&&console.log&&console.log(n);else if(e=(e=Ut.ext).sErrMode||e.errMode,t&&Pt(t,null,"error",[t,i,n]),"alert"==e)alert(n);else{if("throw"==e)throw Error(n);"function"==typeof e&&e(t,i,n)}}function At(n,i,t,e){A.isArray(t)?A.each(t,function(t,e){A.isArray(e)?At(n,i,e[0],e[1]):At(n,i,e)}):(e===F&&(e=t),i[t]!==F&&(n[e]=i[t]))}function Ft(t,e,n){var i,r;for(r in e)e.hasOwnProperty(r)&&(i=e[r],A.isPlainObject(i)?(A.isPlainObject(t[r])||(t[r]={}),A.extend(!0,t[r],i)):t[r]=n&&"data"!==r&&"aaData"!==r&&A.isArray(i)?i.slice():i);return t}function Rt(e,t,n){A(e).on("click.DT",t,function(t){e.blur(),n(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function Mt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Pt(e,t,n,i){var r=[];return t&&(r=A.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,i)})),null!==n&&(t=A.Event(n+".dt"),A(e.nTable).trigger(t,i),r.push(t.result)),r}function Ot(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;n<=e&&(e=n-i),e-=e%i,(-1===i||e<0)&&(e=0),t._iDisplayStart=e}function Nt(t,e){var n=t.renderer,i=Ut.ext.renderer[e];return A.isPlainObject(n)&&n[e]?i[n[e]]||i._:"string"==typeof n&&i[n]||i._}function jt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Bt(t,e){var n=[],i=(n=Fe.numbers_length,Math.floor(n/2));return e<=n?n=se(0,e):t<=i?((n=se(0,n-2)).push("ellipsis"),n.push(e-1)):(e-1-i<=t?n=se(e-(n-2),e):((n=se(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Ht(n){A.each({num:function(t){return Re(t,n)},"num-fmt":function(t){return Re(t,n,Jt)},"html-num":function(t){return Re(t,n,Qt)},"html-num-fmt":function(t){return Re(t,n,Qt,Jt)}},function(t,e){zt.type.order[t+n+"-pre"]=e,t.match(/^html\-/)&&(zt.type.search[t+n]=zt.type.search.html)})}function e(e){return function(){var t=[Lt(this[Ut.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ut.ext.internal[e].apply(this,t)}}var zt,Wt,Vt,$t,Ut=function(m){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Wt(t?Lt(this[zt.iApiIndex]):this)},this.fnAddData=function(t,e){var n=this.api(!0),i=A.isArray(t)&&(A.isArray(t[0])||A.isPlainObject(t[0]))?n.rows.add(t):n.row.add(t);return(e===F||e)&&n.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===F||t?e.draw(!1):(""!==i.sX||""!==i.sY)&&pt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===F||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),r=(t=i.rows(t)).settings()[0],o=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,o),(n===F||n)&&i.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,r,o){r=this.api(!0),null===e||e===F?r.search(t,n,i,o):r.column(e).search(t,n,i,o),r.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t===F)return n.data().toArray();var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==F||"td"==i||"th"==i?n.cell(t,e).data():n.row(t).data()||null},this.fnGetNodes=function(t){var e=this.api(!0);return t!==F?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===F||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===F||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Lt(this[zt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,r){var o=this.api(!0);return n===F||null===n?o.row(e).data(t):o.cell(e,n).data(t),(r===F||r)&&o.columns.adjust(),(i===F||i)&&o.draw(),0},this.fnVersionCheck=zt.fnVersionCheck;var v=this,y=m===F,_=this.length;for(var t in y&&(m={}),this.oApi=this.internal=zt.internal,Ut.ext.internal)t&&(this[t]=e(t));return this.each(function(){var n,t={},i=1<_?Ft(t,m,!0):m,r=0,o=(t=this.getAttribute("id"),!1),e=Ut.defaults,s=A(this);if("table"!=this.nodeName.toLowerCase())It(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{x(e),S(e.column),b(e,e,!0),b(e.column,e.column,!0),b(e,A.extend(i,s.data()));var a=Ut.settings;r=0;for(n=a.length;r<n;r++){var l=a[r];if(l.nTable==this||l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var u=i.bRetrieve!==F?i.bRetrieve:e.bRetrieve;if(y||u)return l.oInstance;if(i.bDestroy!==F?i.bDestroy:e.bDestroy){l.oInstance.fnDestroy();break}return void It(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){a.splice(r,1);break}}null!==t&&""!==t||(this.id=t="DataTables_Table_"+Ut.ext._unique++);var c=A.extend(!0,{},Ut.models.oSettings,{sDestroyWidth:s[0].style.width,sInstance:t,sTableId:t});c.nTable=this,c.oApi=v.internal,c.oInit=i,a.push(c),c.oInstance=1===v.length?v:s.dataTable(),x(i),i.oLanguage&&w(i.oLanguage),i.aLengthMenu&&!i.iDisplayLength&&(i.iDisplayLength=A.isArray(i.aLengthMenu[0])?i.aLengthMenu[0][0]:i.aLengthMenu[0]),i=Ft(A.extend(!0,{},e),i),At(c.oFeatures,i,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),At(c,i,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),At(c.oScroll,i,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),At(c.oLanguage,i,"fnInfoCallback"),Mt(c,"aoDrawCallback",i.fnDrawCallback,"user"),Mt(c,"aoServerParams",i.fnServerParams,"user"),Mt(c,"aoStateSaveParams",i.fnStateSaveParams,"user"),Mt(c,"aoStateLoadParams",i.fnStateLoadParams,"user"),Mt(c,"aoStateLoaded",i.fnStateLoaded,"user"),Mt(c,"aoRowCallback",i.fnRowCallback,"user"),Mt(c,"aoRowCreatedCallback",i.fnCreatedRow,"user"),Mt(c,"aoHeaderCallback",i.fnHeaderCallback,"user"),Mt(c,"aoFooterCallback",i.fnFooterCallback,"user"),Mt(c,"aoInitComplete",i.fnInitComplete,"user"),Mt(c,"aoPreDrawCallback",i.fnPreDrawCallback,"user"),c.rowIdFn=P(i.rowId),q(c);var h=c.oClasses;i.bJQueryUI?(A.extend(h,Ut.ext.oJUIClasses,i.oClasses),i.sDom===e.sDom&&"lfrtip"===e.sDom&&(c.sDom='<"H"lfr>t<"F"ip>'),c.renderer?A.isPlainObject(c.renderer)&&!c.renderer.header&&(c.renderer.header="jqueryui"):c.renderer="jqueryui"):A.extend(h,Ut.ext.classes,i.oClasses),s.addClass(h.sTable),c.iInitDisplayStart===F&&(c.iInitDisplayStart=i.iDisplayStart,c._iDisplayStart=i.iDisplayStart),null!==i.iDeferLoading&&(c.bDeferLoading=!0,t=A.isArray(i.iDeferLoading),c._iRecordsDisplay=t?i.iDeferLoading[0]:i.iDeferLoading,c._iRecordsTotal=t?i.iDeferLoading[1]:i.iDeferLoading);var d=c.oLanguage;A.extend(!0,d,i.oLanguage),d.sUrl&&(A.ajax({dataType:"json",url:d.sUrl,success:function(t){w(t),b(e.oLanguage,t),A.extend(!0,d,t),ot(c)},error:function(){ot(c)}}),o=!0),null===i.asStripeClasses&&(c.asStripeClasses=[h.sStripeOdd,h.sStripeEven]);t=c.asStripeClasses;var f=s.children("tbody").find("tr").eq(0);if(-1!==A.inArray(!0,A.map(t,function(t){return f.hasClass(t)}))&&(A("tbody tr",this).removeClass(t.join(" ")),c.asDestroyStripes=t.slice()),t=[],0!==(a=this.getElementsByTagName("thead")).length&&(H(c.aoHeader,a[0]),t=z(c)),null===i.aoColumns)for(a=[],r=0,n=t.length;r<n;r++)a.push(null);else a=i.aoColumns;for(r=0,n=a.length;r<n;r++)C(c,t?t[r]:null);if(T(c,i.aoColumnDefs,a,function(t,e){E(c,t,e)}),f.length){var p=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};A(f[0]).children("th, td").each(function(t,e){var n=c.aoColumns[t];if(n.mData===t){var i=p(e,"sort")||p(e,"order"),r=p(e,"filter")||p(e,"search");null===i&&null===r||(n.mData={_:t+".display",sort:null!==i?t+".@data-"+i:F,type:null!==i?t+".@data-"+i:F,filter:null!==r?t+".@data-"+r:F},E(c,t))}})}var g=c.oFeatures;t=function(){if(i.aaSorting===F){var t=c.aaSorting;for(r=0,n=t.length;r<n;r++)t[r][1]=c.aoColumns[r].asSorting[0]}Et(c),g.bSort&&Mt(c,"aoDrawCallback",function(){if(c.bSorted){var t=wt(c),n={};A.each(t,function(t,e){n[e.src]=e.dir}),Pt(c,null,"order",[c,t,n]),St(c)}}),Mt(c,"aoDrawCallback",function(){(c.bSorted||"ssp"===jt(c)||g.bDeferRender)&&Et(c)},"sc");t=s.children("caption").each(function(){this._captionSide=A(this).css("caption-side")});var e=s.children("thead");if(0===e.length&&(e=A("<thead/>").appendTo(s)),c.nTHead=e[0],0===(e=s.children("tbody")).length&&(e=A("<tbody/>").appendTo(s)),c.nTBody=e[0],0===(e=s.children("tfoot")).length&&0<t.length&&(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(e=A("<tfoot/>").appendTo(s)),0===e.length||0===e.children().length?s.addClass(h.sNoFooter):0<e.length&&(c.nTFoot=e[0],H(c.aoFooter,c.nTFoot)),i.aaData)for(r=0;r<i.aaData.length;r++)D(c,i.aaData[r]);else(c.bDeferLoading||"dom"==jt(c))&&L(c,A(c.nTBody).children("tr"));c.aiDisplay=c.aiDisplayMaster.slice(),!(c.bInitialised=!0)===o&&ot(c)};i.bStateSave?(g.bStateSave=!0,Mt(c,"aoDrawCallback",Tt,"state_save"),Dt(c,i,t)):t()}}),v=null,this},Kt={},Gt=/[\r\n]/g,Qt=/<.*?>/g,Yt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Xt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Jt=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Zt=function(t){return!t||!0===t||"-"===t},te=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ee=function(t,e){return Kt[e]||(Kt[e]=RegExp(de(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Kt[e],"."):t},ne=function(t,e,n){var i="string"==typeof t;return!!Zt(t)||(e&&i&&(t=ee(t,e)),n&&i&&(t=t.replace(Jt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ie=function(t,e,n){return!!Zt(t)||((Zt(t)||"string"==typeof t)&&!!ne(t.replace(Qt,""),e,n)||null)},re=function(t,e,n){var i=[],r=0,o=t.length;if(n!==F)for(;r<o;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;r<o;r++)t[r]&&i.push(t[r][e]);return i},oe=function(t,e,n,i){var r=[],o=0,s=e.length;if(i!==F)for(;o<s;o++)t[e[o]][n]&&r.push(t[e[o]][n][i]);else for(;o<s;o++)r.push(t[e[o]][n]);return r},se=function(t,e){var n,i=[];e===F?(e=0,n=t):(n=e,e=t);for(var r=e;r<n;r++)i.push(r);return i},ae=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},le=function(t){var e,n,i,r=[],o=t.length,s=0;n=0;t:for(;n<o;n++){for(e=t[n],i=0;i<s;i++)if(r[i]===e)continue t;r.push(e),s++}return r};Ut.util={throttle:function(i,t){var r,o,s=t!==F?t:200;return function(){var t=this,e=+new Date,n=arguments;r&&e<r+s?(clearTimeout(o),o=setTimeout(function(){r=F,i.apply(t,n)},s)):(r=e,i.apply(t,n))}},escapeRegex:function(t){return t.replace(Xt,"\\$1")}};var ue=function(t,e,n){t[e]!==F&&(t[n]=t[e])},ce=/\[.*?\]$/,he=/\(\)$/,de=Ut.util.escapeRegex,fe=A("<div>")[0],pe=fe.textContent!==F,ge=/<.*?>/g,me=Ut.util.throttle,ve=[],ye=Array.prototype,_e=function(t){var e,n,i=Ut.settings,r=A.map(i,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(e=A.inArray(t,r))?[i[e]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=A(t):t instanceof A&&(n=t),n?n.map(function(){return-1!==(e=A.inArray(this,r))?i[e]:null}).toArray():void 0):[]};Wt=function(t,e){if(!(this instanceof Wt))return new Wt(t,e);var n=[],i=function(t){(t=_e(t))&&(n=n.concat(t))};if(A.isArray(t))for(var r=0,o=t.length;r<o;r++)i(t[r]);else i(t);this.context=le(n),e&&A.merge(this,e),this.selector={rows:null,cols:null,opts:null},Wt.extend(this,this,ve)},Ut.Api=Wt,A.extend(Wt.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Wt(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Wt(this.context,e)},flatten:function(){var t=[];return new Wt(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,i){var r,o,s,a,l,u,c,h=[],d=this.context,f=this.selector;for("string"==typeof t&&(i=n,n=e,e=t,t=!1),o=0,s=d.length;o<s;o++){var p=new Wt(d[o]);if("table"===e)(r=n.call(p,d[o],o))!==F&&h.push(r);else if("columns"===e||"rows"===e)(r=n.call(p,d[o],this[o],o))!==F&&h.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[o],"column-rows"===e&&(u=qe(d[o],f.opts)),a=0,l=c.length;a<l;a++)r=c[a],(r="cell"===e?n.call(p,d[o],r.row,r.column,o,a):n.call(p,d[o],r,o,a,u))!==F&&h.push(r)}return h.length||i?((e=(t=new Wt(d,t?h.concat.apply([],h):h)).selector).rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new Wt(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return n(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return n(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return A(this)},toJQuery:function(){return A(this)},unique:function(){return new Wt(this.context,le(this))},unshift:ye.unshift}),Wt.extend=function(t,e,n){if(n.length&&e&&(e instanceof Wt||e.__dt_wrapper)){var i,r,o,s=function(e,n,i){return function(){var t=n.apply(e,arguments);return Wt.extend(t,t,i.methodExt),t}};for(i=0,r=n.length;i<r;i++)e[(o=n[i]).name]="function"==typeof o.val?s(t,o.val,o):A.isPlainObject(o.val)?{}:o.val,e[o.name].__dt_wrapper=!0,Wt.extend(t,e[o.name],o.propExt)}},Wt.register=Vt=function(t,e){if(A.isArray(t))for(var n=0,i=t.length;n<i;n++)Wt.register(t[n],e);else{var r,o,s=t.split("."),a=ve;for(n=0,i=s.length;n<i;n++){var l;r=(o=-1!==s[n].indexOf("()"))?s[n].replace("()",""):s[n];t:{l=0;for(var u=a.length;l<u;l++)if(a[l].name===r){l=a[l];break t}l=null}l||(l={name:r,val:{},methodExt:[],propExt:[]},a.push(l)),n===i-1?l.val=e:a=o?l.methodExt:l.propExt}}},Wt.registerPlural=$t=function(t,e,n){Wt.register(t,n),Wt.register(e,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof Wt?t.length?A.isArray(t[0])?new Wt(t.context,t[0]):t[0]:F:t})},Vt("tables()",function(t){var e;if(t){e=Wt;var n=this.context;if("number"==typeof t)t=[n[t]];else{var i=A.map(n,function(t){return t.nTable});t=A(i).filter(t).map(function(){var t=A.inArray(this,i);return n[t]}).toArray()}e=new e(t)}else e=this;return e}),Vt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new Wt(e[0]):t}),$t("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),$t("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),$t("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),$t("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),$t("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Vt("draw()",function(e){return this.iterator("table",function(t){"page"===e?N(t):("string"==typeof e&&(e="full-hold"!==e),j(t,!1===e))})}),Vt("page()",function(e){return e===F?this.page.info().page:this.iterator("table",function(t){ct(t,e)})}),Vt("page.info()",function(){if(0===this.context.length)return F;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===jt(t)}}),Vt("page.len()",function(e){return e===F?0!==this.context.length?this.context[0]._iDisplayLength:F:this.iterator("table",function(t){at(t,e)})});var be=function(i,r,t){if(t){var e=new Wt(i);e.one("draw",function(){t(e.ajax.json())})}if("ssp"==jt(i))j(i,r);else{dt(i,!0);var n=i.jqXHR;n&&4!==n.readyState&&n.abort(),W(i,[],function(t){a(i);for(var e=0,n=(t=U(i,t)).length;e<n;e++)D(i,t[e]);j(i,r),dt(i,!1)})}};Vt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Vt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Vt("ajax.reload()",function(e,n){return this.iterator("table",function(t){be(t,!1===n,e)})}),Vt("ajax.url()",function(e){var t=this.context;return e===F?0===t.length?F:(t=t[0]).ajax?A.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){A.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Vt("ajax.url().load()",function(e,n){return this.iterator("table",function(t){be(t,!1===n,e)})});var we=function(t,e,n,i,r){var o,s,a,l,u,c,h=[];for(a=typeof e,e&&"string"!==a&&"function"!==a&&e.length!==F||(e=[e]),a=0,l=e.length;a<l;a++)for(u=0,c=(s=e[a]&&e[a].split&&!e[a].match(/[\[\(:]/)?e[a].split(","):[e[a]]).length;u<c;u++)(o=n("string"==typeof s[u]?A.trim(s[u]):s[u]))&&o.length&&(h=h.concat(o));if((t=zt.selector[t]).length)for(a=0,l=t.length;a<l;a++)h=t[a](i,r,h);return le(h)},xe=function(t){return t||(t={}),t.filter&&t.search===F&&(t.search=t.filter),A.extend({search:"none",order:"current",page:"all"},t)},Se=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},qe=function(t,e){var n,i,r,o=[],s=t.aiDisplay;n=t.aiDisplayMaster;var a=e.search;if(i=e.order,r=e.page,"ssp"==jt(t))return"removed"===a?[]:se(0,n.length);if("current"==r)for(n=t._iDisplayStart,i=t.fnDisplayEnd();n<i;n++)o.push(s[n]);else if("current"==i||"applied"==i)o="none"==a?n.slice():"applied"==a?s.slice():A.map(n,function(t){return-1===A.inArray(t,s)?t:null});else if("index"==i||"original"==i)for(n=0,i=t.aoData.length;n<i;n++)"none"==a?o.push(n):(-1===(r=A.inArray(n,s))&&"removed"==a||0<=r&&"applied"==a)&&o.push(n);return o};Vt("rows()",function(t,e){t===F?t="":A.isPlainObject(t)&&(e=t,t="");e=xe(e);var n=this.iterator("table",function(i){var r,o=e;return we("row",t,function(n){var t=te(n);if(null!==t&&!o)return[t];if(r||(r=qe(i,o)),null!==t&&-1!==A.inArray(t,r))return[t];if(null===n||n===F||""===n)return r;if("function"==typeof n)return A.map(r,function(t){var e=i.aoData[t];return n(t,e._aData,e.nTr)?t:null});if(t=ae(oe(i.aoData,r,"nTr")),n.nodeName)return n._DT_RowIndex!==F?[n._DT_RowIndex]:n._DT_CellIndex?[n._DT_CellIndex.row]:(t=A(n).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[];if(
"string"==typeof n&&"#"===n.charAt(0)){var e=i.aIds[n.replace(/^#/,"")];if(e!==F)return[e.idx]}return A(t).filter(n).map(function(){return this._DT_RowIndex}).toArray()},i,o)},1);return n.selector.rows=t,n.selector.opts=e,n}),Vt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||F},1)}),Vt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return oe(t.aoData,e,"_aData")},1)}),$t("rows().cache()","row().cache()",function(i){return this.iterator("row",function(t,e){var n=t.aoData[e];return"search"===i?n._aFilterData:n._aSortData},1)}),$t("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,e){r(t,e,n)})}),$t("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),$t("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,s=this[i].length;o<s;o++){var a=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);e.push((!0===t?"#":"")+a)}return new Wt(n,e)}),$t("rows().remove()","row().remove()",function(){var c=this;return this.iterator("row",function(t,e,n){var i,r,o,s,a,l=t.aoData,u=l[e];for(l.splice(e,1),i=0,r=l.length;i<r;i++)if(a=(o=l[i]).anCells,null!==o.nTr&&(o.nTr._DT_RowIndex=i),null!==a)for(o=0,s=a.length;o<s;o++)a[o]._DT_CellIndex.row=i;h(t.aiDisplayMaster,e),h(t.aiDisplay,e),h(c[n],e,!1),Ot(t),(e=t.rowIdFn(u._aData))!==F&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Vt("rows.add()",function(o){var t=this.iterator("table",function(t){var e,n,i,r=[];for(n=0,i=o.length;n<i;n++)(e=o[n]).nodeName&&"TR"===e.nodeName.toUpperCase()?r.push(L(t,e)[0]):r.push(D(t,e));return r},1),e=this.rows(-1);return e.pop(),A.merge(e,t),e}),Vt("row()",function(t,e){return Se(this.rows(t,e))}),Vt("row().data()",function(t){var e=this.context;return t===F?e.length&&this.length?e[0].aoData[this[0]]._aData:F:(e[0].aoData[this[0]]._aData=t,r(e[0],this[0],"data"),this)}),Vt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),Vt("row.add()",function(e){e instanceof A&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?L(t,e)[0]:D(t,e)});return this.row(t[0])});var Ce=function(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==F?e:t[0]])&&n._details&&(n._details.remove(),n._detailsShow=F,n._details=F)},Ee=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var s=n[0],r=new Wt(s),a=s.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<re(a,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){s===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=a[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(s===e)for(var n,i=_(e),r=0,o=a.length;r<o;r++)(n=a[r])._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(t,e){if(s===e)for(var n=0,i=a.length;n<i;n++)a[n]._details&&Ce(r,n)}))}}};Vt("row().child()",function(t,e){var n=this.context;if(t===F)return n.length&&this.length?n[0].aoData[this[0]]._details:F;if(!0===t)this.child.show();else if(!1===t)Ce(this);else if(n.length&&this.length){var r=n[0],o=(n=n[0].aoData[this[0]],[]),s=function(t,e){if(A.isArray(t)||t instanceof A)for(var n=0,i=t.length;n<i;n++)s(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?o.push(t):(n=A("<tr><td/></tr>").addClass(e),A("td",n).addClass(e).html(t)[0].colSpan=_(r),o.push(n[0]))};s(t,e),n._details&&n._details.detach(),n._details=A(o),n._detailsShow&&n._details.insertAfter(n.nTr)}return this}),Vt(["row().child.show()","row().child().show()"],function(){return Ee(this,!0),this}),Vt(["row().child.hide()","row().child().hide()"],function(){return Ee(this,!1),this}),Vt(["row().child.remove()","row().child().remove()"],function(){return Ce(this),this}),Vt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var ke=/^([^:]+):(name|visIdx|visible)$/,Te=function(t,e,n,i,r){n=[],i=0;for(var o=r.length;i<o;i++)n.push(I(t,r[i],e));return n};Vt("columns()",function(e,n){e===F?e="":A.isPlainObject(e)&&(n=e,e="");n=xe(n);var t=this.iterator("table",function(o){var t=e,s=n,a=o.aoColumns,l=re(a,"sName"),u=re(a,"nTh");return we("column",t,function(n){var t=te(n);if(""===n)return se(a.length);if(null!==t)return[0<=t?t:a.length+t];if("function"==typeof n){var i=qe(o,s);return A.map(a,function(t,e){return n(e,Te(o,e,0,0,i),u[e])?e:null})}var r="string"==typeof n?n.match(ke):"";if(r)switch(r[2]){case"visIdx":case"visible":if((t=parseInt(r[1],10))<0){var e=A.map(a,function(t,e){return t.bVisible?e:null});return[e[e.length+t]]}return[M(o,t)];case"name":return A.map(l,function(t,e){return t===r[1]?e:null});default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(t=A(u).filter(n).map(function(){return A.inArray(this,u)}).toArray()).length||!n.nodeName?t:(t=A(n).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},o,s)},1);return t.selector.cols=e,t.selector.opts=n,t}),$t("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),$t("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),$t("columns().data()","column().data()",function(){return this.iterator("column-rows",Te,1)}),$t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),$t("columns().cache()","column().cache()",function(o){return this.iterator("column-rows",function(t,e,n,i,r){return oe(t.aoData,r,"search"===o?"_aFilterData":"_aSortData",e)},1)}),$t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return oe(t.aoData,r,"anCells",e)},1)}),$t("columns().visible()","column().visible()",function(u,n){var t=this.iterator("column",function(t,e){if(u===F)return t.aoColumns[e].bVisible;var n,i,r,o=t.aoColumns,s=o[e],a=t.aoData;if(u!==F&&s.bVisible!==u){if(u){var l=A.inArray(!0,re(o,"bVisible"),e+1);for(n=0,i=a.length;n<i;n++)r=a[n].nTr,o=a[n].anCells,r&&r.insertBefore(o[e],o[l]||null)}else A(re(t.aoData,"anCells",e)).detach();s.bVisible=u,O(t,t.aoHeader),O(t,t.aoFooter),Tt(t)}});return u!==F&&(this.iterator("column",function(t,e){Pt(t,null,"column-visibility",[t,e,u,n])}),(n===F||n)&&this.columns.adjust()),t}),$t("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,e){return"visible"===n?u(t,e):e},1)}),Vt("columns.adjust()",function(){return this.iterator("table",function(t){R(t)},1)}),Vt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return M(n,e);if("fromData"===t||"toVisible"===t)return u(n,e)}}),Vt("column()",function(t,e){return Se(this.columns(t,e))}),Vt("cells()",function(g,t,m){if(A.isPlainObject(g)&&(g.row===F?(m=g,g=null):(m=t,t=null)),A.isPlainObject(t)&&(m=t,t=null),null===t||t===F)return this.iterator("table",function(n){var i,r,o,s,a,l,u,t=g,e=xe(m),c=n.aoData,h=qe(n,e),d=ae(oe(c,h,"anCells")),f=A([].concat.apply([],d)),p=n.aoColumns.length;return we("cell",t,function(t){var e="function"==typeof t;if(null===t||t===F||e){for(r=[],o=0,s=h.length;o<s;o++)for(i=h[o],a=0;a<p;a++)l={row:i,column:a},e?(u=c[i],t(l,I(n,i,a),u.anCells?u.anCells[a]:null)&&r.push(l)):r.push(l);return r}return A.isPlainObject(t)?[t]:(e=f.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(u=A(t).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,e)});var n,i,r,o,s,a=this.columns(t,m),l=this.rows(g,m),e=this.iterator("table",function(t,e){for(n=[],i=0,r=l[e].length;i<r;i++)for(o=0,s=a[e].length;o<s;o++)n.push({row:l[e][i],column:a[e][o]});return n},1);return A.extend(e.selector,{cols:t,rows:g,opts:m}),e}),$t("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:F},1)}),Vt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return I(t,e,n)},1)}),$t("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,n){return t.aoData[e][i][n]},1)}),$t("cells().render()","cell().render()",function(i){return this.iterator("cell",function(t,e,n){return I(t,e,n,i)},1)}),$t("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:u(t,n)}},1)}),$t("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(t,e,n){r(t,e,i,n)})}),Vt("cell()",function(t,e,n){return Se(this.cells(t,e,n))}),Vt("cell().data()",function(t){var e=this.context,n=this[0];return t===F?e.length&&n.length?I(e[0],n[0].row,n[0].column):F:(i(e[0],n[0].row,n[0].column,t),r(e[0],n[0].row,"data",n[0].column),this)}),Vt("order()",function(e,t){var n=this.context;return e===F?0!==n.length?n[0].aaSorting:F:("number"==typeof e?e=[[e,t]]:e.length&&!A.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Vt("order.listener()",function(e,n,i){return this.iterator("table",function(t){Ct(t,e,n,i)})}),Vt("order.fixed()",function(e){if(e)return this.iterator("table",function(t){t.aaSortingFixed=A.extend(!0,{},e)});var t=(t=this.context).length?t[0].aaSortingFixed:F;return A.isArray(t)?{pre:t}:t}),Vt(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(t,e){var n=[];A.each(r[e],function(t,e){n.push([e,i])}),t.aaSorting=n})}),Vt("search()",function(e,n,i,r){var t=this.context;return e===F?0!==t.length?t[0].oPreviousSearch.sSearch:F:this.iterator("table",function(t){t.oFeatures.bFilter&&G(t,A.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),$t("columns().search()","column().search()",function(i,r,o,s){return this.iterator("column",function(t,e){var n=t.aoPreSearchCols;if(i===F)return n[e].sSearch;t.oFeatures.bFilter&&(A.extend(n[e],{sSearch:i+"",bRegex:null!==r&&r,bSmart:null===o||o,bCaseInsensitive:null===s||s}),G(t,t.oPreviousSearch,1))})}),Vt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Vt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Vt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Vt("state.save()",function(){return this.iterator("table",function(t){Tt(t)})}),Ut.versionCheck=Ut.fnVersionCheck=function(t){for(var e,n,i=Ut.version.split("."),r=0,o=(t=t.split(".")).length;r<o;r++)if((e=parseInt(i[r],10)||0)!==(n=parseInt(t[r],10)||0))return n<e;return!0},Ut.isDataTable=Ut.fnIsDataTable=function(t){var r=A(t).get(0),o=!1;return t instanceof Ut.Api||(A.each(Ut.settings,function(t,e){var n=e.nScrollHead?A("table",e.nScrollHead)[0]:null,i=e.nScrollFoot?A("table",e.nScrollFoot)[0]:null;e.nTable!==r&&n!==r&&i!==r||(o=!0)}),o)},Ut.tables=Ut.fnTables=function(e){var t=!1;A.isPlainObject(e)&&(t=e.api,e=e.visible);var n=A.map(Ut.settings,function(t){if(!e||e&&A(t.nTable).is(":visible"))return t.nTable});return t?new Wt(n):n},Ut.camelToHungarian=b,Vt("$()",function(t,e){var n=this.rows(e).nodes();n=A(n);return A([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),A.each(["on","one","off"],function(t,n){Vt(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=A.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var e=A(this.tables().nodes());return e[n].apply(e,t),this})}),Vt("clear()",function(){return this.iterator("table",function(t){a(t)})}),Vt("settings()",function(){return new Wt(this.context,this.context)}),Vt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Vt("data()",function(){return this.iterator("table",function(t){return re(t.aoData,"_aData")}).flatten()}),Vt("destroy()",function(h){return h=h||!1,this.iterator("table",function(e){var n,t=e.nTableWrapper.parentNode,i=e.oClasses,r=e.nTable,o=e.nTBody,s=e.nTHead,a=e.nTFoot,l=A(r),u=(o=A(o),A(e.nTableWrapper)),c=A.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,Pt(e,"aoDestroyCallback","destroy",[e]),h||new Wt(e).columns().visible(!0),u.off(".DT").find(":not(tbody *)").off(".DT"),A(v).off(".DT-"+e.sInstance),r!=s.parentNode&&(l.children("thead").detach(),l.append(s)),a&&r!=a.parentNode&&(l.children("tfoot").detach(),l.append(a)),e.aaSorting=[],e.aaSortingFixed=[],Et(e),A(c).removeClass(e.asStripeClasses.join(" ")),A("th, td",s).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),e.bJUI&&(A("th span."+i.sSortIcon+", td span."+i.sSortIcon,s).detach(),A("th, td",s).each(function(){var t=A("div."+i.sSortJUIWrapper,this);A(this).append(t.contents()),t.detach()})),o.children().detach(),o.append(c),l[s=h?"remove":"detach"](),u[s](),!h&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(i.sTable),(n=e.asDestroyStripes.length)&&o.children().each(function(t){A(this).addClass(e.asDestroyStripes[t%n])})),-1!==(t=A.inArray(e,Ut.settings))&&Ut.settings.splice(t,1)})}),A.each(["column","row","cell"],function(t,l){Vt(l+"s().every()",function(o){var s=this.selector.opts,a=this;return this.iterator(l,function(t,e,n,i,r){o.call(a[l](e,"cell"===l?n:s,"cell"===l?s:F),e,n,i,r)})})}),Vt("i18n()",function(t,e,n){var i=this.context[0];return(t=P(t)(i.oLanguage))===F&&(t=e),n!==F&&A.isPlainObject(t)&&(t=t[n]!==F?t[n]:t._),t.replace("%d",n)}),Ut.version="1.10.13",Ut.settings=[],Ut.models={},Ut.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ut.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ut.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ut.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:A.extend({},Ut.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(Ut.defaults),Ut.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Ut.defaults.column),Ut.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:F,oAjaxData:F,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==jt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==jt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!o||i<n||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ut.ext=zt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ut.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ut.version},A.extend(zt,{afnFiltering:zt.search,aTypes:zt.type.detect,ofnSearch:zt.type.search,oSort:zt.type.order,afnSortData:zt.order,aoFeatures:zt.feature,oApi:zt.internal,oStdClasses:zt.classes,oPagination:zt.pager}),A.extend(Ut.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var De="",Le=(De="")+"ui-state-default",Ie=De+"css_right ui-icon ui-icon-",Ae=De+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";A.extend(Ut.ext.oJUIClasses,Ut.ext.classes,{sPageButton:"fg-button ui-button "+Le,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Le+" sorting_asc",sSortDesc:Le+" sorting_desc",sSortable:Le+" sorting",sSortableAsc:Le+" sorting_asc_disabled",sSortableDesc:Le+" sorting_desc_disabled",sSortableNone:Le+" sorting_disabled",sSortJUIAsc:Ie+"triangle-1-n",sSortJUIDesc:Ie+"triangle-1-s",sSortJUI:Ie+"carat-2-n-s",sSortJUIAscAllowed:Ie+"carat-1-n",sSortJUIDescAllowed:Ie+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Le,sScrollFoot:"dataTables_scrollFoot "+Le,sHeaderTH:Le,sFooterTH:Le,sJUIHeader:Ae+" ui-corner-tl ui-corner-tr",sJUIFooter:Ae+" ui-corner-bl ui-corner-br"});var Fe=Ut.ext.pager;A.extend(Fe,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Bt(t,e)]},simple_numbers:function(t,e){return["previous",Bt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Bt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Bt(t,e),"last"]},_numbers:Bt,numbers_length:7}),A.extend(!0,Ut.ext.renderer,{pageButton:{_:function(a,t,l,e,u,c){var h,d,n,f=a.oClasses,p=a.oLanguage.oPaginate,g=a.oLanguage.oAria.paginate||{},m=0,v=function(t,e){var n,i,r,o,s=function(t){ct(a,t.data.action,!0)};for(n=0,i=e.length;n<i;n++)if(o=e[n],A.isArray(o))r=A("<"+(o.DT_el||"div")+"/>").appendTo(t),v(r,o);else{switch(h=null,d="",o){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":h=p.sFirst,d=o+(0<u?"":" "+f.sPageButtonDisabled);break;case"previous":h=p.sPrevious,d=o+(0<u?"":" "+f.sPageButtonDisabled);break;case"next":h=p.sNext,d=o+(u<c-1?"":" "+f.sPageButtonDisabled);break;case"last":h=p.sLast,d=o+(u<c-1?"":" "+f.sPageButtonDisabled);break;default:h=o+1,d=u===o?f.sPageButtonActive:""}null!==h&&(Rt(r=A("<a>",{"class":f.sPageButton+" "+d,"aria-controls":a.sTableId,"aria-label":g[o],"data-dt-idx":m,tabindex:a.iTabIndex,id:0===l&&"string"==typeof o?a.sTableId+"_"+o:null}).html(h).appendTo(t),{action:o},s),m++)}};try{n=A(t).find(y.activeElement).data("dt-idx")}catch(Wt){}v(A(t).empty(),e),n!==F&&A(t).find("[data-dt-idx="+n+"]").focus()}}}),A.extend(Ut.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return ne(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&!Yt.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Zt(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return ne(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n,!0)?"html-num-fmt"+n:null},function(t){return Zt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),A.extend(Ut.ext.type.search,{html:function(t){return Zt(t)?t:"string"==typeof t?t.replace(Gt," ").replace(Qt,""):""},string:function(t){return Zt(t)?t:"string"==typeof t?t.replace(Gt," "):t}});var Re=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=ee(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-Infinity};A.extend(zt.type.order,{"date-pre":function(t){return Date.parse(t)||-Infinity},"html-pre":function(t){return Zt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Zt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Ht(""),A.extend(!0,Ut.ext.renderer,{header:{_:function(r,o,s,a){A(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=s.idx,o.removeClass(s.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==i[t]?a.sSortAsc:"desc"==i[t]?a.sSortDesc:s.sSortingClass))})},jqueryui:function(r,o,s,a){A("<div/>").addClass(a.sSortJUIWrapper).append(o.contents()).append(A("<span/>").addClass(a.sSortIcon+" "+s.sSortingClassJUI)).appendTo(o),A(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=s.idx,o.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==i[t]?a.sSortAsc:"desc"==i[t]?a.sSortDesc:s.sSortingClass),o.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==i[t]?a.sSortJUIAsc:"desc"==i[t]?a.sSortJUIDesc:s.sSortingClassJUI))})}}});var Me=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Ut.render={number:function(i,r,o,s,a){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",n=parseFloat(t);return isNaN(n)?Me(t):(n=n.toFixed(o),t=Math.abs(n),n=parseInt(t,10),t=o?r+(t-n).toFixed(o).substring(2):"",e+(s||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+t+(a||""))}}},text:function(){return{display:Me}}},A.extend(Ut.ext.internal,{_fnExternApiFunc:e,_fnBuildAjax:W,_fnAjaxUpdate:V,_fnAjaxParameters:t,_fnAjaxUpdateDraw:$,_fnAjaxDataSrc:U,_fnAddColumn:C,_fnColumnOptions:E,_fnAdjustColumnSizing:R,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:u,_fnVisbleColumns:_,_fnGetColumns:k,_fnColumnTypes:s,_fnApplyColumnDefs:T,_fnHungarianMap:o,_fnCamelToHungarian:b,_fnLanguageCompat:w,_fnBrowserDetect:q,_fnAddData:D,_fnAddTr:L,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==F?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return A.inArray(n,t.aoData[e].anCells)},_fnGetCellData:I,_fnSetCellData:i,_fnSplitObjNotation:c,_fnGetObjectDataFn:P,_fnSetObjectDataFn:p,_fnGetDataMaster:f,_fnClearTable:a,_fnDeleteIndex:h,_fnInvalidate:r,_fnGetRowElements:l,_fnCreateTr:g,_fnBuildHead:m,_fnDrawHead:O,_fnDraw:N,_fnReDraw:j,_fnAddOptionsHtml:B,_fnDetectHeader:H,_fnGetUniqueThs:z,_fnFeatureHtmlFilter:K,_fnFilterComplete:G,_fnFilterCustom:Q,_fnFilterColumn:Y,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:de,_fnFilterData:Z,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:st,_fnLengthChange:at,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:ft,_fnScrollDraw:pt,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:me,_fnConvertToWidth:vt,_fnGetWidestNode:yt,_fnGetMaxLenString:_t,_fnStringToCss:bt,_fnSortFlatten:wt,_fnSort:xt,_fnSortAria:St,_fnSortListener:qt,_fnSortAttachListener:Ct,_fnSortingClasses:Et,_fnSortData:kt,_fnSaveState:Tt,_fnLoadState:Dt,_fnSettingsFromNode:Lt,_fnLog:It,_fnMap:At,_fnBindAction:Rt,_fnCallbackReg:Mt,_fnCallbackFire:Pt,_fnLengthOverflow:Ot,_fnRenderer:Nt,_fnDataSource:jt,_fnRowAttributes:d,_fnCalculateEnd:function(){}}),((A.fn.dataTable=Ut).$=A).fn.dataTableSettings=Ut.settings,A.fn.dataTableExt=Ut.ext,A.fn.DataTable=function(t){return A(this).dataTable(t).api()},A.each(Ut,function(t,e){A.fn.DataTable[t]=e}),A.fn.dataTable}),function(t,o){var e=function(y,r){"use strict";y.extend(!0,r.defaults,{dom:"<'hiddensearch'f'>tr<'table-footer'lip'>",renderer:"material",oLanguage:{sStripClasses:"",sSearch:"",sSearchPlaceholder:"Enter Keywords Here",sInfo:"_START_ -_END_ of _TOTAL_",sLengthMenu:'<span>Rows per page:</span><select class="browser-default"><option value="10">10</option><option value="20">20</option><option value="30">30</option><option value="40">40</option><option value="50">50</option><option value="-1">All</option></select></div>'}}),y.extend(r.ext.classes,{sWrapper:"dataTables_wrapper",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),r.ext.renderer.pageButton.material=function(a,t,l,e,u,c){var h,d,n,f=new r.Api(a),p=a.oClasses,g=a.oLanguage.oPaginate,m=0,v=function(t,e){var n,i,r,o,s=function(t){t.preventDefault(),y(t.currentTarget).hasClass("disabled")||f.page(t.data.action).draw(!1)};for(n=0,i=e.length;n<i;n++)if(o=e[n],y.isArray(o))v(t,o);else{switch(d=h="",o){case"first":h=g.sFirst,d=o+(0<u?"":" disabled");break;case"previous":h='<i class="material-icons">chevron_left</i>',d=o+(0<u?"":" disabled");break;case"next":h='<i class="material-icons">chevron_right</i>',d=o+(u<c-1?"":" disabled");break;case"last":h=g.sLast,d=o+(u<c-1?"":" disabled")}h&&(r=y("<li>",{"class":p.sPageButton+" "+d,id:0===l&&"string"==typeof o?a.sTableId+"_"+o:null}).append(y("<a>",{href:"#","aria-controls":a.sTableId,"data-dt-idx":m,tabindex:a.iTabIndex}).html(h)).appendTo(t),a.oApi._fnBindAction(r,{action:o},s),m++)}};try{n=y(o.activeElement).data("dt-idx")}catch(i){}v(y(t).empty().html('<ul class="material-pagination"/>').children("ul"),e),n&&y(t).find("[data-dt-idx="+n+"]").focus()},r.TableTools&&(y.extend(!0,r.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),y.extend(!0,r.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],e):"object"==typeof exports?e(require("jquery"),require("datatables")):jQuery&&e(jQuery,jQuery.fn.dataTable)}(window,document),function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};i.m=n,i.c=r,i.p="",i(0)}([function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var r=i(n(109));n(153);var o=r["default"];for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);window&&(window.msa=o),t.exports=o},function(t,e,n){"use strict";t.exports.Model=n(41),t.exports.Collection=n(55),t.exports.Events=n(22),t.exports.extend=n(23)},function(t,e,n){"use strict";var r=n(60),i=n(58),o=n(59),s=n(5),a=function(t){this.cid=r.uniqueId("view"),t||(t={}),r.extend(this,r.pick(t,u)),this._ensureElement(),this.initialize.apply(this,arguments)},l=/^(\S+)\s*(.*)$/,u=["model","collection","el","id","attributes","className","tagName","events"];r.extend(a.prototype,i,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof s?t:s(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=r.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(r.isFunction(n)||(n=this[t[e]]),n){var i=e.match(l);this.delegate(i[1],i[2],r.bind(n,this))}}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var t=r.extend({},r.result(this,"attributes"));this.id&&(t.id=r.result(this,"id")),this.className&&(t["class"]=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),a.extend=o,t.exports=a},function(t,et,nt){var it;(function(Z,tt){"use strict";var wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function uc(t,e){return t.set(e[0],e[1]),t}function cc(t,e){return t.add(e),t}function hc(t,e,n){switch(n.length){case 0:return t.call(e);case 1:
return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function dc(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function fc(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function pc(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function gc(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function mc(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function vc(t,e){return!(null==t||!t.length)&&-1<kc(t,e,0)}function yc(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function _c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function bc(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function wc(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function xc(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Sc(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function e(t){return t.split("")}function qc(t){return t.match(o)||[]}function Cc(t,i,e){var r;return e(t,function(t,e,n){if(i(t,e,n))return r=e,!1}),r}function Ec(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function kc(t,e,n){return e==e?i(t,e,n):Ec(t,Dc,n)}function Tc(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Dc(t){return t!=t}function Lc(t,e){var n=null==t?0:t.length;return n?Rc(t,e)/n:Ph}function Ic(e){return function(t){return null==t?ih:t[e]}}function t(e){return function(t){return null==e?ih:e[t]}}function Ac(t,i,r,o,e){return e(t,function(t,e,n){r=o?(o=!1,t):i(r,t,e,n)}),r}function Fc(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Rc(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==ih&&(n=n===ih?o:n+o)}return n}function Mc(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Pc(e,t){return _c(t,function(t){return[t,e[t]]})}function Oc(e){return function(t){return e(t)}}function Nc(e,t){return _c(t,function(t){return e[t]})}function jc(t,e){return t.has(e)}function Bc(t,e){for(var n=-1,i=t.length;++n<i&&-1<kc(e,t[n],0););return n}function Hc(t,e){for(var n=t.length;n--&&-1<kc(e,t[n],0););return n}function zc(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function Wc(t){return"\\"+$[t]}function Vc(t,e){return null==t?ih:t[e]}function $c(t){return B.test(t)}function Uc(t){return H.test(t)}function Kc(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Gc(t){var n=-1,i=Array(t.size);return t.forEach(function(t,e){i[++n]=[e,t]}),i}function Qc(e,n){return function(t){return e(n(t))}}function Yc(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==ch||(t[n]=ch,o[r++]=n)}return o}function Xc(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Jc(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function i(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Zc(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function th(t){return $c(t)?n(t):J(t)}function eh(t){return $c(t)?r(t):e(t)}function n(t){for(var e=N.lastIndex=0;N.test(t);)++e;return e}function r(t){return t.match(N)||[]}function nh(t){return t.match(j)||[]}var ih,rh="4.17.4",oh=200,sh="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ah="Expected a function",lh="__lodash_hash_undefined__",uh=500,ch="__lodash_placeholder__",hh=1,dh=2,fh=4,ph=1,gh=2,mh=1,vh=2,yh=4,_h=8,bh=16,wh=32,xh=64,Sh=128,qh=256,Ch=512,Eh=30,kh="...",Th=800,Dh=16,Lh=1,Ih=2,Ah=3,Fh=1/0,Rh=9007199254740991,Mh=17976931348623157e292,Ph=NaN,Oh=4294967295,Nh=Oh-1,jh=Oh>>>1,Bh=[["ary",Sh],["bind",mh],["bindKey",vh],["curry",_h],["curryRight",bh],["flip",Ch],["partial",wh],["partialRight",xh],["rearg",qh]],Hh="[object Arguments]",zh="[object Array]",Wh="[object AsyncFunction]",Vh="[object Boolean]",$h="[object Date]",Uh="[object DOMException]",Kh="[object Error]",Gh="[object Function]",Qh="[object GeneratorFunction]",Yh="[object Map]",Xh="[object Number]",Jh="[object Null]",Zh="[object Object]",td="[object Promise]",ed="[object Proxy]",nd="[object RegExp]",id="[object Set]",rd="[object String]",od="[object Symbol]",sd="[object Undefined]",ad="[object WeakMap]",ld="[object WeakSet]",ud="[object ArrayBuffer]",cd="[object DataView]",hd="[object Float32Array]",dd="[object Float64Array]",fd="[object Int8Array]",pd="[object Int16Array]",gd="[object Int32Array]",md="[object Uint8Array]",vd="[object Uint8ClampedArray]",yd="[object Uint16Array]",_d="[object Uint32Array]",bd=/\b__p \+= '';/g,wd=/\b(__p \+=) '' \+/g,xd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sd=/&(?:amp|lt|gt|quot|#39);/g,qd=/[&<>"']/g,Cd=RegExp(Sd.source),Ed=RegExp(qd.source),kd=/<%-([\s\S]+?)%>/g,Td=/<%([\s\S]+?)%>/g,Dd=/<%=([\s\S]+?)%>/g,Ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Id=/^\w*$/,Ad=/^\./,Fd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rd=/[\\^$.*+?()[\]{}|]/g,Md=RegExp(Rd.source),Pd=/^\s+|\s+$/g,Od=/^\s+/,Nd=/\s+$/,jd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bd=/\{\n\/\* \[wrapped with (.+)\] \*/,Hd=/,? & /,o=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zd=/\\(\\)?/g,Wd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vd=/\w*$/,$d=/^[-+]0x[0-9a-f]+$/i,Ud=/^0b[01]+$/i,Kd=/^\[object .+?Constructor\]$/,Gd=/^0o[0-7]+$/i,Qd=/^(?:0|[1-9]\d*)$/,Yd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xd=/($^)/,Jd=/['\n\r\u2028\u2029\\]/g,s="\\ud800-\\udfff",a="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff",l="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",d="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="['\xe2\u20ac\u2122]",p="["+s+"]",g="["+d+"]",m="["+a+"]",v="\\d+",y="["+l+"]",_="["+u+"]",b="[^"+s+d+v+l+u+c+"]",w="\\ud83c[\\udffb-\\udfff]",x="[^"+s+"]",S="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",C="["+c+"]",E="\\u200d",k="(?:"+_+"|"+b+")",T="(?:"+C+"|"+b+")",D="(?:"+f+"(?:d|ll|m|re|s|t|ve))?",L="(?:"+f+"(?:D|LL|M|RE|S|T|VE))?",I="(?:"+m+"|"+w+")"+"?",A="["+h+"]?",F="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",R="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",M=A+I+("(?:"+E+"(?:"+[x,S,q].join("|")+")"+A+I+")*"),P="(?:"+[y,S,q].join("|")+")"+M,O="(?:"+[x+m+"?",m,S,q,p].join("|")+")",Zd=RegExp(f,"g"),tf=RegExp(m,"g"),N=RegExp(w+"(?="+w+")|"+O+M,"g"),j=RegExp([C+"?"+_+"+"+D+"(?="+[g,C,"$"].join("|")+")",T+"+"+L+"(?="+[g,C+k,"$"].join("|")+")",C+"?"+k+"+"+D,C+"+"+L,R,F,v,P].join("|"),"g"),B=RegExp("["+E+s+a+h+"]"),H=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ef=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nf=-1,rf={};rf[hd]=rf[dd]=rf[fd]=rf[pd]=rf[gd]=rf[md]=rf[vd]=rf[yd]=rf[_d]=!0,rf[Hh]=rf[zh]=rf[ud]=rf[Vh]=rf[cd]=rf[$h]=rf[Kh]=rf[Gh]=rf[Yh]=rf[Xh]=rf[Zh]=rf[nd]=rf[id]=rf[rd]=rf[ad]=!1;var of={};of[Hh]=of[zh]=of[ud]=of[cd]=of[Vh]=of[$h]=of[hd]=of[dd]=of[fd]=of[pd]=of[gd]=of[Yh]=of[Xh]=of[Zh]=of[nd]=of[id]=of[rd]=of[od]=of[md]=of[vd]=of[yd]=of[_d]=!0,of[Kh]=of[Gh]=of[ad]=!1;var z={"\xc3\u20ac":"A","\xc3\x81":"A","\xc3\u201a":"A","\xc3\u0192":"A","\xc3\u201e":"A","\xc3\u2026":"A","\xc3 ":"a","\xc3\xa1":"a","\xc3\xa2":"a","\xc3\xa3":"a","\xc3\xa4":"a","\xc3\xa5":"a","\xc3\u2021":"C","\xc3\xa7":"c","\xc3\x90":"D","\xc3\xb0":"d","\xc3\u02c6":"E","\xc3\u2030":"E","\xc3\u0160":"E","\xc3\u2039":"E","\xc3\xa8":"e","\xc3\xa9":"e","\xc3\xaa":"e","\xc3\xab":"e","\xc3\u0152":"I","\xc3\x8d":"I","\xc3\u017d":"I","\xc3\x8f":"I","\xc3\xac":"i","\xc3\xad":"i","\xc3\xae":"i","\xc3\xaf":"i","\xc3\u2018":"N","\xc3\xb1":"n","\xc3\u2019":"O","\xc3\u201c":"O","\xc3\u201d":"O","\xc3\u2022":"O","\xc3\u2013":"O","\xc3\u02dc":"O","\xc3\xb2":"o","\xc3\xb3":"o","\xc3\xb4":"o","\xc3\xb5":"o","\xc3\xb6":"o","\xc3\xb8":"o","\xc3\u2122":"U","\xc3\u0161":"U","\xc3\u203a":"U","\xc3\u0153":"U","\xc3\xb9":"u","\xc3\xba":"u","\xc3\xbb":"u","\xc3\xbc":"u","\xc3\x9d":"Y","\xc3\xbd":"y","\xc3\xbf":"y","\xc3\u2020":"Ae","\xc3\xa6":"ae","\xc3\u017e":"Th","\xc3\xbe":"th","\xc3\u0178":"ss","\xc4\u20ac":"A","\xc4\u201a":"A","\xc4\u201e":"A","\xc4\x81":"a","\xc4\u0192":"a","\xc4\u2026":"a","\xc4\u2020":"C","\xc4\u02c6":"C","\xc4\u0160":"C","\xc4\u0152":"C","\xc4\u2021":"c","\xc4\u2030":"c","\xc4\u2039":"c","\xc4\x8d":"c","\xc4\u017d":"D","\xc4\x90":"D","\xc4\x8f":"d","\xc4\u2018":"d","\xc4\u2019":"E","\xc4\u201d":"E","\xc4\u2013":"E","\xc4\u02dc":"E","\xc4\u0161":"E","\xc4\u201c":"e","\xc4\u2022":"e","\xc4\u2014":"e","\xc4\u2122":"e","\xc4\u203a":"e","\xc4\u0153":"G","\xc4\u017e":"G","\xc4 ":"G","\xc4\xa2":"G","\xc4\x9d":"g","\xc4\u0178":"g","\xc4\xa1":"g","\xc4\xa3":"g","\xc4\xa4":"H","\xc4\xa6":"H","\xc4\xa5":"h","\xc4\xa7":"h","\xc4\xa8":"I","\xc4\xaa":"I","\xc4\xac":"I","\xc4\xae":"I","\xc4\xb0":"I","\xc4\xa9":"i","\xc4\xab":"i","\xc4\xad":"i","\xc4\xaf":"i","\xc4\xb1":"i","\xc4\xb4":"J","\xc4\xb5":"j","\xc4\xb6":"K","\xc4\xb7":"k","\xc4\xb8":"k","\xc4\xb9":"L","\xc4\xbb":"L","\xc4\xbd":"L","\xc4\xbf":"L","\xc5\x81":"L","\xc4\xba":"l","\xc4\xbc":"l","\xc4\xbe":"l","\xc5\u20ac":"l","\xc5\u201a":"l","\xc5\u0192":"N","\xc5\u2026":"N","\xc5\u2021":"N","\xc5\u0160":"N","\xc5\u201e":"n","\xc5\u2020":"n","\xc5\u02c6":"n","\xc5\u2039":"n","\xc5\u0152":"O","\xc5\u017d":"O","\xc5\x90":"O","\xc5\x8d":"o","\xc5\x8f":"o","\xc5\u2018":"o","\xc5\u201d":"R","\xc5\u2013":"R","\xc5\u02dc":"R","\xc5\u2022":"r","\xc5\u2014":"r","\xc5\u2122":"r","\xc5\u0161":"S","\xc5\u0153":"S","\xc5\u017e":"S","\xc5 ":"S","\xc5\u203a":"s","\xc5\x9d":"s","\xc5\u0178":"s","\xc5\xa1":"s","\xc5\xa2":"T","\xc5\xa4":"T","\xc5\xa6":"T","\xc5\xa3":"t","\xc5\xa5":"t","\xc5\xa7":"t","\xc5\xa8":"U","\xc5\xaa":"U","\xc5\xac":"U","\xc5\xae":"U","\xc5\xb0":"U","\xc5\xb2":"U","\xc5\xa9":"u","\xc5\xab":"u","\xc5\xad":"u","\xc5\xaf":"u","\xc5\xb1":"u","\xc5\xb3":"u","\xc5\xb4":"W","\xc5\xb5":"w","\xc5\xb6":"Y","\xc5\xb7":"y","\xc5\xb8":"Y","\xc5\xb9":"Z","\xc5\xbb":"Z","\xc5\xbd":"Z","\xc5\xba":"z","\xc5\xbc":"z","\xc5\xbe":"z","\xc4\xb2":"IJ","\xc4\xb3":"ij","\xc5\u2019":"Oe","\xc5\u201c":"oe","\xc5\u2030":"'n","\xc5\xbf":"s"},W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sf=parseFloat,af=parseInt,U="object"==(void 0===Z?"undefined":wf(Z))&&Z&&Z.Object===Object&&Z,K="object"==("undefined"==typeof self?"undefined":wf(self))&&self&&self.Object===Object&&self,lf=U||K||Function("return this")(),G="object"==wf(et)&&et&&!et.nodeType&&et,Q=G&&"object"==wf(tt)&&tt&&!tt.nodeType&&tt,uf=Q&&Q.exports===G,Y=uf&&U.process,X=function(){try{return Y&&Y.binding&&Y.binding("util")}catch(Z){}}(),cf=X&&X.isArrayBuffer,hf=X&&X.isDate,df=X&&X.isMap,ff=X&&X.isRegExp,pf=X&&X.isSet,gf=X&&X.isTypedArray,J=Ic("length"),mf=t(z),vf=t(W),yf=t(V),_f=function bf(t){function m(t){if(Xr(t)&&!hu(t)&&!(t instanceof y)){if(t instanceof v)return t;if(ca.call(t,"__wrapped__"))return Gn(t)}return new v(t)}function o(){}function v(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ih}function y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oh,this.__views__=[]}function e(){var t=new y(this.__wrapped__);return t.__actions__=Te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Te(this.__views__),t}function n(){if(this.__filtered__){var t=new y(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t}function i(){var t=this.__wrapped__.value(),e=this.__dir__,n=hu(t),i=e<0,r=n?t.length:0,o=yn(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=Ba(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return ue(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,m=t[u+=e];++g<h;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(_==Ih)m=b;else if(!b){if(_==Lh)continue t;break t}}p[d++]=m}return p}function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function s(){this.__data__=Ya?Ya(null):{},this.size=0}function a(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function l(t){var e=this.__data__;if(Ya){var n=e[t];return n===lh?ih:n}return ca.call(e,t)?e[t]:ih}function u(t){var e=this.__data__;return Ya?e[t]!==ih:ca.call(e,t)}function c(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ya&&e===ih?lh:e,this}function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function d(){this.__data__=[],this.size=0}function f(t){var e=this.__data__,n=H(e,t);return!(n<0||(n==e.length-1?e.pop():qa.call(e,n,1),--this.size,0))}function p(t){var e=this.__data__,n=H(e,t);return n<0?ih:e[n][1]}function g(t){return-1<H(this.__data__,t)}function _(t,e){var n=this.__data__,i=H(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function b(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function w(){this.size=0,this.__data__={hash:new r,map:new(Ua||h),string:new r}}function x(t){var e=pn(this,t)["delete"](t);return this.size-=e?1:0,e}function S(t){return pn(this,t).get(t)}function q(t){return pn(this,t).has(t)}function C(t,e){var n=pn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function E(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new b;++e<n;)this.add(t[e])}function k(t){return this.__data__.set(t,lh),this}function T(t){return this.__data__.has(t)}function D(t){var e=this.__data__=new h(t);this.size=e.size}function L(){this.__data__=new h,this.size=0}function I(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function A(t){return this.__data__.get(t)}function F(t){return this.__data__.has(t)}function R(t,e){var n=this.__data__;if(n instanceof h){var i=n.__data__;if(!Ua||i.length<oh-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new b(i)}return n.set(t,e),this.size=n.size,this}function M(t,e){var n=hu(t),i=!n&&cu(t),r=!n&&!i&&fu(t),o=!n&&!i&&!r&&yu(t),s=n||i||r||o,a=s?Mc(t.length,ia):[],l=a.length;for(var u in t)!e&&!ca.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||En(u,l))||a.push(u);return a}function P(t){var e=t.length;return e?t[Vt(0,e-1)]:ih}function O(t,e){return Vn(Te(t),K(e,0,t.length))}function N(t){return Vn(Te(t))}function j(t,e,n){(n===ih||Or(t[e],n))&&(n!==ih||e in t)||$(t,e,n)}function B(t,e,n){var i=t[e];ca.call(t,e)&&Or(i,n)&&(n!==ih||e in t)||$(t,e,n)}function H(t,e){for(var n=t.length;n--;)if(Or(t[n][0],e))return n;return-1}function z(t,i,r,o){return ll(t,function(t,e,n){i(o,t,r(t),n)}),o}function W(t,e){return t&&De(e,Fo(e),t)}function V(t,e){return t&&De(e,Ro(e),t)}function $(t,e,n){"__proto__"==e&&Ta?Ta(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function U(t,e){for(var n=-1,i=e.length,r=Ys(i),o=null==t;++n<i;)r[n]=o?ih:Lo(t,e[n]);return r}function K(t,e,n){return t==t&&(n!==ih&&(t=t<=n?t:n),e!==ih&&(t=e<=t?t:e)),t}function G(n,i,r,t,e,o){var s,a=i&hh,l=i&dh,u=i&fh;if(r&&(s=e?r(n,t,e,o):r(n)),s!==ih)return s;if(!Yr(n))return n;var c=hu(n);if(c){if(s=wn(n),!a)return Te(n,s)}else{var h=bl(n),d=h==Gh||h==Qh;if(fu(n))return me(n,a);if(h==Zh||h==Hh||d&&!e){if(s=l||d?{}:xn(n),!a)return l?Ie(n,V(s,n)):Le(n,W(s,n))}else{if(!of[h])return e?n:{};s=Sn(n,h,G,a)}}o||(o=new D);var f=o.get(n);if(f)return f;o.set(n,s);var p=c?ih:(u?l?cn:un:l?Ro:Fo)(n);return fc(p||n,function(t,e){p&&(t=n[e=t]),B(s,e,G(t,i,r,e,n,o))}),s}function Q(e){var n=Fo(e);return function(t){return Y(t,e,n)}}function Y(t,e,n){var i=n.length;if(null==t)return!i;for(t=ea(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===ih&&!(r in t)||!o(s))return!1}return!0}function X(t,e,n){if("function"!=typeof t)throw new ra(ah);return Sl(function(){t.apply(ih,n)},e)}function J(t,e,n,i){var r=-1,o=vc,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=_c(e,Oc(n))),i?(o=yc,s=!1):e.length>=oh&&(o=jc,s=!1,e=new E(e));t:for(;++r<a;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else o(e,h,i)||l.push(c)}return l}function Z(t,i){var r=!0;return ll(t,function(t,e,n){return r=!!i(t,e,n)}),r}function tt(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===ih?s==s&&!lo(s):n(s,a)))var a=s,l=o}return l}function et(t,e,n,i){var r=t.length;for((n=go(n))<0&&(n=r<-n?0:r+n),(i=i===ih||r<i?r:go(i))<0&&(i+=r),i=i<n?0:mo(i);n<i;)t[n++]=e;return t}function nt(t,i){var r=[];return ll(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r}function it(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Cn),r||(r=[]);++o<s;){var a=t[o];0<e&&n(a)?1<e?it(a,e-1,n,i,r):bc(r,a):i||(r[r.length]=a)}return r}function rt(t,e){return t&&cl(t,e,Fo)}function ot(t,e){return t&&hl(t,e,Fo)}function st(e,t){return mc(t,function(t){return Kr(e[t])})}function at(t,e){for(var n=0,i=(e=pe(e,t)).length;null!=t&&n<i;)t=t[$n(e[n++])];return n&&n==i?t:ih}function lt(t,e,n){var i=e(t);return hu(t)?i:bc(i,n(t))}function ut(t){return null==t?t===ih?sd:Jh:ka&&ka in ea(t)?vn(t):Nn(t)}function ct(t,e){return e<t}function ht(t,e){return null!=t&&ca.call(t,e)}function dt(t,e){return null!=t&&e in ea(t)}function ft(t,e,n){return t>=Ba(e,n)&&t<ja(e,n)}function pt(t,e,n){for(var i=n?yc:vc,r=t[0].length,o=t.length,s=o,a=Ys(o),l=1/0,u=[];s--;){var c=t[s];s&&e&&(c=_c(c,Oc(e))),l=Ba(c.length,l),a[s]=!n&&(e||120<=r&&120<=c.length)?new E(s&&c):ih}c=t[0];var h=-1,d=a[0];t:for(;++h<r&&u.length<l;){var f=c[h],p=e?e(f):f;if(f=n||0!==f?f:0,!(d?jc(d,p):i(u,p,n))){for(s=o;--s;){var g=a[s];if(!(g?jc(g,p):i(t[s],p,n)))continue t}d&&d.push(p),u.push(f)}}return u}function gt(t,i,r,o){return rt(t,function(t,e,n){i(o,r(t),e,n)}),o}function mt(t,e,n){var i=null==(t=Bn(t,e=pe(e,t)))?t:t[$n(fi(e))];return null==i?ih:hc(i,t,n)}function vt(t){return Xr(t)&&ut(t)==Hh}function yt(t){return Xr(t)&&ut(t)==ud}function _t(t){return Xr(t)&&ut(t)==$h}function bt(t,e,n,i,r){return t===e||(null==t||null==e||!Xr(t)&&!Xr(e)?t!=t&&e!=e:wt(t,e,n,i,bt,r))}function wt(t,e,n,i,r,o){var s=hu(t),a=hu(e),l=s?zh:bl(t),u=a?zh:bl(e),c=(l=l==Hh?Zh:l)==Zh,h=(u=u==Hh?Zh:u)==Zh,d=l==u;if(d&&fu(t)){if(!fu(e))return!1;c=!(s=!0)}if(d&&!c)return o||(o=new D),s||yu(t)?on(t,e,n,i,r,o):sn(t,e,l,n,i,r,o);if(!(n&ph)){var f=c&&ca.call(t,"__wrapped__"),p=h&&ca.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new D),r(g,m,n,i,o)}}return!!d&&(o||(o=new D),an(t,e,n,i,r,o))}function xt(t){return Xr(t)&&bl(t)==Yh}function St(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=ea(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var l=(a=n[r])[0],u=t[l],c=a[1];if(s&&a[2]){if(u===ih&&!(l in t))return!1}else{var h=new D;if(i)var d=i(u,c,l,t,e,h);if(!(d===ih?bt(c,u,ph|gh,i,h):d))return!1}}return!0}function qt(t){return!(!Yr(t)||In(t))&&(Kr(t)?ma:Kd).test(Un(t))}function Ct(t){return Xr(t)&&ut(t)==nd}function Et(t){return Xr(t)&&bl(t)==id}function kt(t){return Xr(t)&&Qr(t.length)&&!!rf[ut(t)]}function Tt(t){return"function"==typeof t?t:null==t?Ss:"object"==(void 0===t?"undefined":wf(t))?hu(t)?Rt(t[0],t[1]):Ft(t):Is(t)}function Dt(t){if(!An(t))return Na(t);var e=[];for(var n in ea(t))ca.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lt(t){if(!Yr(t))return On(t);var e=An(t),n=[];for(var i in t)("constructor"!=i||!e&&ca.call(t,i))&&n.push(i);return n}function It(t,e){return t<e}function At(t,i){var r=-1,o=Nr(t)?Ys(t.length):[];return ll(t,function(t,e,n){o[++r]=i(t,e,n)}),o}function Ft(e){var n=gn(e);return 1==n.length&&n[0][2]?Rn(n[0][0],n[0][1]):function(t){return t===e||St(t,e,n)}}function Rt(n,i){return Tn(n)&&Fn(i)?Rn($n(n),i):function(t){var e=Lo(t,n);return e===ih&&e===i?Ao(t,n):bt(i,e,ph|gh)}}function Mt(i,r,o,s,a){i!==r&&cl(r,function(t,e){if(Yr(t))a||(a=new D),Pt(i,r,e,o,Mt,s,a);else{var n=s?s(i[e],t,e+"",i,r,a):ih;n===ih&&(n=t),j(i,e,n)}},Ro)}function Pt(t,e,n,i,r,o,s){var a=t[n],l=e[n],u=s.get(l);if(u)j(t,n,u);else{var c=o?o(a,l,n+"",t,e,s):ih,h=c===ih;if(h){var d=hu(l),f=!d&&fu(l),p=!d&&!f&&yu(l);c=l,d||f||p?hu(a)?c=a:jr(a)?c=Te(a):f?c=me(l,!(h=!1)):p?c=Se(l,!(h=!1)):c=[]:oo(l)||cu(l)?cu(c=a)?c=yo(a):(!Yr(a)||i&&Kr(a))&&(c=xn(l)):h=!1}h&&(s.set(l,c),r(c,l,i,o,s),s["delete"](l)),j(t,n,c)}}function Ot(t,e){var n=t.length;if(n)return En(e+=e<0?n:0,n)?t[e]:ih}function Nt(t,n,i){var r=-1;return n=_c(n.length?n:[Ss],Oc(fn())),Fc(At(t,function(e){return{criteria:_c(n,function(t){return t(e)}),index:++r,value:e}}),function(t,e){return Ce(t,e,i)})}function jt(n,t){return Bt(n,t,function(t,e){return Ao(n,e)})}function Bt(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=at(t,s);n(a,s)&&Yt(o,pe(s,t),a)}return o}function Ht(e){return function(t){return at(t,e)}}function zt(t,e,n,i){var r=i?Tc:kc,o=-1,s=e.length,a=t;for(t===e&&(e=Te(e)),n&&(a=_c(t,Oc(n)));++o<s;)for(var l=0,u=e[o],c=n?n(u):u;-1<(l=r(a,c,l,i));)a!==t&&qa.call(a,l,1),qa.call(t,l,1);return t}function Wt(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;En(r)?qa.call(t,r,1):se(t,r)}}return t}function Vt(t,e){return t+Fa(Wa()*(e-t+1))}function $t(t,e,n,i){for(var r=-1,o=ja(Aa((e-t)/(n||1)),0),s=Ys(o);o--;)s[i?o:++r]=t,t+=n;return s}function Ut(t,e){var n="";if(!t||e<1||Rh<e)return n;for(;e%2&&(n+=t),(e=Fa(e/2))&&(t+=t),e;);return n}function Kt(t,e){return ql(jn(t,e,Ss),t+"")}function Gt(t){return P(Uo(t))}function Qt(t,e){var n=Uo(t);return Vn(n,K(e,0,n.length))}function Yt(t,e,n,i){if(!Yr(t))return t;for(var r=-1,o=(e=pe(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var l=$n(e[r]),u=n;if(r!=s){var c=a[l];(u=i?i(c,l,a):ih)===ih&&(u=Yr(c)?c:En(e[r+1])?[]:{})}B(a,l,u),a=a[l]}return t}function Xt(t){return Vn(Uo(t))}function Jt(t,e,n){var i=-1,r=t.length;e<0&&(e=r<-e?0:r+e),(n=r<n?r:n)<0&&(n+=r),r=n<e?0:n-e>>>0,e>>>=0;for(var o=Ys(r);++i<r;)o[i]=t[i+e];return o}function Zt(t,i){var r;return ll(t,function(t,e,n){return!(r=i(t,e,n))}),!!r}function te(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=jh){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!lo(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return ee(t,e,Ss,n)}function ee(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!=e,a=null===e,l=lo(e),u=e===ih;r<o;){var c=Fa((r+o)/2),h=n(t[c]),d=h!==ih,f=null===h,p=h==h,g=lo(h);if(s)var m=i||p;else m=u?p&&(i||d):a?p&&d&&(i||!f):l?p&&d&&!f&&(i||!g):!f&&!g&&(i?h<=e:h<e);m?r=c+1:o=c}return Ba(o,Nh)}function ne(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Or(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function ie(t){return"number"==typeof t?t:lo(t)?Ph:+t}function re(t){if("string"==typeof t)return t;if(hu(t))return _c(t,re)+"";if(lo(t))return sl?sl.call(t):"";var e=t+"";return"0"==e&&1/t==-Fh?"-0":e}function oe(t,e,n){var i=-1,r=vc,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=yc;else if(oh<=o){var u=e?null:ml(t);if(u)return Xc(u);s=!1,r=jc,l=new E}else l=e?[]:a;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(c)}else r(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function se(t,e){return null==(t=Bn(t,e=pe(e,t)))||delete t[$n(fi(e))]}function ae(t,e,n,i){return Yt(t,e,n(at(t,e)),i)}function le(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Jt(t,i?0:o,i?o+1:r):Jt(t,i?o+1:0,i?r:o)}function ue(t,e){var n=t;return n instanceof y&&(n=n.value()),wc(e,function(t,e){return e.func.apply(e.thisArg,bc([t],e.args))},n)}function ce(t,e,n){var i=t.length;if(i<2)return i?oe(t[0]):[];for(var r=-1,o=Ys(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=J(o[r]||s,t[a],e,n));return oe(it(o,1),e,n)}function he(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:ih;n(s,t[i],a)}return s}function de(t){return jr(t)?t:[]}function fe(t){return"function"==typeof t?t:Ss}function pe(t,e){return hu(t)?t:Tn(t,e)?[t]:Cl(bo(t))}function ge(t,e,n){var i=t.length;return n=n===ih?i:n,!e&&i<=n?t:Jt(t,e,n)}function me(t,e){if(e)return t.slice();var n=t.length,i=ba?ba(n):new t.constructor(n);return t.copy(i),i}function ve(t){var e=new t.constructor(t.byteLength);return new _a(e).set(new _a(t)),e}function ye(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function _e(t,e,n){return wc(e?n(Gc(t),hh):Gc(t),uc,new t.constructor)}function be(t){var e=new t.constructor(t.source,Vd.exec(t));return e.lastIndex=t.lastIndex,e}function we(t,e,n){return wc(e?n(Xc(t),hh):Xc(t),cc,new t.constructor)}function xe(t){return ol?ea(ol.call(t)):{}}function Se(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function qe(t,e){if(t!==e){var n=t!==ih,i=null===t,r=t==t,o=lo(t),s=e!==ih,a=null===e,l=e==e,u=lo(e);if(!a&&!u&&!o&&e<t||o&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function Ce(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=qe(r[i],o[i]);if(l)return a<=i?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}function Ee(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,l=e.length,u=ja(o-s,0),c=Ys(l+u),h=!i;++a<l;)c[a]=e[a];for(;++r<s;)(h||r<o)&&(c[n[r]]=t[r]);for(;u--;)c[a++]=t[r++];return c}function ke(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,l=-1,u=e.length,c=ja(o-a,0),h=Ys(c+u),d=!i;++r<c;)h[r]=t[r];for(var f=r;++l<u;)h[f+l]=e[l];for(;++s<a;)(d||r<o)&&(h[f+n[s]]=t[r++]);return h}function Te(t,e){var n=-1,i=t.length;for(e||(e=Ys(i));++n<i;)e[n]=t[n];return e}function De(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):ih;l===ih&&(l=t[a]),r?$(n,a,l):B(n,a,l)}return n}function Le(t,e){return De(t,yl(t),e)}function Ie(t,e){return De(t,_l(t),e)}function Ae(r,o){return function(t,e){var n=hu(t)?dc:z,i=o?o():{};return n(t,r,fn(e,2),i)}}function Fe(a){return Kt(function(t,e){var n=-1,i=e.length,r=1<i?e[i-1]:ih,o=2<i?e[2]:ih;for(r=3<a.length&&"function"==typeof r?(i--,r):ih,o&&kn(e[0],e[1],o)&&(r=i<3?ih:r,i=1),t=ea(t);++n<i;){var s=e[n];s&&a(t,s,n,r)}return t})}function Re(o,s){return function(t,e){if(null==t)return t;if(!Nr(t))return o(t,e);for(var n=t.length,i=s?n:-1,r=ea(t);(s?i--:++i<n)&&!1!==e(r[i],i,r););return t}}function Me(l){return function(t,e,n){for(var i=-1,r=ea(t),o=n(t),s=o.length;s--;){var a=o[l?s:++i];if(!1===e(r[a],a,r))break}return t}}function Pe(t,e,n){function i(){return(this&&this!==lf&&this instanceof i?o:t).apply(r?n:this,arguments)}var r=e&mh,o=je(t);return i}function Oe(r){return function(t){var e=$c(t=bo(t))?eh(t):ih,n=e?e[0]:t.charAt(0),i=e?ge(e,1).join(""):t.slice(1);return n[r]()+i}}function Ne(e){return function(t){return wc(ys(Jo(t).replace(Zd,"")),e,"")}}function je(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=al(i.prototype),n=i.apply(e,t);return Yr(n)?n:e}}function Be(o,s,a){function l(){for(var t=arguments.length,e=Ys(t),n=t,i=dn(l);n--;)e[n]=arguments[n];var r=t<3&&e[0]!==i&&e[t-1]!==i?[]:Yc(e,i);return(t-=r.length)<a?Xe(o,s,We,l.placeholder,ih,e,r,ih,ih,a-t):hc(this&&this!==lf&&this instanceof l?u:o,this,e)}var u=je(o);return l}function He(s){return function(t,e,n){var i=ea(t);if(!Nr(t)){var r=fn(e,3);t=Fo(t),e=function(t){return r(i[t],t,i)}}var o=s(t,e,n);return-1<o?i[r?t[o]:o]:ih}}function ze(l){return ln(function(r){var o=r.length,t=o,e=v.prototype.thru;for(l&&r.reverse();t--;){var n=r[t];if("function"!=typeof n)throw new ra(ah);if(e&&!s&&"wrapper"==hn(n))var s=new v([],!0)}for(t=s?t:o;++t<o;){var i=hn(n=r[t]),a="wrapper"==i?vl(n):ih;s=a&&Ln(a[0])&&a[1]==(Sh|_h|wh|qh)&&!a[4].length&&1==a[9]?s[hn(a[0])].apply(s,a[3]):1==n.length&&Ln(n)?s[i]():s.thru(n)}return function(){var t=arguments,e=t[0];if(s&&1==t.length&&hu(e))return s.plant(e).value();for(var n=0,i=o?r[n].apply(this,t):e;++n<o;)i=r[n].call(this,i);return i}})}function We(l,u,c,h,d,f,p,g,m,v){function y(){for(var t=arguments.length,e=Ys(t),n=t;n--;)e[n]=arguments[n];if(x)var i=dn(y),r=zc(e,i);if(h&&(e=Ee(e,h,d,x)),f&&(e=ke(e,f,p,x)),t-=r,x&&t<v){var o=Yc(e,i);return Xe(l,u,We,y.placeholder,c,e,o,g,m,v-t)}var s=b?c:this,a=w?s[l]:l;return t=e.length,g?e=Hn(e,g):S&&1<t&&e.reverse(),_&&m<t&&(e.length=m),this&&this!==lf&&this instanceof y&&(a=q||je(a)),a.apply(s,e)}var _=u&Sh,b=u&mh,w=u&vh,x=u&(_h|bh),S=u&Ch,q=w?ih:je(l);return y}function Ve(n,i){return function(t,e){return gt(t,n,i(e),{})}}function $e(i,r){return function(t,e){var n;if(t===ih&&e===ih)return r;if(t!==ih&&(n=t),e!==ih){if(n===ih)return e;"string"==typeof t||"string"==typeof e?(t=re(t),e=re(e)):(t=ie(t),e=ie(e)),n=i(t,e)}return n}}function Ue(i){return ln(function(t){return t=_c(t,Oc(fn())),Kt(function(e){var n=this;return i(t,function(t){return hc(t,n,e)})})})}function Ke(t,e){var n=(e=e===ih?" ":re(e)).length;if(n<2)return n?Ut(e,t):e;var i=Ut(e,Aa(t/th(e)));return $c(e)?ge(eh(i),0,t).join(""):i.slice(0,t)}function Ge(s,t,a,l){function u(){for(var t=-1,e=arguments.length,n=-1,i=l.length,r=Ys(i+e),o=this&&this!==lf&&this instanceof u?h:s;++n<i;)r[n]=l[n];for(;e--;)r[n++]=arguments[++t];return hc(o,c?a:this,r)}var c=t&mh,h=je(s);return u}function Qe(i){return function(t,e,n){return n&&"number"!=typeof n&&kn(t,e,n)&&(e=n=ih),t=po(t),e===ih?(e=t,t=0):e=po(e),$t(t,e,n=n===ih?t<e?1:-1:po(n),i)}}function Ye(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=vo(t),e=vo(e)),n(t,e)}}function Xe(t,e,n,i,r,o,s,a,l,u){var c=e&_h;e|=c?wh:xh,(e&=~(c?xh:wh))&yh||(e&=~(mh|vh));var h=[t,e,r,c?o:ih,c?s:ih,c?ih:o,c?ih:s,a,l,u],d=n.apply(ih,h);return Ln(t)&&xl(d,h),d.placeholder=i,zn(d,t,e)}function Je(t){var i=ta[t];return function(t,e){if(t=vo(t),e=null==e?0:Ba(go(e),292)){var n=(bo(t)+"e").split("e");return+((n=(bo(i(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return i(t)}}function Ze(n){return function(t){var e=bl(t);return e==Yh?Gc(t):e==id?Jc(t):Pc(t,n(t))}}function tn(t,e,n,i,r,o,s,a){var l=e&vh;if(!l&&"function"!=typeof t)throw new ra(ah);var u=i?i.length:0;if(u||(e&=~(wh|xh),i=r=ih),s=s===ih?s:ja(go(s),0),a=a===ih?a:go(a),u-=r?r.length:0,e&xh){var c=i,h=r;i=r=ih}var d=l?ih:vl(t),f=[t,e,n,i,r,c,h,o,s,a];if(d&&Pn(f,d),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],!(a=f[9]=f[9]===ih?l?0:t.length:ja(f[9]-u,0))&&e&(_h|bh)&&(e&=~(_h|bh)),e&&e!=mh)p=e==_h||e==bh?Be(t,e,a):e!=wh&&e!=(mh|wh)||r.length?We.apply(ih,f):Ge(t,e,n,i);else var p=Pe(t,e,n);return zn((d?dl:xl)(p,f),t,e)}function en(t,e,n,i){return t===ih||Or(t,aa[n])&&!ca.call(i,n)?e:t}function nn(t,e,n,i,r,o){return Yr(t)&&Yr(e)&&(o.set(e,t),Mt(t,e,ih,nn,o),o["delete"](e)),t}function rn(t){return oo(t)?ih:t}function on(t,e,n,i,r,o){var s=n&ph,a=t.length,l=e.length;if(a!=l&&!(s&&a<l))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,h=!0,d=n&gh?new E:ih;for(o.set(t,e),o.set(e,t);++c<a;){var f=t[c],p=e[c];if(i)var g=s?i(p,f,c,e,t,o):i(f,p,c,t,e,o);if(g!==ih){if(g)continue;h=!1;break}if(d){if(!Sc(e,function(t,e){if(!jc(d,e)&&(f===t||r(f,t,n,i,o)))return d.push(e)})){h=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function sn(t,e,n,i,r,o,s){switch(n){case cd:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ud:return!(t.byteLength!=e.byteLength||!o(new _a(t),new _a(e)));case Vh:case $h:case Xh:return Or(+t,+e);case Kh:return t.name==e.name&&t.message==e.message;case nd:case rd:return t==e+"";case Yh:var a=Gc;case id:var l=i&ph;if(a||(a=Xc),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=gh,s.set(t,e);var c=on(a(t),a(e),i,r,o,s);return s["delete"](t),c;case od:if(ol)return ol.call(t)==ol.call(e)}return!1}function an(t,e,n,i,r,o){var s=n&ph,a=un(t),l=a.length;if(l!=un(e).length&&!s)return!1;for(var u=l;u--;){var c=a[u];if(!(
s?c in e:ca.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=s;++u<l;){var p=t[c=a[u]],g=e[c];if(i)var m=s?i(g,p,c,e,t,o):i(p,g,c,t,e,o);if(!(m===ih?p===g||r(p,g,n,i,o):m)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function ln(t){return ql(jn(t,ih,oi),t+"")}function un(t){return lt(t,Fo,yl)}function cn(t){return lt(t,Ro,_l)}function hn(t){for(var e=t.name+"",n=Ja[e],i=ca.call(Ja,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function dn(t){return(ca.call(m,"placeholder")?m:t).placeholder}function fn(t,e){var n=m.iteratee||qs;return n=n===qs?Tt:n,arguments.length?n(t,e):n}function pn(t,e){var n=t.__data__;return Dn(e)?n["string"==typeof e?"string":"hash"]:n.map}function gn(t){for(var e=Fo(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Fn(r)]}return e}function mn(t,e){var n=Vc(t,e);return qt(n)?n:ih}function vn(t){var e=ca.call(t,ka),n=t[ka];try{t[ka]=ih;var i=!0}catch(t){}var r=fa.call(t);return i&&(e?t[ka]=n:delete t[ka]),r}function yn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ba(e,t+s);break;case"takeRight":t=ja(t,e-s)}}return{start:t,end:e}}function _n(t){var e=t.match(Bd);return e?e[1].split(Hd):[]}function bn(t,e,n){for(var i=-1,r=(e=pe(e,t)).length,o=!1;++i<r;){var s=$n(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Qr(r)&&En(s,r)&&(hu(t)||cu(t))}function wn(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ca.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function xn(t){return"function"!=typeof t.constructor||An(t)?{}:al(wa(t))}function Sn(t,e,n,i){var r=t.constructor;switch(e){case ud:return ve(t);case Vh:case $h:return new r(+t);case cd:return ye(t,i);case hd:case dd:case fd:case pd:case gd:case md:case vd:case yd:case _d:return Se(t,i);case Yh:return _e(t,i,n);case Xh:case rd:return new r(t);case nd:return be(t);case id:return we(t,i,n);case od:return xe(t)}}function qn(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(1<n?"& ":"")+e[i],e=e.join(2<n?", ":" "),t.replace(jd,"{\n/* [wrapped with "+e+"] */\n")}function Cn(t){return hu(t)||cu(t)||!!(Ca&&t&&t[Ca])}function En(t,e){return!!(e=null==e?Rh:e)&&("number"==typeof t||Qd.test(t))&&-1<t&&t%1==0&&t<e}function kn(t,e,n){if(!Yr(n))return!1;var i=void 0===e?"undefined":wf(e);return!!("number"==i?Nr(n)&&En(e,n.length):"string"==i&&e in n)&&Or(n[e],t)}function Tn(t,e){if(hu(t))return!1;var n=void 0===t?"undefined":wf(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!lo(t))||Id.test(t)||!Ld.test(t)||null!=e&&t in ea(e)}function Dn(t){var e=void 0===t?"undefined":wf(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ln(t){var e=hn(t),n=m[e];if("function"!=typeof n||!(e in y.prototype))return!1;if(t===n)return!0;var i=vl(n);return!!i&&t===i[0]}function In(t){return!!da&&da in t}function An(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||aa)}function Fn(t){return t==t&&!Yr(t)}function Rn(e,n){return function(t){return null!=t&&t[e]===n&&(n!==ih||e in ea(t))}}function Mn(t){var e=Sr(t,function(t){return n.size===uh&&n.clear(),t}),n=e.cache;return e}function Pn(t,e){var n=t[1],i=e[1],r=n|i,o=r<(mh|vh|Sh),s=i==Sh&&n==_h||i==Sh&&n==qh&&t[7].length<=e[8]||i==(Sh|qh)&&e[7].length<=e[8]&&n==_h;if(!o&&!s)return t;i&mh&&(t[2]=e[2],r|=n&mh?0:yh);var a=e[3];if(a){var l=t[3];t[3]=l?Ee(l,a,e[4]):a,t[4]=l?Yc(t[3],ch):e[4]}return(a=e[5])&&(l=t[5],t[5]=l?ke(l,a,e[6]):a,t[6]=l?Yc(t[5],ch):e[6]),(a=e[7])&&(t[7]=a),i&Sh&&(t[8]=null==t[8]?e[8]:Ba(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function On(t){var e=[];if(null!=t)for(var n in ea(t))e.push(n);return e}function Nn(t){return fa.call(t)}function jn(o,s,a){return s=ja(s===ih?o.length-1:s,0),function(){for(var t=arguments,e=-1,n=ja(t.length-s,0),i=Ys(n);++e<n;)i[e]=t[s+e];e=-1;for(var r=Ys(s+1);++e<s;)r[e]=t[e];return r[s]=a(i),hc(o,this,r)}}function Bn(t,e){return e.length<2?t:at(t,Jt(e,0,-1))}function Hn(t,e){for(var n=t.length,i=Ba(e.length,n),r=Te(t);i--;){var o=e[i];t[i]=En(o,n)?r[o]:ih}return t}function zn(t,e,n){var i=e+"";return ql(t,qn(i,Kn(_n(i),n)))}function Wn(i){var r=0,o=0;return function(t){var e=Ha(),n=Dh-(e-o);if(o=e,0<n){if(++r>=Th)return t}else r=0;return i.apply(ih,arguments)}}function Vn(t,e){var n=-1,i=t.length,r=i-1;for(e=e===ih?i:e;++n<e;){var o=Vt(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function $n(t){if("string"==typeof t||lo(t))return t;var e=t+"";return"0"==e&&1/t==-Fh?"-0":e}function Un(t){if(null!=t){try{return ua.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Kn(n,i){return fc(Bh,function(t){var e="_."+t[0];i&t[1]&&!vc(n,e)&&n.push(e)}),n.sort()}function Gn(t){if(t instanceof y)return t.clone();var e=new v(t.__wrapped__,t.__chain__);return e.__actions__=Te(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Qn(t,e,n){e=(n?kn(t,e,n):e===ih)?1:ja(go(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,s=Ys(Aa(i/e));r<i;)s[o++]=Jt(t,r,r+=e);return s}function Yn(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function Xn(t){var e=arguments.length;if(!e)return[];for(var n=Ys(e-1),i=t,r=e;r--;)n[r-1]=arguments[r];return bc(hu(i)?Te(i):[i],it(n,1))}function Jn(t,e,n){var i=null==t?0:t.length;return i?Jt(t,(e=n||e===ih?1:go(e))<0?0:e,i):[]}function Zn(t,e,n){var i=null==t?0:t.length;return i?Jt(t,0,(e=i-(e=n||e===ih?1:go(e)))<0?0:e):[]}function ti(t,e){return t&&t.length?le(t,fn(e,3),!0,!0):[]}function ei(t,e){return t&&t.length?le(t,fn(e,3),!0):[]}function ni(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&kn(t,e,n)&&(n=0,i=r),et(t,e,n,i)):[]}function ii(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:go(n);return r<0&&(r=ja(i+r,0)),Ec(t,fn(e,3),r)}function ri(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==ih&&(r=go(n),r=n<0?ja(i+r,0):Ba(r,i-1)),Ec(t,fn(e,3),r,!0)}function oi(t){return null!=t&&t.length?it(t,1):[]}function si(t){return null!=t&&t.length?it(t,Fh):[]}function ai(t,e){return null!=t&&t.length?it(t,e=e===ih?1:go(e)):[]}function li(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function ui(t){return t&&t.length?t[0]:ih}function ci(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:go(n);return r<0&&(r=ja(i+r,0)),kc(t,e,r)}function hi(t){return null!=t&&t.length?Jt(t,0,-1):[]}function di(t,e){return null==t?"":Oa.call(t,e)}function fi(t){var e=null==t?0:t.length;return e?t[e-1]:ih}function pi(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==ih&&(r=(r=go(n))<0?ja(i+r,0):Ba(r,i-1)),e==e?Zc(t,e,r):Ec(t,Dc,r,!0)}function gi(t,e){return t&&t.length?Ot(t,go(e)):ih}function mi(t,e){return t&&t.length&&e&&e.length?zt(t,e):t}function vi(t,e,n){return t&&t.length&&e&&e.length?zt(t,e,fn(n,2)):t}function yi(t,e,n){return t&&t.length&&e&&e.length?zt(t,e,ih,n):t}function _i(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=fn(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Wt(t,r),n}function bi(t){return null==t?t:Va.call(t)}function wi(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&kn(t,e,n)?(e=0,n=i):(e=null==e?0:go(e),n=n===ih?i:go(n)),Jt(t,e,n)):[]}function xi(t,e){return te(t,e)}function Si(t,e,n){return ee(t,e,fn(n,2))}function qi(t,e){var n=null==t?0:t.length;if(n){var i=te(t,e);if(i<n&&Or(t[i],e))return i}return-1}function Ci(t,e){return te(t,e,!0)}function Ei(t,e,n){return ee(t,e,fn(n,2),!0)}function ki(t,e){if(null!=t&&t.length){var n=te(t,e,!0)-1;if(Or(t[n],e))return n}return-1}function Ti(t){return t&&t.length?ne(t):[]}function Di(t,e){return t&&t.length?ne(t,fn(e,2)):[]}function Li(t){var e=null==t?0:t.length;return e?Jt(t,1,e):[]}function Ii(t,e,n){return t&&t.length?Jt(t,0,(e=n||e===ih?1:go(e))<0?0:e):[]}function Ai(t,e,n){var i=null==t?0:t.length;return i?Jt(t,(e=i-(e=n||e===ih?1:go(e)))<0?0:e,i):[]}function Fi(t,e){return t&&t.length?le(t,fn(e,3),!1,!0):[]}function Ri(t,e){return t&&t.length?le(t,fn(e,3)):[]}function Mi(t){return t&&t.length?oe(t):[]}function Pi(t,e){return t&&t.length?oe(t,fn(e,2)):[]}function Oi(t,e){return e="function"==typeof e?e:ih,t&&t.length?oe(t,ih,e):[]}function Ni(e){if(!e||!e.length)return[];var n=0;return e=mc(e,function(t){if(jr(t))return n=ja(t.length,n),!0}),Mc(n,function(t){return _c(e,Ic(t))})}function ji(t,e){if(!t||!t.length)return[];var n=Ni(t);return null==e?n:_c(n,function(t){return hc(e,ih,t)})}function Bi(t,e){return he(t||[],e||[],B)}function Hi(t,e){return he(t||[],e||[],Yt)}function zi(t){var e=m(t);return e.__chain__=!0,e}function Wi(t,e){return e(t),t}function Vi(t,e){return e(t)}function $i(){return zi(this)}function Ui(){return new v(this.value(),this.__chain__)}function Ki(){this.__values__===ih&&(this.__values__=fo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ih:this.__values__[this.__index__++]}}function Gi(){return this}function Qi(t){for(var e,n=this;n instanceof o;){var i=Gn(n);i.__index__=0,i.__values__=ih,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Yi(){var t=this.__wrapped__;if(t instanceof y){var e=t;return this.__actions__.length&&(e=new y(this)),(e=e.reverse()).__actions__.push({func:Vi,args:[bi],thisArg:ih}),new v(e,this.__chain__)}return this.thru(bi)}function Xi(){return ue(this.__wrapped__,this.__actions__)}function Ji(t,e,n){var i=hu(t)?gc:Z;return n&&kn(t,e,n)&&(e=ih),i(t,fn(e,3))}function Zi(t,e){return(hu(t)?mc:nt)(t,fn(e,3))}function tr(t,e){return it(sr(t,e),1)}function er(t,e){return it(sr(t,e),Fh)}function nr(t,e,n){return n=n===ih?1:go(n),it(sr(t,e),n)}function ir(t,e){return(hu(t)?fc:ll)(t,fn(e,3))}function rr(t,e){return(hu(t)?pc:ul)(t,fn(e,3))}function or(t,e,n,i){t=Nr(t)?t:Uo(t),n=n&&!i?go(n):0;var r=t.length;return n<0&&(n=ja(r+n,0)),ao(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<kc(t,e,n)}function sr(t,e){return(hu(t)?_c:At)(t,fn(e,3))}function ar(t,e,n,i){return null==t?[]:(hu(e)||(e=null==e?[]:[e]),hu(n=i?ih:n)||(n=null==n?[]:[n]),Nt(t,e,n))}function lr(t,e,n){var i=hu(t)?wc:Ac,r=arguments.length<3;return i(t,fn(e,4),n,r,ll)}function ur(t,e,n){var i=hu(t)?xc:Ac,r=arguments.length<3;return i(t,fn(e,4),n,r,ul)}function cr(t,e){return(hu(t)?mc:nt)(t,qr(fn(e,3)))}function hr(t){return(hu(t)?P:Gt)(t)}function dr(t,e,n){return e=(n?kn(t,e,n):e===ih)?1:go(e),(hu(t)?O:Qt)(t,e)}function fr(t){return(hu(t)?N:Xt)(t)}function pr(t){if(null==t)return 0;if(Nr(t))return ao(t)?th(t):t.length;var e=bl(t);return e==Yh||e==id?t.size:Dt(t).length}function gr(t,e,n){var i=hu(t)?Sc:Zt;return n&&kn(t,e,n)&&(e=ih),i(t,fn(e,3))}function mr(t,e){if("function"!=typeof e)throw new ra(ah);return t=go(t),function(){if(--t<1)return e.apply(this,arguments)}}function vr(t,e,n){return e=n?ih:e,e=t&&null==e?t.length:e,tn(t,Sh,ih,ih,ih,ih,e)}function yr(t,e){var n;if("function"!=typeof e)throw new ra(ah);return t=go(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=ih),n}}function _r(t,e,n){var i=tn(t,_h,ih,ih,ih,ih,ih,e=n?ih:e);return i.placeholder=_r.placeholder,i}function br(t,e,n){var i=tn(t,bh,ih,ih,ih,ih,ih,e=n?ih:e);return i.placeholder=br.placeholder,i}function wr(i,n,t){function r(t){var e=d,n=f;return d=f=ih,y=t,g=i.apply(n,e)}function o(t){return y=t,m=Sl(a,n),_?r(t):g}function e(t){var e=n-(t-v);return b?Ba(e,p-(t-y)):e}function s(t){var e=t-v;return v===ih||n<=e||e<0||b&&p<=t-y}function a(){var t=Jl();return s(t)?l(t):void(m=Sl(a,e(t)))}function l(t){return m=ih,w&&d?r(t):(d=f=ih,g)}function u(){m!==ih&&gl(m),y=0,d=v=f=m=ih}function c(){return m===ih?g:l(Jl())}function h(){var t=Jl(),e=s(t);if(d=arguments,f=this,v=t,e){if(m===ih)return o(v);if(b)return m=Sl(a,n),r(v)}return m===ih&&(m=Sl(a,n)),g}var d,f,p,g,m,v,y=0,_=!1,b=!1,w=!0;if("function"!=typeof i)throw new ra(ah);return n=vo(n)||0,Yr(t)&&(_=!!t.leading,p=(b="maxWait"in t)?ja(vo(t.maxWait)||0,n):p,w="trailing"in t?!!t.trailing:w),h.cancel=u,h.flush=c,h}function xr(t){return tn(t,Ch)}function Sr(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new ra(ah);var s=function s(){var t=arguments,e=o?o.apply(this,t):t[0],n=s.cache;if(n.has(e))return n.get(e);var i=r.apply(this,t);return s.cache=n.set(e,i)||n,i};return s.cache=new(Sr.Cache||b),s}function qr(e){if("function"!=typeof e)throw new ra(ah);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Cr(t){return yr(2,t)}function Er(t,e){if("function"!=typeof t)throw new ra(ah);return Kt(t,e=e===ih?e:go(e))}function kr(i,r){if("function"!=typeof i)throw new ra(ah);return r=null==r?0:ja(go(r),0),Kt(function(t){var e=t[r],n=ge(t,0,r);return e&&bc(n,e),hc(i,this,n)})}function Tr(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ra(ah);return Yr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),wr(t,e,{leading:i,maxWait:e,trailing:r})}function Dr(t){return vr(t,1)}function Lr(t,e){return ou(fe(e),t)}function Ir(t){if(!arguments.length)return[];var e=t;return hu(e)?e:[e]}function Ar(t){return G(t,fh)}function Fr(t,e){return G(t,fh,e="function"==typeof e?e:ih)}function Rr(t){return G(t,hh|fh)}function Mr(t,e){return G(t,hh|fh,e="function"==typeof e?e:ih)}function Pr(t,e){return null==e||Y(t,e,Fo(e))}function Or(t,e){return t===e||t!=t&&e!=e}function Nr(t){return null!=t&&Qr(t.length)&&!Kr(t)}function jr(t){return Xr(t)&&Nr(t)}function Br(t){return!0===t||!1===t||Xr(t)&&ut(t)==Vh}function Hr(t){return Xr(t)&&1===t.nodeType&&!oo(t)}function zr(t){if(null==t)return!0;if(Nr(t)&&(hu(t)||"string"==typeof t||"function"==typeof t.splice||fu(t)||yu(t)||cu(t)))return!t.length;var e=bl(t);if(e==Yh||e==id)return!t.size;if(An(t))return!Dt(t).length;for(var n in t)if(ca.call(t,n))return!1;return!0}function Wr(t,e){return bt(t,e)}function Vr(t,e,n){var i=(n="function"==typeof n?n:ih)?n(t,e):ih;return i===ih?bt(t,e,ih,n):!!i}function $r(t){if(!Xr(t))return!1;var e=ut(t);return e==Kh||e==Uh||"string"==typeof t.message&&"string"==typeof t.name&&!oo(t)}function Ur(t){return"number"==typeof t&&Pa(t)}function Kr(t){if(!Yr(t))return!1;var e=ut(t);return e==Gh||e==Qh||e==Wh||e==ed}function Gr(t){return"number"==typeof t&&t==go(t)}function Qr(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Rh}function Yr(t){var e=void 0===t?"undefined":wf(t);return null!=t&&("object"==e||"function"==e)}function Xr(t){return null!=t&&"object"==(void 0===t?"undefined":wf(t))}function Jr(t,e){return t===e||St(t,e,gn(e))}function Zr(t,e,n){return n="function"==typeof n?n:ih,St(t,e,gn(e),n)}function to(t){return ro(t)&&t!=+t}function eo(t){if(wl(t))throw new Js(sh);return qt(t)}function no(t){return null===t}function io(t){return null==t}function ro(t){return"number"==typeof t||Xr(t)&&ut(t)==Xh}function oo(t){if(!Xr(t)||ut(t)!=Zh)return!1;var e=wa(t);if(null===e)return!0;var n=ca.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ua.call(n)==pa}function so(t){return Gr(t)&&-Rh<=t&&t<=Rh}function ao(t){return"string"==typeof t||!hu(t)&&Xr(t)&&ut(t)==rd}function lo(t){return"symbol"==(void 0===t?"undefined":wf(t))||Xr(t)&&ut(t)==od}function uo(t){return t===ih}function co(t){return Xr(t)&&bl(t)==ad}function ho(t){return Xr(t)&&ut(t)==ld}function fo(t){if(!t)return[];if(Nr(t))return ao(t)?eh(t):Te(t);if(Ea&&t[Ea])return Kc(t[Ea]());var e=bl(t);return(e==Yh?Gc:e==id?Xc:Uo)(t)}function po(t){return t?(t=vo(t))===Fh||t===-Fh?(t<0?-1:1)*Mh:t==t?t:0:0===t?t:0}function go(t){var e=po(t),n=e%1;return e==e?n?e-n:e:0}function mo(t){return t?K(go(t),0,Oh):0}function vo(t){if("number"==typeof t)return t;if(lo(t))return Ph;if(Yr(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Yr(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pd,"");var n=Ud.test(t);return n||Gd.test(t)?af(t.slice(2),n?2:8):$d.test(t)?Ph:+t}function yo(t){return De(t,Ro(t))}function _o(t){return t?K(go(t),-Rh,Rh):0===t?t:0}function bo(t){return null==t?"":re(t)}function wo(t,e){var n=al(t);return null==e?n:W(n,e)}function xo(t,e){return Cc(t,fn(e,3),rt)}function So(t,e){return Cc(t,fn(e,3),ot)}function qo(t,e){return null==t?t:cl(t,fn(e,3),Ro)}function Co(t,e){return null==t?t:hl(t,fn(e,3),Ro)}function Eo(t,e){return t&&rt(t,fn(e,3))}function ko(t,e){return t&&ot(t,fn(e,3))}function To(t){return null==t?[]:st(t,Fo(t))}function Do(t){return null==t?[]:st(t,Ro(t))}function Lo(t,e,n){var i=null==t?ih:at(t,e);return i===ih?n:i}function Io(t,e){return null!=t&&bn(t,e,ht)}function Ao(t,e){return null!=t&&bn(t,e,dt)}function Fo(t){return Nr(t)?M(t):Dt(t)}function Ro(t){return Nr(t)?M(t,!0):Lt(t)}function Mo(t,i){var r={};return i=fn(i,3),rt(t,function(t,e,n){$(r,i(t,e,n),t)}),r}function Po(t,i){var r={};return i=fn(i,3),rt(t,function(t,e,n){$(r,e,i(t,e,n))}),r}function Oo(t,e){return No(t,qr(fn(e)))}function No(t,n){if(null==t)return{};var e=_c(cn(t),function(t){return[t]});return n=fn(n),Bt(t,e,function(t,e){return n(t,e[0])})}function jo(t,e,n){var i=-1,r=(e=pe(e,t)).length;for(r||(r=1,t=ih);++i<r;){var o=null==t?ih:t[$n(e[i])];o===ih&&(i=r,o=n),t=Kr(o)?o.call(t):o}return t}function Bo(t,e,n){return null==t?t:Yt(t,e,n)}function Ho(t,e,n,i){return i="function"==typeof i?i:ih,null==t?t:Yt(t,e,n,i)}function zo(t,i,r){var e=hu(t),n=e||fu(t)||yu(t);if(i=fn(i,4),null==r){var o=t&&t.constructor;r=n?e?new o:[]:Yr(t)&&Kr(o)?al(wa(t)):{}}return(n?fc:rt)(t,function(t,e,n){return i(r,t,e,n)}),r}function Wo(t,e){return null==t||se(t,e)}function Vo(t,e,n){return null==t?t:ae(t,e,fe(n))}function $o(t,e,n,i){return i="function"==typeof i?i:ih,null==t?t:ae(t,e,fe(n),i)}function Uo(t){return null==t?[]:Nc(t,Fo(t))}function Ko(t){return null==t?[]:Nc(t,Ro(t))}function Go(t,e,n){return n===ih&&(n=e,e=ih),n!==ih&&(n=(n=vo(n))==n?n:0),e!==ih&&(e=(e=vo(e))==e?e:0),K(vo(t),e,n)}function Qo(t,e,n){return e=po(e),n===ih?(n=e,e=0):n=po(n),ft(t=vo(t),e,n)}function Yo(t,e,n){if(n&&"boolean"!=typeof n&&kn(t,e,n)&&(e=n=ih),n===ih&&("boolean"==typeof e?(n=e,e=ih):"boolean"==typeof t&&(n=t,t=ih)),t===ih&&e===ih?(t=0,e=1):(t=po(t),e===ih?(e=t,t=0):e=po(e)),e<t){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Wa();return Ba(t+r*(e-t+sf("1e-"+((r+"").length-1))),e)}return Vt(t,e)}function Xo(t){return Vu(bo(t).toLowerCase())}function Jo(t){return(t=bo(t))&&t.replace(Yd,mf).replace(tf,"")}function Zo(t,e,n){t=bo(t),e=re(e);var i=t.length,r=n=n===ih?i:K(go(n),0,i);return 0<=(n-=e.length)&&t.slice(n,r)==e}function ts(t){return(t=bo(t))&&Ed.test(t)?t.replace(qd,vf):t}function es(t){return(t=bo(t))&&Md.test(t)?t.replace(Rd,"\\$&"):t}function ns(t,e,n){t=bo(t);var i=(e=go(e))?th(t):0;if(!e||e<=i)return t;var r=(e-i)/2;return Ke(Fa(r),n)+t+Ke(Aa(r),n)}function is(t,e,n){t=bo(t);var i=(e=go(e))?th(t):0;return e&&i<e?t+Ke(e-i,n):t}function rs(t,e,n){t=bo(t);var i=(e=go(e))?th(t):0;return e&&i<e?Ke(e-i,n)+t:t}function os(t,e,n){return n||null==e?e=0:e&&(e=+e),za(bo(t).replace(Od,""),e||0)}function ss(t,e,n){return e=(n?kn(t,e,n):e===ih)?1:go(e),Ut(bo(t),e)}function as(){var t=arguments,e=bo(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ls(t,e,n){return n&&"number"!=typeof n&&kn(t,e,n)&&(e=n=ih),(n=n===ih?Oh:n>>>0)?(t=bo(t))&&("string"==typeof e||null!=e&&!mu(e))&&(!(e=re(e))&&$c(t))?ge(eh(t),0,n):t.split(e,n):[]}function us(t,e,n){return t=bo(t),n=null==n?0:K(go(n),0,t.length),e=re(e),t.slice(n,n+e.length)==e}function cs(s,t,e){var n=m.templateSettings;e&&kn(s,t,e)&&(t=ih),s=bo(s),t=Su({},t,n,en);var a,l,i=Su({},t.imports,n.imports,en),r=Fo(i),o=Nc(i,r),u=0,c=t.interpolate||Xd,h="__p += '",d=na((t.escape||Xd).source+"|"+c.source+"|"+(c===Dd?Wd:Xd).source+"|"+(t.evaluate||Xd).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++nf+"]")+"\n";s.replace(d,function(t,e,n,i,r,o){return n||(n=i),h+=s.slice(u,o).replace(Jd,Wc),e&&(a=!0,h+="' +\n__e("+e+") +\n'"),r&&(l=!0,h+="';\n"+r+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+t.length,t}),h+="';\n";var p=t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(bd,""):h).replace(wd,"$1").replace(xd,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=$u(function(){return Zs(r,f+"return "+h).apply(ih,o)});if(g.source=h,$r(g))throw g;return g}function hs(t){return bo(t).toLowerCase()}function ds(t){return bo(t).toUpperCase()}function fs(t,e,n){if((t=bo(t))&&(n||e===ih))return t.replace(Pd,"");if(!t||!(e=re(e)))return t;var i=eh(t),r=eh(e);return ge(i,Bc(i,r),Hc(i,r)+1).join("")}function ps(t,e,n){if((t=bo(t))&&(n||e===ih))return t.replace(Nd,"");if(!t||!(e=re(e)))return t;var i=eh(t);return ge(i,0,Hc(i,eh(e))+1).join("")}function gs(t,e,n){if((t=bo(t))&&(n||e===ih))return t.replace(Od,"");if(!t||!(e=re(e)))return t;var i=eh(t);return ge(i,Bc(i,eh(e))).join("")}function ms(t,e){var n=Eh,i=kh;if(Yr(e)){var r="separator"in e?e.separator:r;n="length"in e?go(e.length):n,i="omission"in e?re(e.omission):i}var o=(t=bo(t)).length;if($c(t)){var s=eh(t);o=s.length}if(o<=n)return t;var a=n-th(i);if(a<1)return i;var l=s?ge(s,0,a).join(""):t.slice(0,a);if(r===ih)return l+i;if(s&&(a+=l.length-a),mu(r)){if(t.slice(a).search(r)){var u,c=l;for(r.global||(r=na(r.source,bo(Vd.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var h=u.index;l=l.slice(0,h===ih?a:h)}}else if(t.indexOf(re(r),a)!=a){var d=l.lastIndexOf(r);-1<d&&(l=l.slice(0,d))}return l+i}function vs(t){return(t=bo(t))&&Cd.test(t)?t.replace(Sd,yf):t}function ys(t,e,n){return t=bo(t),(e=n?ih:e)===ih?Uc(t)?nh(t):qc(t):t.match(e)||[]}function _s(i){var r=null==i?0:i.length,e=fn();return i=r?_c(i,function(t){if("function"!=typeof t[1])throw new ra(ah);return[e(t[0]),t[1]]}):[],Kt(function(t){for(var e=-1;++e<r;){var n=i[e];if(hc(n[0],this,t))return hc(n[1],this,t)}})}function bs(t){return Q(G(t,hh))}function ws(t){return function(){return t}}function xs(t,e){return null==t||t!=t?e:t}function Ss(t){return t}function qs(t){return Tt("function"==typeof t?t:G(t,hh))}function Cs(t){return Ft(G(t,hh))}function Es(t,e){return Rt(t,G(e,hh))}function ks(i,e,t){var n=Fo(e),r=st(e,n);null!=t||Yr(e)&&(r.length||!n.length)||(t=e,e=i,i=this,r=st(e,Fo(e)));var o=!(Yr(t)&&"chain"in t&&!t.chain),s=Kr(i);return fc(r,function(t){var n=e[t];i[t]=n,s&&(i.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=i(this.__wrapped__);return(e.__actions__=Te(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,bc([this.value()],arguments))})}),i}function Ts(){return lf._===this&&(lf._=ga),this}function Ds(){}function Ls(e){return e=go(e),Kt(function(t){return Ot(t,e)})}function Is(t){return Tn(t)?Ic($n(t)):Ht(t)}function As(e){return function(t){return null==e?ih:at(e,t)}}function Fs(){return[]}function Rs(){return!1}function Ms(){return{}}function Ps(){return""}function Os(){return!0}function Ns(t,e){if((t=go(t))<1||Rh<t)return[];var n=Oh,i=Ba(t,Oh);e=fn(e),t-=Oh;for(var r=Mc(i,e);++n<t;)e(n);return r}function js(t){return hu(t)?_c(t,$n):lo(t)?[t]:Te(Cl(bo(t)))}function Bs(t){var e=++ha;return bo(t)+e}function Hs(t){return t&&t.length?tt(t,Ss,ct):ih}function zs(t,e){return t&&t.length?tt(t,fn(e,2),ct):ih}function Ws(t){return Lc(t,Ss)}function Vs(t,e){return Lc(t,fn(e,2))}function $s(t){return t&&t.length?tt(t,Ss,It):ih}function Us(t,e){return t&&t.length?tt(t,fn(e,2),It):ih}function Ks(t){return t&&t.length?Rc(t,Ss):0}function Gs(t,e){return t&&t.length?Rc(t,fn(e,2)):0}var Qs,Ys=(t=null==t?lf:_f.defaults(lf.Object(),t,_f.pick(lf,ef))).Array,Xs=t.Date,Js=t.Error,Zs=t.Function,ta=t.Math,ea=t.Object,na=t.RegExp,ia=t.String,ra=t.TypeError,oa=Ys.prototype,sa=Zs.prototype,aa=ea.prototype,la=t["__core-js_shared__"],ua=sa.toString,ca=aa.hasOwnProperty,ha=0,da=(Qs=/[^.]+$/.exec(la&&la.keys&&la.keys.IE_PROTO||""))?"Symbol(src)_1."+Qs:"",fa=aa.toString,pa=ua.call(ea),ga=lf._,ma=na("^"+ua.call(ca).replace(Rd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),va=uf?t.Buffer:ih,ya=t.Symbol,_a=t.Uint8Array,ba=va?va.allocUnsafe:ih,wa=Qc(ea.getPrototypeOf,ea),xa=ea.create,Sa=aa.propertyIsEnumerable,qa=oa.splice,Ca=ya?ya.isConcatSpreadable:ih,Ea=ya?ya.iterator:ih,ka=ya?ya.toStringTag:ih,Ta=function(){try{var t=mn(ea,"defineProperty");return t({},"",{}),t}catch(t){}}(),Da=t.clearTimeout!==lf.clearTimeout&&t.clearTimeout,La=Xs&&Xs.now!==lf.Date.now&&Xs.now,Ia=t.setTimeout!==lf.setTimeout&&t.setTimeout,Aa=ta.ceil,Fa=ta.floor,Ra=ea.getOwnPropertySymbols,Ma=va?va.isBuffer:ih,Pa=t.isFinite,Oa=oa.join,Na=Qc(ea.keys,ea),ja=ta.max,Ba=ta.min,Ha=Xs.now,za=t.parseInt,Wa=ta.random,Va=oa.reverse,$a=mn(t,"DataView"),Ua=mn(t,"Map"),Ka=mn(t,"Promise"),Ga=mn(t,"Set"),Qa=mn(t,"WeakMap"),Ya=mn(ea,"create"),Xa=Qa&&new Qa,Ja={},Za=Un($a),tl=Un(Ua),el=Un(Ka),nl=Un(Ga),il=Un(Qa),rl=ya?ya.prototype:ih,ol=rl?rl.valueOf:ih,sl=rl?rl.toString:ih,al=function(){function n(){}return function(t){if(!Yr(t))return{};if(xa)return xa(t);n.prototype=t;var e=new n;return n.prototype=ih,e}}();m.templateSettings={escape:kd,evaluate:Td,interpolate:Dd,variable:"",imports:{_:m}},m.prototype=o.prototype,m.prototype.constructor=m,v.prototype=al(o.prototype),v.prototype.constructor=v,y.prototype=al(o.prototype),y.prototype.constructor=y,r.prototype.clear=s,r.prototype["delete"]=a,r.prototype.get=l,r.prototype.has=u,r.prototype.set=c,h.prototype.clear=d,h.prototype["delete"]=f,h.prototype.get=p,h.prototype.has=g,h.prototype.set=_,b.prototype.clear=w,b.prototype["delete"]=x,b.prototype.get=S,b.prototype.has=q,b.prototype.set=C,E.prototype.add=E.prototype.push=k,E.prototype.has=T,D.prototype.clear=L,D.prototype["delete"]=I,D.prototype.get=A,D.prototype.has=F,D.prototype.set=R;var ll=Re(rt),ul=Re(ot,!0),cl=Me(),hl=Me(!0),dl=Xa?function(t,e){return Xa.set(t,e),t}:Ss,fl=Ta?function(t,e){return Ta(t,"toString",{configurable:!0,enumerable:!1,value:ws(e),writable:!0})}:Ss,pl=Kt,gl=Da||function(t){return lf.clearTimeout(t)},ml=Ga&&1/Xc(new Ga([,-0]))[1]==Fh?function(t){return new Ga(t)}:Ds,vl=Xa?function(t){return Xa.get(t)}:Ds,yl=Ra?function(e){return null==e?[]:(e=ea(e),mc(Ra(e),function(t){return Sa.call(e,t)}))}:Fs,_l=Ra?function(t){for(var e=[];t;)bc(e,yl(t)),t=wa(t);return e}:Fs,bl=ut;($a&&bl(new $a(new ArrayBuffer(1)))!=cd||Ua&&bl(new Ua)!=Yh||Ka&&bl(Ka.resolve())!=td||Ga&&bl(new Ga)!=id||Qa&&bl(new Qa)!=ad)&&(bl=function(t){var e=ut(t),n=e==Zh?t.constructor:ih,i=n?Un(n):"";if(i)switch(i){case Za:return cd;case tl:return Yh;case el:return td;case nl:return id;case il:return ad}return e});var wl=la?Kr:Rs,xl=Wn(dl),Sl=Ia||function(t,e){return lf.setTimeout(t,e)},ql=Wn(fl),Cl=Mn(function(t){var r=[];return Ad.test(t)&&r.push(""),t.replace(Fd,function(t,e,n,i){r.push(n?i.replace(zd,"$1"):e||t)}),r}),El=Kt(function(t,e){return jr(t)?J(t,it(e,1,jr,!0)):[]}),kl=Kt(function(t,e){var n=fi(e);return jr(n)&&(n=ih),jr(t)?J(t,it(e,1,jr,!0),fn(n,2)):[]}),Tl=Kt(function(t,e){var n=fi(e);return jr(n)&&(n=ih),jr(t)?J(t,it(e,1,jr,!0),ih,n):[]}),Dl=Kt(function(t){var e=_c(t,de);return e.length&&e[0]===t[0]?pt(e):[]}),Ll=Kt(function(t){var e=fi(t),n=_c(t,de);return e===fi(n)?e=ih:n.pop(),n.length&&n[0]===t[0]?pt(n,fn(e,2)):[]}),Il=Kt(function(t){var e=fi(t),n=_c(t,de);return(e="function"==typeof e?e:ih)&&n.pop(),n.length&&n[0]===t[0]?pt(n,ih,e):[]}),Al=Kt(mi),Fl=ln(function(t,e){var n=null==t?0:t.length,i=U(t,e);return Wt(t,_c(e,function(t){return En(t,n)?+t:t}).sort(qe)),i}),Rl=Kt(function(t){return oe(it(t,1,jr,!0))}),Ml=Kt(function(t){var e=fi(t);return jr(e)&&(e=ih),oe(it(t,1,jr,!0),fn(e,2))}),Pl=Kt(function(t){var e=fi(t);return e="function"==typeof e?e:ih,oe(it(t,1,jr,!0),ih,e)}),Ol=Kt(function(t,e){return jr(t)?J(t,e):[]}),Nl=Kt(function(t){return ce(mc(t,jr))}),jl=Kt(function(t){var e=fi(t);return jr(e)&&(e=ih),ce(mc(t,jr),fn(e,2))}),Bl=Kt(function(t){var e=fi(t);return e="function"==typeof e?e:ih,ce(mc(t,jr),ih,e)}),Hl=Kt(Ni),zl=Kt(function(t){var e=t.length,n=1<e?t[e-1]:ih;return ji(t,n="function"==typeof n?(t.pop(),n):ih)}),Wl=ln(function(e){var n=e.length,t=n?e[0]:0,i=this.__wrapped__,r=function(t){return U(t,e)};return!(1<n||this.__actions__.length)&&i instanceof y&&En(t)?((i=i.slice(t,+t+(n?1:0))).__actions__.push({func:Vi,args:[r],thisArg:ih}),new v(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(ih),t})):this.thru(r)}),Vl=Ae(function(t,e,n){ca.call(t,n)?++t[n]:$(t,n,1)}),$l=He(ii),Ul=He(ri),Kl=Ae(function(t,e,n){ca.call(t,n)?t[n].push(e):$(t,n,[e])}),Gl=Kt(function(t,e,n){var i=-1,r="function"==typeof e,o=Nr(t)?Ys(t.length):[];return ll(t,function(t){o[++i]=r?hc(e,t,n):mt(t,e,n)}),o}),Ql=Ae(function(t,e,n){$(t,n,e)}),Yl=Ae(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Xl=Kt(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&kn(t,e[0],e[1])?e=[]:2<n&&kn(e[0],e[1],e[2])&&(e=[e[0]]),Nt(t,it(e,1),[])}),Jl=La||function(){return lf.Date.now()},Zl=Kt(function(t,e,n){var i=mh;if(n.length){var r=Yc(n,dn(Zl));i|=wh}return tn(t,i,e,n,r)}),tu=Kt(function(t,e,n){var i=mh|vh;if(n.length){var r=Yc(n,dn(tu));i|=wh}return tn(e,i,t,n,r)}),eu=Kt(function(t,e){return X(t,1,e)}),nu=Kt(function(t,e,n){return X(t,vo(e)||0,n)});Sr.Cache=b;var iu,ru=pl(function(i,r){var o=(r=1==r.length&&hu(r[0])?_c(r[0],Oc(fn())):_c(it(r,1),Oc(fn()))).length;return Kt(function(t){for(var e=-1,n=Ba(t.length,o);++e<n;)t[e]=r[e].call(this,t[e]);return hc(i,this,t)})}),ou=Kt(function(t,e){return tn(t,wh,ih,e,Yc(e,dn(ou)))}),su=Kt(function(t,e){return tn(t,xh,ih,e,Yc(e,dn(su)))}),au=ln(function(t,e){return tn(t,qh,ih,ih,ih,e)}),lu=Ye(ct),uu=Ye(function(t,e){return e<=t}),cu=vt(function(){return arguments}())?vt:function(t){return Xr(t)&&ca.call(t,"callee")&&!Sa.call(t,"callee")},hu=Ys.isArray,du=cf?Oc(cf):yt,fu=Ma||Rs,pu=hf?Oc(hf):_t,gu=df?Oc(df):xt,mu=ff?Oc(ff):Ct,vu=pf?Oc(pf):Et,yu=gf?Oc(gf):kt,_u=Ye(It),bu=Ye(function(t,e){return t<=e}),wu=Fe(function(t,e){if(An(e)||Nr(e))De(e,Fo(e),t);else for(var n in e)ca.call(e,n)&&B(t,n,e[n])}),xu=Fe(function(t,e){De(e,Ro(e),t)}),Su=Fe(function(t,e,n,i){De(e,Ro(e),t,i)}),qu=Fe(function(t,e,n,i){De(e,Fo(e),t,i)}),Cu=ln(U),Eu=Kt(function(t){return t.push(ih,en),hc(Su,ih,t)}),ku=Kt(function(t){return t.push(ih,nn),hc(Au,ih,t)}),Tu=Ve(function(t,e,n){t[e]=n},ws(Ss)),Du=Ve(function(t,e,n){ca.call(t,e)?t[e].push(n):t[e]=[n]},fn),Lu=Kt(mt),Iu=Fe(function(t,e,n){Mt(t,e,n)}),Au=Fe(function(t,e,n,i){Mt(t,e,n,i)}),Fu=ln(function(e,t){var n={};if(null==e)return n;var i=!1;t=_c(t,function(t){return t=pe(t,e),i||(i=1<t.length),t}),De(e,cn(e),n),i&&(n=G(n,hh|dh|fh,rn));for(var r=t.length;r--;)se(n,t[r]);return n}),Ru=ln(function(t,e){return null==t?{}:jt(t,e)}),Mu=Ze(Fo),Pu=Ze(Ro),Ou=Ne(function(t,e,n){return e=e.toLowerCase(),t+(n?Xo(e):e)}),Nu=Ne(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ju=Ne(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Bu=Oe("toLowerCase"),Hu=Ne(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),zu=Ne(function(t,e,n){return t+(n?" ":"")+Vu(e)}),Wu=Ne(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Vu=Oe("toUpperCase"),$u=Kt(function(t,e){try{return hc(t,ih,e)}catch(t){return $r(t)?t:new Js(t)}}),Uu=ln(function(e,t){return fc(t,function(t){t=$n(t),$(e,t,Zl(e[t],e))}),e}),Ku=ze(),Gu=ze(!0),Qu=Kt(function(e,n){return function(t){return mt(t,e,n)}}),Yu=Kt(function(e,n){return function(t){return mt(e,t,n)}}),Xu=Ue(_c),Ju=Ue(gc),Zu=Ue(Sc),tc=Qe(),ec=Qe(!0),nc=$e(function(t,e){return t+e},0),ic=Je("ceil"),rc=$e(function(t,e){return t/e},1),oc=Je("floor"),sc=$e(function(t,e){return t*e},1),ac=Je("round"),lc=$e(function(t,e){return t-e},0);return m.after=mr,m.ary=vr,m.assign=wu,m.assignIn=xu,m.assignInWith=Su,m.assignWith=qu,m.at=Cu,m.before=yr,m.bind=Zl,m.bindAll=Uu,m.bindKey=tu,m.castArray=Ir,m.chain=zi,m.chunk=Qn,m.compact=Yn,m.concat=Xn,m.cond=_s,m.conforms=bs,m.constant=ws,m.countBy=Vl,m.create=wo,m.curry=_r,m.curryRight=br,m.debounce=wr,m.defaults=Eu,m.defaultsDeep=ku,m.defer=eu,m.delay=nu,m.difference=El,m.differenceBy=kl,m.differenceWith=Tl,m.drop=Jn,m.dropRight=Zn,m.dropRightWhile=ti,m.dropWhile=ei,m.fill=ni,m.filter=Zi,m.flatMap=tr,m.flatMapDeep=er,m.flatMapDepth=nr,m.flatten=oi,m.flattenDeep=si,m.flattenDepth=ai,m.flip=xr,m.flow=Ku,m.flowRight=Gu,m.fromPairs=li,m.functions=To,m.functionsIn=Do,m.groupBy=Kl,m.initial=hi,m.intersection=Dl,m.intersectionBy=Ll,
m.intersectionWith=Il,m.invert=Tu,m.invertBy=Du,m.invokeMap=Gl,m.iteratee=qs,m.keyBy=Ql,m.keys=Fo,m.keysIn=Ro,m.map=sr,m.mapKeys=Mo,m.mapValues=Po,m.matches=Cs,m.matchesProperty=Es,m.memoize=Sr,m.merge=Iu,m.mergeWith=Au,m.method=Qu,m.methodOf=Yu,m.mixin=ks,m.negate=qr,m.nthArg=Ls,m.omit=Fu,m.omitBy=Oo,m.once=Cr,m.orderBy=ar,m.over=Xu,m.overArgs=ru,m.overEvery=Ju,m.overSome=Zu,m.partial=ou,m.partialRight=su,m.partition=Yl,m.pick=Ru,m.pickBy=No,m.property=Is,m.propertyOf=As,m.pull=Al,m.pullAll=mi,m.pullAllBy=vi,m.pullAllWith=yi,m.pullAt=Fl,m.range=tc,m.rangeRight=ec,m.rearg=au,m.reject=cr,m.remove=_i,m.rest=Er,m.reverse=bi,m.sampleSize=dr,m.set=Bo,m.setWith=Ho,m.shuffle=fr,m.slice=wi,m.sortBy=Xl,m.sortedUniq=Ti,m.sortedUniqBy=Di,m.split=ls,m.spread=kr,m.tail=Li,m.take=Ii,m.takeRight=Ai,m.takeRightWhile=Fi,m.takeWhile=Ri,m.tap=Wi,m.throttle=Tr,m.thru=Vi,m.toArray=fo,m.toPairs=Mu,m.toPairsIn=Pu,m.toPath=js,m.toPlainObject=yo,m.transform=zo,m.unary=Dr,m.union=Rl,m.unionBy=Ml,m.unionWith=Pl,m.uniq=Mi,m.uniqBy=Pi,m.uniqWith=Oi,m.unset=Wo,m.unzip=Ni,m.unzipWith=ji,m.update=Vo,m.updateWith=$o,m.values=Uo,m.valuesIn=Ko,m.without=Ol,m.words=ys,m.wrap=Lr,m.xor=Nl,m.xorBy=jl,m.xorWith=Bl,m.zip=Hl,m.zipObject=Bi,m.zipObjectDeep=Hi,m.zipWith=zl,m.entries=Mu,m.entriesIn=Pu,m.extend=xu,m.extendWith=Su,ks(m,m),m.add=nc,m.attempt=$u,m.camelCase=Ou,m.capitalize=Xo,m.ceil=ic,m.clamp=Go,m.clone=Ar,m.cloneDeep=Rr,m.cloneDeepWith=Mr,m.cloneWith=Fr,m.conformsTo=Pr,m.deburr=Jo,m.defaultTo=xs,m.divide=rc,m.endsWith=Zo,m.eq=Or,m.escape=ts,m.escapeRegExp=es,m.every=Ji,m.find=$l,m.findIndex=ii,m.findKey=xo,m.findLast=Ul,m.findLastIndex=ri,m.findLastKey=So,m.floor=oc,m.forEach=ir,m.forEachRight=rr,m.forIn=qo,m.forInRight=Co,m.forOwn=Eo,m.forOwnRight=ko,m.get=Lo,m.gt=lu,m.gte=uu,m.has=Io,m.hasIn=Ao,m.head=ui,m.identity=Ss,m.includes=or,m.indexOf=ci,m.inRange=Qo,m.invoke=Lu,m.isArguments=cu,m.isArray=hu,m.isArrayBuffer=du,m.isArrayLike=Nr,m.isArrayLikeObject=jr,m.isBoolean=Br,m.isBuffer=fu,m.isDate=pu,m.isElement=Hr,m.isEmpty=zr,m.isEqual=Wr,m.isEqualWith=Vr,m.isError=$r,m.isFinite=Ur,m.isFunction=Kr,m.isInteger=Gr,m.isLength=Qr,m.isMap=gu,m.isMatch=Jr,m.isMatchWith=Zr,m.isNaN=to,m.isNative=eo,m.isNil=io,m.isNull=no,m.isNumber=ro,m.isObject=Yr,m.isObjectLike=Xr,m.isPlainObject=oo,m.isRegExp=mu,m.isSafeInteger=so,m.isSet=vu,m.isString=ao,m.isSymbol=lo,m.isTypedArray=yu,m.isUndefined=uo,m.isWeakMap=co,m.isWeakSet=ho,m.join=di,m.kebabCase=Nu,m.last=fi,m.lastIndexOf=pi,m.lowerCase=ju,m.lowerFirst=Bu,m.lt=_u,m.lte=bu,m.max=Hs,m.maxBy=zs,m.mean=Ws,m.meanBy=Vs,m.min=$s,m.minBy=Us,m.stubArray=Fs,m.stubFalse=Rs,m.stubObject=Ms,m.stubString=Ps,m.stubTrue=Os,m.multiply=sc,m.nth=gi,m.noConflict=Ts,m.noop=Ds,m.now=Jl,m.pad=ns,m.padEnd=is,m.padStart=rs,m.parseInt=os,m.random=Yo,m.reduce=lr,m.reduceRight=ur,m.repeat=ss,m.replace=as,m.result=jo,m.round=ac,m.runInContext=bf,m.sample=hr,m.size=pr,m.snakeCase=Hu,m.some=gr,m.sortedIndex=xi,m.sortedIndexBy=Si,m.sortedIndexOf=qi,m.sortedLastIndex=Ci,m.sortedLastIndexBy=Ei,m.sortedLastIndexOf=ki,m.startCase=zu,m.startsWith=us,m.subtract=lc,m.sum=Ks,m.sumBy=Gs,m.template=cs,m.times=Ns,m.toFinite=po,m.toInteger=go,m.toLength=mo,m.toLower=hs,m.toNumber=vo,m.toSafeInteger=_o,m.toString=bo,m.toUpper=ds,m.trim=fs,m.trimEnd=ps,m.trimStart=gs,m.truncate=ms,m.unescape=vs,m.uniqueId=Bs,m.upperCase=Wu,m.upperFirst=Vu,m.each=ir,m.eachRight=rr,m.first=ui,ks(m,(iu={},rt(m,function(t,e){ca.call(m.prototype,e)||(iu[e]=t)}),iu),{chain:!1}),m.VERSION=rh,fc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){m[t].placeholder=m}),fc(["drop","take"],function(n,i){y.prototype[n]=function(t){t=t===ih?1:ja(go(t),0);var e=this.__filtered__&&!i?new y(this):this.clone();return e.__filtered__?e.__takeCount__=Ba(t,e.__takeCount__):e.__views__.push({size:Ba(t,Oh),type:n+(e.__dir__<0?"Right":"")}),e},y.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),fc(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Lh||n==Ah;y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),fc(["head","last"],function(t,e){var n="take"+(e?"Right":"");y.prototype[t]=function(){return this[n](1).value()[0]}}),fc(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");y.prototype[t]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(Ss)},y.prototype.find=function(t){return this.filter(t).head()},y.prototype.findLast=function(t){return this.reverse().find(t)},y.prototype.invokeMap=Kt(function(e,n){return"function"==typeof e?new y(this):this.map(function(t){return mt(t,e,n)})}),y.prototype.reject=function(t){return this.filter(qr(fn(t)))},y.prototype.slice=function(t,e){t=go(t);var n=this;return n.__filtered__&&(0<t||e<0)?new y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ih&&(n=(e=go(e))<0?n.dropRight(-e):n.take(e-t)),n)},y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},y.prototype.toArray=function(){return this.take(Oh)},rt(y.prototype,function(h,t){var d=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),p=m[f?"take"+("last"==t?"Right":""):t],g=f||/^find/.test(t);p&&(m.prototype[t]=function(){var t=this.__wrapped__,n=f?[1]:arguments,e=t instanceof y,i=n[0],r=e||hu(t),o=function(t){var e=p.apply(m,bc([t],n));return f&&s?e[0]:e};r&&d&&"function"==typeof i&&1!=i.length&&(e=r=!1);var s=this.__chain__,a=!!this.__actions__.length,l=g&&!s,u=e&&!a;if(g||!r)return l&&u?h.apply(this,n):(c=this.thru(o),l?f?c.value()[0]:c.value():c);t=u?t:new y(this);var c=h.apply(t,n);return c.__actions__.push({func:Vi,args:[o],thisArg:ih}),new v(c,s)})}),fc(["pop","push","shift","sort","splice","unshift"],function(t){var n=oa[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);m.prototype[t]=function(){var e=arguments;if(!r||this.__chain__)return this[i](function(t){return n.apply(hu(t)?t:[],e)});var t=this.value();return n.apply(hu(t)?t:[],e)}}),rt(y.prototype,function(t,e){var n=m[e];if(n){var i=n.name+"";(Ja[i]||(Ja[i]=[])).push({name:e,func:n})}}),Ja[We(ih,vh).name]=[{name:"wrapper",func:ih}],y.prototype.clone=e,y.prototype.reverse=n,y.prototype.value=i,m.prototype.at=Wl,m.prototype.chain=$i,m.prototype.commit=Ui,m.prototype.next=Ki,m.prototype.plant=Qi,m.prototype.reverse=Yi,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=Xi,m.prototype.first=m.prototype.head,Ea&&(m.prototype[Ea]=Gi),m}();"object"==wf(nt(53))&&nt(53)?(lf._=_f,(it=function(){return _f}.call(et,nt,et,tt))===ih||(tt.exports=it)):Q?((Q.exports=_f)._=_f,G._=_f):lf._=_f}).call(void 0)}).call(et,function(){return this}(),nt(20)(t))},function(t,e,n){"use strict";function u(t){var e=t.parentNode,n=t.nextSibling;return e.removeChild(t),function(){n?e.insertBefore(t,n):e.appendChild(t)}}var c=n(54),i=n(2),h=function(t){for(var e;e=t.lastChild;)t.removeChild(e)};t.exports=i.extend({renderSubviews:function(){var t=this.el,e=null!=t.parentNode;if(e)var n=u(t);h(t);for(var i,r,o=document.createDocumentFragment(),s=this._views(),a=c.sortBy(s,function(t){return t.ordering}),l=0;l<a.length;l++)(i=a[l]).render(),null!=(r=i.el)&&o.appendChild(r);return t.appendChild(o),e&&n(),t},addView:function(t,e){var n=this._views();if(null==e)throw"Invalid plugin. ";return null==e.ordering&&(e.ordering=t),n[t]=e},removeViews:function(){var t,e,n=this._views();for(e in n)(t=n[e]).undelegateEvents(),t.unbind(),null!=t.removeViews&&t.removeViews(),t.remove();return this.views={}},removeView:function(t){var e=this._views();return e[t].remove(),delete e[t]},getView:function(t){return this._views()[t]},remove:function(){return this.removeViews(),i.prototype.remove.apply(this)},_views:function(){return null==this.views&&(this.views={}),this.views}})},function(t,_,b){var w;(function(v){"use strict";var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s){function i(t){var e=t.length,n=void 0===t?"undefined":y(t);return!g(n)&&t!==s&&(!(1!==t.nodeType||!e)||o(n)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function f(t,e){var n,i;for(n in i=function(t,e){"preventDefault"===t?this[t]=function(){return this.defaultPrevented=!0,e[t]()}:"stopImmediatePropagation"===t?this[t]=function(){return this.immediatePropagationStopped=!0,e[t]()}:g(e[t])?this[t]=function(){return e[t]()}:this[t]=e[t]},this.originalEvent=t)(t[n]||"function"==typeof t[n])&&i.call(this,n,t);m.extend(this,e,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}var n,t=s.$,e=s.jBone,a=/^<(\w+)\s*\/?>$/,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=[].slice,r=[].splice,h=Object.keys,c=s.document,d=function(t){return"string"==typeof t},p=function(t){return t instanceof Object},g=function(t){return"[object Function]"==={}.toString.call(t)},o=function(t){return Array.isArray(t)},m=function(t,e){return new n.init(t,e)};m.noConflict=function(){return s.$=t,s.jBone=e,m},(n=m.fn=m.prototype={init:function(t,e){var n,i,r,o;if(!t)return this;if(d(t)){if(i=a.exec(t))return this[0]=c.createElement(i[1]),this.length=1,p(e)&&this.attr(e),this;if((i=l.exec(t))&&i[1]){for(o=c.createDocumentFragment(),(r=c.createElement("div")).innerHTML=t;r.lastChild;)o.appendChild(r.firstChild);return n=u.call(o.childNodes),m.merge(this,n)}if(m.isElement(e))return m(e).find(t);try{return n=c.querySelectorAll(t),m.merge(this,n)}catch(t){return this}}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?t():t instanceof m?t:m.makeArray(t,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0}).constructor=m,n.init.prototype=n,m.setId=function(t){var e=t.jid;t===s?e="window":void 0===t.jid&&(t.jid=e=++m._cache.jid),m._cache.events[e]||(m._cache.events[e]={})},m.getData=function(t){var e=(t=t instanceof m?t[0]:t)===s?"window":t.jid;return{jid:e,events:m._cache.events[e]}},m.isElement=function(t){return t&&t instanceof m||t instanceof HTMLElement||d(t)},m._cache={events:{},jid:0},n.pushStack=function(t){return m.merge(this.constructor(),t)},m.merge=function(t,e){for(var n=e.length,i=t.length,r=0;r<n;)t[i++]=e[r++];return t.length=i,t},m.contains=function(t,e){return t.contains(e)},m.extend=function(n){var i;return r.call(arguments,1).forEach(function(t){if(i=n,t)for(var e in t)i[e]=t[e]}),n},m.makeArray=function(t,e){var n=e||[];return null!==t&&(i(t)?m.merge(n,d(t)?[t]:t):n.push(t)),n},m.unique=function(t){if(null==t)return[];for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}return e},m.Event=function(t,e){var n,i;return t.type&&!e&&(t=(e=t).type),n=t.split(".").splice(1).join("."),i=t.split(".")[0],(t=c.createEvent("Event")).initEvent(i,!0,!0),m.extend(t,{namespace:n,isDefaultPrevented:function(){return t.defaultPrevented}},e)},m.event={add:function(e,t,n,i,r){m.setId(e);var o,s,a,l=function(t){m.event.dispatch.call(e,t)},u=m.getData(e).events;for(s=(t=t.split(" ")).length;s--;)u[o=(a=t[s]).split(".")[0]]=u[o]||[],u[o].length?l=u[o][0].fn:e.addEventListener&&e.addEventListener(o,l,!1),u[o].push({namespace:a.split(".").splice(1).join("."),fn:l,selector:r,data:i,originfn:n})},remove:function(r,t,s,o){var a,l,u=function(t,e,n,i,r){var o;(s&&r.originfn===s||!s)&&(o=r.fn),t[e][n].fn===o&&(t[e].splice(n,1),t[e].length||i.removeEventListener(e,o))},c=m.getData(r).events;if(c)return!t&&c?h(c).forEach(function(t){for(l=c[t],a=l.length;a--;)u(c,t,a,r,l[a])}):void t.split(" ").forEach(function(t){var e,n=t.split(".")[0],i=t.split(".").splice(1).join(".");if(c[n])for(l=c[n],a=l.length;a--;)e=l[a],(!i||i&&e.namespace===i)&&(!o||o&&e.selector===o)&&u(c,n,a,r,e);else i&&h(c).forEach(function(t){for(l=c[t],a=l.length;a--;)(e=l[a]).namespace.split(".")[0]===i.split(".")[0]&&u(c,t,a,r,e)})})},trigger:function(e,t){var n=[];d(t)?n=t.split(" ").map(function(t){return m.Event(t)}):n=[t=t instanceof Event?t:m.Event(t)],n.forEach(function(t){t.type&&e.dispatchEvent&&e.dispatchEvent(t)})},dispatch:function(t){for(var e,n,i,r,o,s=0,a=0,l=this,u=m.getData(l).events[t.type],c=u.length,h=[],d=[];s<c;s++)h.push(u[s]);for(s=0,c=h.length;s<c&&~u.indexOf(h[s])&&(!r||!r.isImmediatePropagationStopped());s++)if(n=null,o={},(i=h[s]).data&&(o.data=i.data),i.selector){if(~(d=m(l).find(i.selector)).indexOf(t.target)&&(n=t.target)||l!==t.target&&l.contains(t.target)){if(!n)for(e=d.length,a=0;a<e;a++)d[a]&&d[a].contains(t.target)&&(n=d[a]);if(!n)continue;o.currentTarget=n,r=new f(t,o),t.namespace&&t.namespace!==i.namespace||i.originfn.call(n,r)}}else r=new f(t,o),t.namespace&&t.namespace!==i.namespace||i.originfn.call(l,r)}},n.on=function(t,e,n,i){var r=this.length,o=0;if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!i)return this;for(;o<r;o++)m.event.add(this[o],t,i,n,e);return this},n.one=function(t){var e,n=arguments,i=0,r=this.length,o=u.call(n,1,n.length-1),s=u.call(n,-1)[0];for(e=function(i){var r=m(i);t.split(" ").forEach(function(e){var n=function n(t){r.off(e,n),s.call(i,t)};r.on.apply(r,[e].concat(o,n))})};i<r;i++)e(this[i]);return this},n.trigger=function(t){var e=0,n=this.length;if(!t)return this;for(;e<n;e++)m.event.trigger(this[e],t);return this},n.off=function(t,e,n){var i=0,r=this.length;for(g(e)&&(n=e,e=void 0);i<r;i++)m.event.remove(this[i],t,n,e);return this},n.find=function(e){for(var n=[],t=0,i=this.length,r=function(t){g(t.querySelectorAll)&&[].forEach.call(t.querySelectorAll(e),function(t){n.push(t)})};t<i;t++)r(this[t]);return m(n)},n.get=function(t){return null!=t?t<0?this[t+this.length]:this[t]:u.call(this)},n.eq=function(t){return m(this[t])},n.parent=function(){for(var t,e=[],n=0,i=this.length;n<i;n++)!~e.indexOf(t=this[n].parentElement)&&t&&e.push(t);return m(e)},n.toArray=function(){return u.call(this)},n.is=function(){var e=arguments;return this.some(function(t){return t.tagName.toLowerCase()===e[0]})},n.has=function(){var e=arguments;return this.some(function(t){return t.querySelectorAll(e[0]).length})},n.add=function(t,e){return this.pushStack(m.unique(m.merge(this.get(),m(t,e))))},n.attr=function(n,e){var t,i=arguments,r=0,o=this.length;if(d(n)&&1===i.length)return this[0]&&this[0].getAttribute(n);for(2===i.length?t=function(t){t.setAttribute(n,e)}:p(n)&&(t=function(e){h(n).forEach(function(t){e.setAttribute(t,n[t])})});r<o;r++)t(this[r]);return this},n.removeAttr=function(t){for(var e=0,n=this.length;e<n;e++)this[e].removeAttribute(t);return this},n.val=function(t){var e=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;e<n;e++)this[e].value=t;return this},n.css=function(n,e){var t,i=arguments,r=0,o=this.length;if(d(n)&&1===i.length)return this[0]&&s.getComputedStyle(this[0])[n];for(2===i.length?t=function(t){t.style[n]=e}:p(n)&&(t=function(e){h(n).forEach(function(t){e.style[t]=n[t]})});r<o;r++)t(this[r]);return this},n.data=function(n,e){var t,i=arguments,r={},o=0,s=this.length,a=function(t,e,n){p(n)?(t.jdata=t.jdata||{},t.jdata[e]=n):t.dataset[e]=n},l=function(t){return"true"===t||"false"!==t&&t};if(0===i.length)return this[0].jdata&&(r=this[0].jdata),h(this[0].dataset).forEach(function(t){r[t]=l(this[0].dataset[t])},this),r;if(1===i.length&&d(n))return this[0]&&l(this[0].dataset[n]||this[0].jdata&&this[0].jdata[n]);for(1===i.length&&p(n)?t=function(e){h(n).forEach(function(t){a(e,t,n[t])})}:2===i.length&&(t=function(t){a(t,n,e)});o<s;o++)t(this[o]);return this},n.removeData=function(t){for(var e,n,i=0,r=this.length;i<r;i++)if(e=this[i].jdata,n=this[i].dataset,t)e&&e[t]&&delete e[t],delete n[t];else{for(t in e)delete e[t];for(t in n)delete n[t]}return this},n.addClass=function(t){for(var e=0,n=0,i=this.length,r=t?t.trim().split(/\s+/):[];e<i;e++)for(n=n=0;n<r.length;n++)this[e].classList.add(r[n]);return this},n.removeClass=function(t){for(var e=0,n=0,i=this.length,r=t?t.trim().split(/\s+/):[];e<i;e++)for(n=n=0;n<r.length;n++)this[e].classList.remove(r[n]);return this},n.toggleClass=function(t,e){var n=0,i=this.length,r="toggle";if(!0===e&&(r="add")||!1===e&&(r="remove"),t)for(;n<i;n++)this[n].classList[r](t);return this},n.hasClass=function(t){var e=0,n=this.length;if(t)for(;e<n;e++)if(this[e].classList.contains(t))return!0;return!1},n.html=function(t){var e,n=arguments;return 1===n.length&&void 0!==t?this.empty().append(t):0===n.length&&(e=this[0])?e.innerHTML:this},n.append=function(t){var e,n=0,i=this.length;for(d(t)&&l.exec(t)?t=m(t):p(t)||(t=document.createTextNode(t)),t=t instanceof m?t:m(t),e=function(e,n){t.forEach(function(t){n?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})};n<i;n++)e(this[n],n);return this},n.appendTo=function(t){return m(t).append(this),this},n.empty=function(){for(var t,e=0,n=this.length;e<n;e++)for(t=this[e];t.lastChild;)t.removeChild(t.lastChild);return this},n.remove=function(){var t,e=0,n=this.length;for(this.off();e<n;e++)delete(t=this[e]).jdata,t.parentNode&&t.parentNode.removeChild(t);return this},"object"===y(v)&&v&&"object"===y(v.exports)?v.exports=m:(void 0!==(w=function(){return m}.call(_,b,_,v))&&(v.exports=w),s.jBone=s.$=m)}("undefined"!=typeof window?window:void 0)}).call(_,b(20)(t))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(112)),o=r["default"].extend({buildDOM:function(){return this.on("new:node",this.buildNode),this.on("new:button",this.buildButton),this.on("new:menu",this.buildMenu),r["default"].prototype.buildDOM.call(this)},buildNode:function(t){if(null!=this.g)return t.style.lineHeight=this.g.menuconfig.get("menuItemLineHeight")},buildButton:function(t){if(null!=this.g)return t.style.fontSize=this.g.menuconfig.get("menuFontsize"),t.style.marginLeft=this.g.menuconfig.get("menuMarginLeft"),t.style.padding=this.g.menuconfig.get("menuPadding")},buildMenu:function(t){if(null!=this.g)return t.style.fontSize=this.g.menuconfig.get("menuItemFontsize")}});e["default"]=o},function(t){"use strict";var e={removeToInsertLater:function(t){var e,n;return n=t.parentNode,e=t.nextSibling,n.removeChild(t),function(){e?n.insertBefore(t,e):n.appendChild(t)}},removeAllChilds:function(t){for(0;t.firstChild;)0,t.removeChild(t.firstChild)}};t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.columnsel=e.rowsel=e.possel=e.sel=void 0;var i=n(3),r=n(1).Model.extend({defaults:{type:"super"}}),o=r.extend({defaults:(0,i.extend)({},r.prototype.defaults,{type:"row",seqId:""}),inRow:function(t){return t===this.get("seqId")},inColumn:function(){return!0},getLength:function(){return 1}}),s=r.extend({defaults:(0,i.extend)({},r.prototype.defaults,{type:"column",xStart:-1,xEnd:-1}),inRow:function(){return!0},inColumn:function(t){return xStart<=t&&t<=xEnd},getLength:function(){return xEnd-xStart}}),a=o.extend((0,i.extend)({},(0,i.pick)(s,"inColumn"),(0,i.pick)(s,"getLength"),{defaults:(0,i.extend)({},s.prototype.defaults,o.prototype.defaults,{type:"pos"})}));e.sel=r,e.possel=a,e.rowsel=o,e.columnsel=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n(8),c=n(3),i=n(1).Collection.extend({model:l.sel,initialize:function(t,e){if(null!=e)return this.g=e.g,this.listenTo(this.g,"residue:click",function(t){return this._handleE(t.evt,new l.possel({xStart:t.rowPos,xEnd:t.rowPos,seqId:t.seqId}))}),this.listenTo(this.g,"row:click",function(t){return this._handleE(t.evt,new l.rowsel({seqId:t.seqId}))}),this.listenTo(this.g,"column:click",function(t){return this._handleE(t.evt,new l.columnsel({xStart:t.rowPos,xEnd:t.rowPos+t.stepSize-1}))})},getSelForRow:function(e){return this.filter(function(t){return t.inRow(e)})},getSelForColumns:function(e){return this.filter(function(t){return t.inColumn(e)})},addJSON:function(t){return this.add(this._fromJSON(t))},_fromJSON:function(t){switch(t.type){case"column":return new l.columnsel(t);case"row":return new l.rowsel(t);case"pos":return new l.possel(t)}},resetJSON:function(t){return t=t.map(this._fromJSON),this.reset(t)},getBlocksForRow:function(e,i){for(var t,r=this.filter(function(t){return t.inRow(e)}),o=[],n=function(t,n){return"row"===(n=r[t]).attributes.type?(o=function(){var t=[],e=0;if(0<=i)for(;e<=i;)t.push(e++);else for(;i<=e;)t.push(e--);return t}(),"break"):void(o=o.concat(function(){var t=[],e=n.attributes.xStart;if(n.attributes.xStart<=n.attributes.xEnd)for(;e<=n.attributes.xEnd;)t.push(e++);else for(;e>=n.attributes.xEnd;)t.push(e--);return t}()))},s=0;s<r.length&&"break"!==n(s,t);s++);return o},getAllColumnBlocks:function(t){var e=(t.maxLen,t.withPos,[]),i=void 0;i=t.withPos?this.filter(function(t){return null!=t.get("xStart")}):this.filter(function(t){return"column"===t.get("type")});for(var n,r=function(t,n){n=i[t];e=e.concat(function(){var t=[],e=n.attributes.xStart;if(n.attributes.xStart<=n.attributes.xEnd)for(;e<=n.attributes.xEnd;)t.push(e++);else for(;e>=n.attributes.xEnd;)t.push(e--);return t}())},o=0;o<i.length;o++)r(o,n);return e=(0,c.uniq)(e)},invertRow:function(t){var e=this.where({type:"row"});e=e.map(function(t){return t.attributes.seqId});for(var n=(0,c.filter)(t,function(t){return!(0<=e.indexOf(t))}),i=[],r=0;r<n.length;r++){var o=n[r];i.push(new l.rowsel({seqId:o}))}return this.reset(i)},invertCol:function(t){var e=this.where({type:"column"}).reduce(function(t,n){return t.concat(function(){var t=[],e=n.attributes.xStart;if(n.attributes.xStart<=n.attributes.xEnd)for(;e<=n.attributes.xEnd;)t.push(e++);else for(;e>=n.attributes.xEnd;)t.push(e--);return t}())},[]),n=(0,c.filter)(t,function(t){return!(0<=e.indexOf(t))});if(0!==n.length){for(var i,r=[],o=n[0],s=o,a=0;a<n.length;a++)s+1===(i=n[a])?s=i:(r.push(new l.columnsel({xStart:o,xEnd:s})),o=s=i);return o!==s&&r.push(new l.columnsel({xStart:o,xEnd:n[n.length-1]})),this.reset(r)}},_handleE:function(t,e){return t.ctrlKey||t.metaKey?this.add(e):this.reset([e])},_reduceColumns:function(){return this.each(function(t,e,n){for(var i=(0,c.filter)(n,function(t){return"column"===t.get("type")}),r=t.get("xStart"),o=t.get("xEnd"),s=(0,c.filter)(i,function(t){return t.get("xEnd")===r-1}),a=0;a<s.length;a++)s[a].set("xEnd",r);for(var l=(0,c.filter)(i,function(t){return t.get("xStart")===o+1}),u=0;u<l.length;u++)l[u].set("xStart",o);if(0<s.length||0<l.length)return t.collection.remove(t)})}});e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.xhr=e.seqs=e.parser=e.newick=e.matrix=e.gff=e.fasta=e.clustal=void 0;var r=i(n(61)),o=i(n(62)),s=i(n(63)),a=i(n(65)),l=i(n(67)),u=i(n(11)),c=i(n(24));e.clustal=r["default"],e.fasta=o["default"],e.gff=s["default"],e.matrix=a["default"],e.newick=l["default"],e.parser=u["default"],e.seqs=c["default"];var h=n(21);e.xhr=h;var d="imported";"undefined"!=typeof IO_VERSION&&(d=IO_VERSION),e.version=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(21),s={};(e["default"]=s).read=function(t,r){var i,e=(i=this,function(t,e,n){return s._onRetrieval(t,n,r,i)});return void 0===r?new Promise(function(n,i){r=function(t,e){t?i(t):n(e)},o(t,e)}):o(t,e)},s._onRetrieval=function(t,e,n,i){var r=void 0;return void 0!==t&&(r=i.parse(e)),n.call(i,t,r)},s.extend=function(t,e){return extend(s,t,e)},s.mixin=function(e){var t=["read"];return"object"!==(void 0===e?"undefined":i(e))&&(e=e.prototype),t.forEach(function(t){e[t]=s[t]},this),e}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="http://www.w3.org/2000/svg",i=function(t,e){for(var n in e){var i=e[n];t.setAttributeNS(null,n,i)}return t},r=function(t){var e=document.createElementNS(n,"svg");return e.setAttribute("width",t.width),e.setAttribute("height",t.height),e},o=function(t){return i(document.createElementNS(n,"rect"),t)},s=function(t){return i(document.createElementNS(n,"line"),t)},a=function(t){return i(document.createElementNS(n,"polygon"),t)};e.base=r,e.line=s,e.rect=o,e.polygon=a},function(t,e,n){"use strict";var r=n(71);r.onAll=function(t,e){return this.on("all",t,e),this},r.oldMixin=r.mixin,r.mixin=function(t){r.oldMixin(t);for(var e=["onAll"],n=0;n<e.length;n++){var i=e[n];t[i]=this[i]}return t},t.exports=r},function(t,e,n){(function(t){"use strict";var e={};e.d=e.defaultValue=function(t,e){return void 0===t?"function"==typeof t?e():e:t},e.id=function(t){return document.getElementById(t)},e.mk=function(t){return document.createElement(t)},void 0!==t&&void 0!==t.exports&&(t.exports=e)}).call(e,n(20)(t))},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),r=function(){function t(){n(this,t)}return i(t,null,[{key:"randomInt",value:function(t,e){if(null==e){var n=[0,t];t=n[0],e=n[1]}if(e<t){var i=[e,t];t=i[0],e=i[1]}return Math.floor(Math.random()*(e-t+1)+t)}},{key:"uniqueId",value:function(t){for(var e=0<arguments.length&&void 0!==t?arguments[0]:8,n="";n.length<e;)n+=Math.random().toString(36).substr(2);return n.substr(0,e)}},{key:"getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}}]),t}();e["default"]=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),r=n(3),i=n(87),a=n(88),o={openInJalview:function(t,e){"."===t.charAt(0)&&(t=document.URL.substr(0,document.URL.lastIndexOf("/"))+"/"+t),t.indexOf("http")<0&&(t="http://"+window.location.hostname+t);var n="http://www.jalview.org/services/launchApp?open="+(t=encodeURIComponent(t));return n+="&colour="+e,window.open(n,"_blank")},publishWeb:function(t,i){var e=s.fasta.write(t.seqs.toJSON());return e=encodeURIComponent(e),(0,s.xhr)({method:"POST",body:"sprunge="+e,uri:"http://sprunge.biojs.net",headers:{"Content-Type":"application/x-www-form-urlencoded"}},function(t,e,n){return i(n.trim())})},shareLink:function(t,e){var n=t.g.config.get("importURL"),i="http://msa.biojs.net/app/?seq=",r=function(t){if(e)return e(i+t)};return n?r(n):o.publishWeb(t,r)},saveAsFile:function(t,e){var n=s.fasta.write(t.seqs.toJSON());return a(new Blob([n],{type:"text/plain"}),e)},saveSelection:function(t,e){var n=t.g.selcol.pluck("seqId");if(0<n.length)for(var i=(n=t.seqs.filter(function(t){return 0<=n.indexOf(t.get("id"))})).length-1,r=0;0<i?r<=i:i<=r;0<i?r++:r--)n[r]=n[r].toJSON();else n=t.seqs.toJSON(),console.warn("no selection found");var o=s.fasta.write(n);return a(new Blob([o],{type:"text/plain"}),e)},saveAnnots:function(t,e){var n=t.seqs.map(function(t){if(0!==(n=t.get("features")).length){var e=t.get("name");return n.each(function(t){return t.set("seqname",e)}),n.toJSON()}});n=(0,r.flatten)((0,r.compact)(n));var i=s.gff.exportLines(n);return a(new Blob([i],{type:"text/plain"}),e)},saveAsImg:function(t,e){var n=t.getView("stage").getView("body").getView("seqblock").el;if(null!=n)return a(i(n.toDataURL("image/png")),e,"image/png")}};e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(3),s=n(10),o=i(n(38)),l=function(t){return this.msa=t,this},u={guessFileFromText:function(t,e){if(null==t)return console.warn("invalid file format"),["","error"];switch((0,o["default"])(t,e)){case"clustal":var n=s.clustal,i="seqs";break;case"fasta":n=s.fasta,i="seqs";break;case"newick":i="newick";break;case"gff":n=s.gff,i="features";break;default:alert("Unknown file format. Please contact us on Github for help.")}return[n,i]},parseText:function(t,e){var n=this.guessFileFromText(t,e),i=a(n,2),r=i[0],o=i[1];return"seqs"===o?[r.parse(t),o]:"features"===o?[r.parseSeqs(t),o]:[t,o]},importFiles:function(o){var s=this;return function(){for(var t=[],e=o.length-1,n=0;0<e?n<=e:e<=n;0<e?n++:n--){var i=o[n],r=new FileReader;r.onload=function(t){return s.importFile(t.target.result)},t.push(r.readAsText(i))}return t}()},importFile:function(t,e){var n=this;(e=e||{}).name=t.name;var i=this.parseText(t,e),r=a(i,2),o=r[0],s=r[1];return"error"===s?(alert("An error happened"),"error"):("seqs"===s?(this.msa.seqs.reset(o),this.msa.g.config.set("url","userimport"),this.msa.g.trigger("url:userImport")):"features"===s?this.msa.seqs.addFeatures(o):"newick"===s?this.msa.u.tree.loadTree(function(){return n.msa.u.tree.showTree(t)}):alert("Unknown file!"),t.name)},importURL:function(i,r){var o=this;return i=this.msa.u.proxy.corsURL(i),this.msa.g.config.set("url",i),(0,s.xhr)({url:i,timeout:0},function(t,e,n){return t?console.error(t):"error"!==o.importFile(n,{url:i})?(o.msa.g.trigger("import:url",i),r?r():void 0):void 0})}};(0,r.extend)(l.prototype,u),e["default"]=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),r={loadScript:function(t,e){var n=i.mk("script");return n.type="text/javascript",n.src=t,n.async=!0,n.onload=n.onreadystatechange=function(){if(!(t||this.readyState&&"complete"!==this.readyState)){var t=!0;return e()}},document.getElementsByTagName("script")[0].parentNode.appendChild(n)},joinCb:function(t,e,n){e=e||1;var i=0,r=function(e,n){return null==e?o():function(){var t;return t="apply",0<=e.indexOf(t)&&e.apply(n,arguments),o()}},o=function(){if(++i===e)return t.call(n)};return r}};e["default"]=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return this.g=t.g,this},r={corsURL:function(t){return 0<=document.URL.indexOf("localhost")&&"/"===t[0]?t:"."===t.charAt(0)||"/"===t.charAt(0)?t:(this.g.config.get("importProxyStripHttp")&&(t=(t=t.replace("http://","")).replace("https://","")),t=this.g.config.get("importProxy")+t)}};(0,n(3).extend)(i.prototype,r),e["default"]=i},function(t){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)e(t[n])}function y(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t,e,n){var i=t;return l(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=u(e,{uri:t}),i.callback=n,i}function _(t,e,n){return o(e=r(t,e,n))}function o(i){function t(){4===a.readyState&&setTimeout(n,0)}function r(){var t=void 0;if(t=a.response?a.response:a.responseText||b(a),m)try{t=JSON.parse(t)}catch(t){}return t}function e(t){return clearTimeout(c),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,v)}function n(){if(!u){var t;clearTimeout(c),t=i.useXDR&&void 0===a.status?200:1223===a.status?204:a.status;var e=v,n=null;return 0!==t?(e={body:r(),statusCode:t,method:d,headers:{},url:h,rawRequest:a},a.getAllResponseHeaders&&(e.headers=w(a.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),s(n,e,e.body)}}if("undefined"==typeof i.callback)throw new Error("callback argument missing");var o=!1,s=function(t,e,n){o||(o=!0,i.callback(t,e,n))},a=i.xhr||null;a||(a=i.cors||i.useXDR?new _.XDomainRequest:new _.XMLHttpRequest);var l,u,c,h=a.url=i.uri||i.url,d=a.method=i.method||"GET",f=i.body||i.data,p=a.headers=i.headers||{},g=!!i.sync,m=!1,v={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:a};if("json"in i&&!1!==i.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===i.json?f:i.json))),a.onreadystatechange=t,a.onload=n,a.onerror=e,a.onprogress=function(){},a.onabort=function(){u=!0},a.ontimeout=e,a.open(d,h,!g,i.username,i.password),g||(a.withCredentials=!!i.withCredentials),!g&&0<i.timeout&&(c=setTimeout(
function(){if(!u){u=!0,a.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",e(t)}},i.timeout)),a.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&a.setRequestHeader(l,p[l]);else if(i.headers&&!y(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(a.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(a),a.send(f||null),a}function b(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}function s(){}var a=n(146),l=n(52),w=n(149),u=n(150);(t.exports=_).XMLHttpRequest=a.XMLHttpRequest||s,_.XDomainRequest="withCredentials"in new _.XMLHttpRequest?_.XMLHttpRequest:a.XDomainRequest,i(["get","put","post","patch","head","delete"],function(i){_["delete"===i?"del":i]=function(t,e,n){return(e=r(t,e,n)).method=i.toUpperCase(),o(e)}})},function(t,e,n){"use strict";t.exports=n(56)},function(t,e,n){var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){"use strict";var o={has:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e];if(n)for(var i in n)t[i]=n[i]}return t}};return function(t,e){var n,i=this;n=t&&o.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&o.extend(n.prototype,t),n.__super__=i.prototype,n}},"object"===s(e)?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};(e["default"]=n).getMeta=function(t){var e,i,n=!1,r=!1,o={},s={},a=t.split(" ");if(1<=a.length?(n=a.shift(),r=a.join(" ")):n=t,n){var l=n.split("|");for(e=l.pop(),s.en=e;0!=l.length;){var u=l.shift(),c=l.shift();o[u]=c}}else e=n;if(r){var h,d,f=r.split("=");if(1<f.length)f.length,f.forEach(function(t){var e,n=(t=t.trim()).split(" ");1<n.length?(d=n.pop(),e=n.join(" ")):e=t,h?s[h.toLowerCase()]=e:i=e,h=d});else i=f.shift()}var p={name:e,ids:o,details:s};return i&&(p.desc=i),p};var o={sp:{link:"http://www.uniprot.org/%s",name:"Uniprot"},tr:{link:"http://www.uniprot.org/%s",name:"Trembl"},gb:{link:"http://www.ncbi.nlm.nih.gov/nuccore/%s",name:"Genbank"},pdb:{link:"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s",name:"PDB"}};n.buildLinks=function(i){var r={};return i=i||{},Object.keys(i).forEach(function(t){if(t in o){var e=o[t],n=e.link.replace("%s",i[t]);r[e.name]=n}}),r},n.contains=function(t,e){return-1!=="".indexOf.call(t,e,0)},n.splitNChars=function(t,e){var n,i;e=e||80;var r=[];for(n=0,i=t.length-1;n<=i;n+=e)r.push(t.substr(n,e));return r},n.reverse=function(t){return t.split("").reverse().join("")},n.complement=function(t){var e=t+"",n=[[/g/g,"0"],[/c/g,"1"],[/0/g,"c"],[/1/g,"g"],[/G/g,"0"],[/C/g,"1"],[/0/g,"C"],[/1/g,"G"],[/a/g,"0"],[/t/g,"1"],[/0/g,"t"],[/1/g,"a"],[/A/g,"0"],[/T/g,"1"],[/0/g,"T"],[/1/g,"A"]];for(var i in n)e=e.replace(n[i][0],n[i][1]);return e},n.reverseComplement=function(t){return n.reverse(n.complement(t))},n.model=function(t,e,n){this.seq=t,this.name=e,this.id=n,this.ids={}}},function(t,e,n){"use strict";var i=n(1).Model;n(90),t.exports=i.extend({constructor:function(t,e){return this.g=e.g,i.apply(this,arguments),this},defaults:{currentSize:5,step:1,originalSize:!1,scaleCategories:[{columnWidth:1,markerStepSize:20,stepSize:0},{columnWidth:3,markerStepSize:20,stepSize:0},{columnWidth:5,markerStepSize:10,stepSize:0},{columnWidth:9,markerStepSize:5,stepSize:1},{columnWidth:15,markerStepSize:2,stepSize:1},{columnWidth:20,markerStepSize:1,stepSize:1},{columnWidth:30,markerStepSize:1,stepSize:1},{columnWidth:45,markerStepSize:1,stepSize:1}]},initialize:function(){var t=this.get("scaleCategories"),e=this.g.zoomer.get("columnWidth")||this._getScaleInfo().columnWidth,n=_.find(t,{columnWidth:e});if(!n){var i=this._insertScaleCategory(e);n=t[i],this.set("currentSize",i+1)}var r=this.get("currentSize");return this.set("originalSize",r),this.setSize(r),this},_insertScaleCategory:function(e){var t=this.get("scaleCategories"),n=_.findLastIndex(t,function(t){return t.columnWidth<e}),i=t[n],r=n+1,o={columnWidth:e,markerStepSize:i.markerStepSize,stepSize:i.markerStepSize};return t.splice(r,0,o),this.set("scaleCategories",t),r},getSizeRange:function(){return[1,this.get("scaleCategories").length]},bigger:function(){return this.setSize(this.get("currentSize")+this.get("step"))},smaller:function(){return this.setSize(this.get("currentSize")-this.get("step"))},reset:function(){return this.setSize(this.get("originalSize"))},setSize:function(t){var e=this.getSizeRange();t=(t=parseInt(t))<e[0]?e[0]:t>e[1]?e[1]:t,this.set("currentSize",t);var n=this._getScaleInfo();return this.g.zoomer.set({columnWidth:n.columnWidth,stepSize:n.stepSize,markerStepSize:n.markerStepSize}),this},getSize:function(){return this.get("currentSize")},_getScaleInfo:function(){var t=this.getSize(),e=this.get("scaleCategories");return 0<t&&t<=e.length?e[t-1]:void console.error("out of bounds")}})},function(t,e,n){"use strict";var i=n(97),r=n(1).Model;t.exports=r.extend({defaults:{scheme:"taylor",colorBackground:!0,showLowerCase:!0,opacity:.6},initialize:function(t,e,n){return this.colors=new i({seqs:e,conservation:function(){return n.scale(n.conservation())}}),n.on("reset",function(){var t;if("dyn"===this.getSelectedScheme().type&&(t="reset",0<=this.getSelectedScheme().indexOf(t)))return this.getSelectedScheme().reset()},this)},addStaticScheme:function(t,e){return this.colors.addStaticScheme(t,e)},addDynScheme:function(t,e){return this.colors.addDynScheme(t,e)},getScheme:function(t){return this.colors.getScheme(t)},getSelectedScheme:function(){return this.colors.getScheme(this.get("scheme"))}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({initialize:function(t,e){return null==this.get("hidden")&&this.set("hidden",[]),this.stats=e},calcHiddenColumns:function(t){for(var e=this.get("hidden"),n=t,i=0;i<e.length;i++)e[i]<=n&&n++;return n-t}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({defaults:{registerMouseHover:!1,registerMouseClicks:!0,importProxy:"https://cors-anywhere.herokuapp.com/",importProxyStripHttp:!0,eventBus:!0,alphabetSize:20,dropImport:!1,debug:!1,hasRef:!1,bootstrapMenu:!1,manualRendering:!1}})},function(t,e,n){"use strict";var r=n(18),i=n(1).Model;t.exports=i.extend({initialize:function(t){return this.g=t},development:{"msa-tnt":"/node_modules/msa-tnt/build/bundle.js","biojs-io-newick":"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js"},loadPackage:function(t,e){try{return e(n(154)(t))}catch(n){return r["default"].loadScript(this._pkgURL(t),e)}},loadPackages:function(t,e){var n=this,i=r["default"].joinCb(function(){return e()},t.length);return t.forEach(function(t){return n.loadPackage(t,i)})},_pkgURL:function(t){if(this.g.config.get("debug"))var e=this.development[t];else e="http://wzrd.in/bundle/"+t+"@latest";return e}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({defaults:{searchText:""}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({defaults:{searchBox:-10,overviewBox:30,headerBox:-1,alignmentBody:0,scaleSlider:50}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({defaults:{sequences:!0,markers:!0,metacell:!1,conserv:!1,overviewbox:!1,seqlogo:!1,gapHeader:!1,leftHeader:!0,scaleslider:!1,labels:!0,labelName:!0,labelId:!0,labelPartition:!1,labelCheckbox:!1,metaGaps:!0,metaIdentity:!0,metaLinks:!0},constructor:function(t,e){return this.calcDefaults(e.model),i.apply(this,arguments)},initialize:function(){return this.listenTo(this,"change:metaLinks change:metaIdentity change:metaGaps",function(){return this.trigger("change:metacell")},this),this.listenTo(this,"change:labelName change:labelId change:labelPartition change:labelCheckbox",function(){return this.trigger("change:labels")},this),this.listenTo(this,"change:markers change:conserv change:seqlogo change:gapHeader",function(){return this.trigger("change:header")},this)},calcDefaults:function(t){if(0<t.length){var e=t.at(0).get("ids");if(void 0!==e&&0===Object.keys(e).length)return this.defaults.metaLinks=!1}}})},function(t,e,n){"use strict";var i=n(1).Model;t.exports=i.extend({constructor:function(t,e){return this.calcDefaults(e.model),i.apply(this,arguments),this.g=e.g,this.listenTo(this,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",function(){return this.trigger("change:labelWidth",this.getLabelWidth())},this),this.listenTo(this,"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth",function(){return this.trigger("change:metaWidth",this.getMetaWidth())},this),this},defaults:{alignmentWidth:"auto",alignmentHeight:225,columnWidth:15,rowHeight:15,autoResize:!0,labelIdLength:20,labelNameLength:100,labelPartLength:15,labelCheckLength:15,labelFontsize:13,labelLineHeight:"13px",markerFontsize:"10px",stepSize:1,markerStepSize:2,markerHeight:20,residueFont:"13",canvasEventScale:1,minLetterDrawSize:11,boxRectHeight:2,boxRectWidth:2,overviewboxPaddingTop:10,overviewboxWidth:"fixed",overviewboxHeight:"fixed",metaGapWidth:35,metaIdentWidth:40,_alignmentScrollLeft:0,_alignmentScrollTop:0},calcDefaults:function(t){return t.getMaxLength()<200&&t.length<30&&(this.defaults.boxRectWidth=this.defaults.boxRectHeight=5),this},getAlignmentWidth:function(t){return this.get("autoResize")&&void 0!==t?this.get("columnWidth")*t:void 0===this.get("alignmentWidth")||"auto"===this.get("alignmentWidth")||0===this.get("alignmentWidth")?this._adjustWidth():this.get("alignmentWidth")},setLeftOffset:function(t){var e=t;return e=Math.max(0,e),e-=this.g.columns.calcHiddenColumns(e),this.set("_alignmentScrollLeft",e*this.get("columnWidth"))},setTopOffset:function(t){for(var e=Math.max(0,t-1),n=0,i=0;0<e?i<=e:e<=i;0<e?i++:i--)n+=this.model.at(i).attributes.height||1;return this.set("_alignmentScrollTop",n*this.get("rowHeight"))},getLeftBlockWidth:function(){var t=0;return this.g.vis.get("labels")&&(t+=this.getLabelWidth()),this.g.vis.get("metacell")&&(t+=this.getMetaWidth()),t},getMetaWidth:function(){var t=0;return this.g.vis.get("metaGaps")&&(t+=this.get("metaGapWidth")),this.g.vis.get("metaIdentity")&&(t+=this.get("metaIdentWidth")),this.g.vis.get("metaLinks")&&(t+=this.get("metaLinksWidth")),t},getLabelWidth:function(){var t=0;return this.g.vis.get("labelName")&&(t+=this.get("labelNameLength")),this.g.vis.get("labelId")&&(t+=this.get("labelIdLength")),this.g.vis.get("labelPartition")&&(t+=this.get("labelPartLength")),this.g.vis.get("labelCheckbox")&&(t+=this.get("labelCheckLength")),t},_adjustWidth:function(){if(void 0!==this.el&&void 0!==this.model){if(null!=this.el.parentNode&&0!==this.el.parentNode.offsetWidth)var t=this.el.parentNode.offsetWidth;else t=document.body.clientWidth-35;var e=t-this.getLeftBlockWidth(),n=this.getAlignmentWidth(this.model.getMaxLength()-this.g.columns.get("hidden").length),i=Math.min(e,n);return i=Math.floor(i/this.get("columnWidth"))*this.get("columnWidth"),this.attributes.alignmentWidth=i}},autoResize:function(){if(this.get("autoResize"))return this._adjustWidth(this.el,this.model)},autoHeight:function(t){var e=this.getMaxAlignmentHeight();return void 0!==t&&0<t&&(e=Math.min(e,t)),this.set("alignmentHeight",e)},setEl:function(t,e){return this.el=t,this.model=e},_checkScrolling:function(t,e){var n=t[0],i=t[1];return this.set("_alignmentScrollLeft",n,e),this.set("_alignmentScrollTop",i,e)},getMaxAlignmentHeight:function(){var e=0;return this.model.each(function(t){return e+=t.attributes.height||1}),e*this.get("rowHeight")},getMaxAlignmentWidth:function(){return this.model.getMaxLength()*this.get("columnWidth")}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=i(n(50)),s=n(1).Collection,a=s.extend({model:o["default"],constructor:function(){return this.startOnCache=[],this.on("all",function(){return this.startOnCache=[]},this),s.apply(this,arguments)},startOn:function(t){return null==this.startOnCache[t]&&(this.startOnCache[t]=this.where({xStart:t})),this.startOnCache[t]},contains:function(n){return this.reduce(function(t,e){return e||t.contains(n)},!1)},getFeatureOnRow:function(e,n){return this.filter(function(t){return t.get("row")===e&&t.get("xStart")<=n&&n<=t.get("xEnd")})},assignRows:function(){var n=this.max(function(t){return t.get("xEnd")}).attributes.xEnd,o=function(){for(var t=[],e=0;0<n?e<=n:n<=e;0<n?e++:e--)t.push(0);return t}();return this.each(function(t){for(var e=0,n=t.get("xStart"),i=t.get("xEnd"),r=n;n<i?r<=i:i<=r;n<i?r++:r--)o[r]>e&&(e=o[r]),o[r]++;return t.set("row",e)}),(0,r.max)(o)},getCurrentHeight:function(){return this.max(function(t){return t.get("row")}).attributes.row+1},getMinRows:function(){var n=this.max(function(t){return t.get("xEnd")}).attributes.xEnd,o=function(){for(var t=[],e=0;0<n?e<=n:n<=e;0<n?e++:e--)t.push(0);return t}();return this.each(function(r){return function(){for(var t=[],e=r.get("xStart"),n=r.get("xEnd"),i=e;e<n?i<=n:n<=i;i++)t.push(o[i]++);return t}()}),(0,r.max)(o)}});e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(36)),o=i(n(34)),s=n(1).Collection,a=s.extend({model:r["default"],constructor:function(t,e){var n=this;return s.apply(this,arguments),this.g=e,this.on("add reset remove",function(){return n.lengthCache=null,n._bindSeqsWithFeatures()},this),this.on("reset",function(){return n._autoSetRefSeq()}),this._autoSetRefSeq(),this.lengthCache=null,this.features={},this},getMaxLength:function(){return 0===this.models.length?0:(null===this.lengthCache&&(this.lengthCache=this.max(function(t){return t.get("seq").length}).get("seq").length),this.lengthCache)},prev:function(t,e){var n=this.indexOf(t)-1;return n<0&&e&&(n=this.length-1),this.at(n)},next:function(t,e){var n=this.indexOf(t)+1;return n===this.length&&e&&(n=0),this.at(n)},calcHiddenSeqs:function(t){for(var e=t,n=0;0<e?n<=e:e<=n;0<e?n++:n--)this.at(n).get("hidden")&&e++;return e-t},addFeatures:function(t){var n=this;if(null!=t.config){var e=t;if(t=t.seqs,null!=e.config.colors){var i=e.config.colors;_.each(t,function(t){return _.each(t,function(t){if(null!=i[t.feature])return t.fillColor=i[t.feature]})})}}return _.isEmpty(this.features)?this.features=t:_.each(t,function(t,e){return n.features.hasOwnProperty(e)?n.features[e]=_.union(n.features[e],t):n.features[e]=t}),this._bindSeqsWithFeatures()},_bindSeqWithFeatures:function(t){var e=this.features[t.attributes.name];e&&(t.attributes.features=new o["default"](e),t.attributes.features.assignRows(),t.attributes.height=t.attributes.features.getCurrentHeight()+1)},_bindSeqsWithFeatures:function(){var e=this;return this.each(function(t){return e._bindSeqWithFeatures(t)})},removeAllFeatures:function(){return delete this.features},_autoSetRefSeq:function(){if(0<this.length)return this.at(0).set("ref",!0)},setRef:function(e){var n=this.get(e);return this.each(function(t){if(e.cid)return n.cid===t.cid?t.set("ref",!0):t.set("ref",!1)}),this.g.config.set("hasRef",!0),this.trigger("change:reference",e)}});e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(34)),o=n(1).Model.extend({defaults:{name:"",id:"",seq:"",height:1,ref:!1},initialize:function(){if(this.set("grey",[]),null==this.get("features"))return this.set("features",new r["default"])}});e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.exporter=e.file=e.seqgen=e.proxy=e.bmath=void 0;var r=i(n(15)),o=i(n(19)),s=i(n(39)),a=i(n(17)),l=i(n(16));e.bmath=r["default"],e.proxy=o["default"],e.seqgen=s["default"],e.file=a["default"],e.exporter=l["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){for(var n=(e.name||e.url||"").split("."),i=n[n.length-1]||"",r=0;r<s.length;r++){var o=s[r](t,i);if(o)return o}return"unknown"};var s=[function(t,e){return("CLUSTAL"===t.substring(0,7)||"clustal"==e||"aln"==e)&&"clustal"},function(t,e){return(">"===t.substring(0,1)||"fasta"==e||"fa"==e)&&"fasta"},function(t,e){return("("===t.substring(0,1)||"nwk"==e)&&"newick"},function(t,e){if(t.length<=10)return!1;var n=t.split("\n");return 0<=n[0].indexOf("gff")||0<=e.indexOf("gff")?"gff":n[0].indexOf("#")<0&&2===n[0].split("\t").length&&"gff"}]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var v=i(n(15)),y=n(72).seq,_=n(48),b={_generateSequence:function(t){for(var e="",n=t-1,i=0;0<n?i<=n:n<=i;0<n?i++:i--)e+=b.getRandomChar();return e},getDummySequences:function(t,e){var n=[];null!=t||(t=v["default"].getRandomInt(3,5)),null!=e||(e=v["default"].getRandomInt(50,200));for(var i=1;1<t?i<=t:t<=i;1<t?i++:i--)n.push(new y(b._generateSequence(e),"seq"+i,"r"+i));return n},getRandomChar:function(t){var e=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.charAt(Math.floor(Math.random()*e.length))},genConservedSequences:function(t,e,n){var i=[];null!=t||(t=v["default"].getRandomInt(3,5)),null!=e||(e=v["default"].getRandomInt(50,200)),n=n||"ACDEFGHIKLMNPQRSTVWY---";for(var r=1;1<t?r<=t:t<=r;1<t?r++:r--)i[r-1]="";for(var o=.2,s=1,a=e-1,l=0;0<a?l<=a:a<=l;0<a?l++:l--){l%3==0&&(s=v["default"].getRandomInt(50,100)/100);for(var u=[],c=t-1,h=0;0<c?h<=c:c<=h;0<c?h++:h--){for(var d=0,f=void 0;d<100;){f=b.getRandomChar(n);var p=_(u);if(p.addSeq(f),d++,Math.abs(s-p.scale(p.conservation())[0])<o)break}i[h]+=f,u.push(f)}}for(var g=[],m=1;1<t?m<=t:t<=m;1<t?m++:m--)g.push(new y(i[m-1],"seq"+m,"r"+m));return g}};e["default"]=b},function(t,e,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(3),r=(n(u(35)),function(t){return this.msa=t,this}),o={loadTree:function(t){return this.msa.g["package"].loadPackages(["msa-tnt","biojs-io-newick"],t)},showTree:function(t){function n(e){if(null!=e.children)e.children.forEach(function(t){return n(t)});else{var t=a.filter(function(t){return t.name===e.name})[0];null!=t&&("number"==typeof t.id?(t.ids=["s"+(t.id+1)],e.name="s"+(t.id+1)):e.name=t.id)}}var e=window.require("biojs-io-newick"),i=window.require("msa-tnt");if("string"==typeof t)var r=e.parse_newick(t);else r=t;var o,s=new i.selections;0===this.msa.el.getElementsByClassName("tnt_groupDiv").length?(o=document.createElement("div"),this.msa.el.appendChild(o)):(o=this.msa.el.getElementsByClassName("tnt_groupDiv")[0].parentNode).innerHTML="";var a=this.msa.seqs.toJSON();n(r);var l=i.app({seqs:a,tree:r});return new i.adapters.tree({model:l,el:o,sel:s}),new i.adapters.msa({model:l,sel:s,msa:this.msa}),l.models.forEach(function(t){return delete t.collection,Object.setPrototypeOf(t,u(1).Model.prototype)}),this.msa.seqs.reset(l.models),console.log(this.msa.seqs)},require:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return u(155)(t)})};(0,i.extend)(r.prototype,o),e["default"]=r},function(t,e,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(22),r=n(23),p=n(42),o=function(t,e){var n=t||{};e||(e={}),this.cid=p.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=p.defaults({},n,p.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};p.extend(o.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return p.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return p.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,o,s,a,l,u,c;if(null==t)return this;if("object"===(void 0===t?"undefined":f(t))?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;for(i in o=n.unset,a=n.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=p.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)e=r[i],p.isEqual(c[i],e)||s.push(i),p.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete c[i]:c[i]=e;if(!a){s.length&&(this._pending=n);for(var h=0,d=s.length;h<d;h++)this.trigger("change:"+s[h],this,c[s[h]],n)}if(l)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,p.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,p.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!p.isEmpty(this.changed):p.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&p.clone(this.changed);var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)p.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return p.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?p.clone(e):{}).parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t){return!!n.set(n.parse(t,e),e)&&(i&&i(n,t,e),void n.trigger("sync",n,t,e))},wrapError(this,e),this.sync("read",this,e)},save:function(t,e,n){var i,r,o,s=this.attributes;if(null==t||"object"===(void 0===t?"undefined":f(t))?(i=t,n=e):(i={})[t]=e,n=p.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=p.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var a=this,l=n.success;return n.success=function(t){a.attributes=s;var e=a.parse(t,n);return n.wait&&(e=p.extend(i||{},e)),!(p.isObject(e)&&!a.set(e,n))&&(l&&l(a,t,n),void a.trigger("sync",a,t,n))},wrapError(this,n),"patch"!==(r=this.isNew()?"create":n.patch?"patch":"update")||n.attrs||(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),o},destroy:function XFc(e){e=e?p.clone(e):{};var n=this,i=e.success,XFc=function(){n.stopListening(),n.trigger("destroy",n,n.collection,e)};if(e.success=function(t){(e.wait||n.isNew())&&XFc(),i&&i(n,t,e),n.isNew()||n.trigger("sync",n,t,e)},this.isNew())return e.success(),!1;wrapError(this,e);var t=this.sync("delete",this,e);return e.wait||XFc(),t},url:function(){var t=p.result(this,"urlRoot")||p.result(this.collection,"url")||urlError();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},p.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=p.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,p.extend(e,{validationError:n})),!1)}});var s=["keys","values","pairs","invert","pick","omit","chain","isEmpty"];p.each(s,function(e){p[e]&&(o.prototype[e]=function(){var t=slice.call(arguments);return t.unshift(this.attributes),p[e].apply(p,t)})}),o.extend=r,t.exports=o},function($,U){var K,G,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(a){function l(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}return function(t,e,n,i){e=_(e,i,4);var r=!E(t)&&y.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),l(t,e,n,r,s,o)}}function e(o){return function(t,e,n){e=b(e,n);for(var i=C(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function n(o,s,a){return function(t,e,n){var i=0,r=C(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function z(t){return t instanceof z?t:this instanceof z?void(this._wrapped=t):new z(t)};void 0!==$&&$.exports&&(U=$.exports=y),(U._=y).VERSION="1.8.3";var _=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},q=Math.pow(2,53)-1,C=S("length"),E=function(t){var e=C(t);return"number"==typeof e&&0<=e&&e<=q};y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var r=[];return i=b(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=c.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)n=t[a],o<n&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=b(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(o){return function(n,i,t){var r={};return i=b(i,t),y.each(n,function(t,e){o(r,t,i(t,e,n))}),r}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=b(i,e);var r=[],o=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function W(t,e,n,i){for(var r=[],o=0,s=i||0,a=C(t);s<a;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=W(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=C(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=C(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,C).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=C(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=C(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);return function i(){return D(t,i,e,this,n.concat(c.call(arguments)))}},y.partial=function(r){var o=c.call(arguments,1);return function s(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===y?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return D(r,s,this,this,n)}},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var o=function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var o,s,a,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:y.now(),l=null,a=n.apply(o,s),l||(o=s=null)};return function(){var t=y.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),u=t,a=n.apply(o,s),l||(o=s=null)
):l||!1===r.trailing||(l=setTimeout(c,e)),a}},y.debounce=function(e,n,i){var r,o,s,a,l,u=function u(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(u,n-t):(r=null,i||(l=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(u,n)),t&&(l=e.apply(s,o),s=o=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return L&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function V(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=(void 0===t?"undefined":Q(t))||"object"!=(void 0===e?"undefined":Q(e)))return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!V(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!V(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=void 0===t?"undefined":Q(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Q(Int8Array))&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(F),M=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=M(F),y.unescape=M(R),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+N[t]};y.template=function(o,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(j,B),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},K=[],void 0===(G=function(){return y}.apply(U,K))||($.exports=G)}).call(void 0)},function(t,e){"use strict";function n(t){var r={};return t.split(";").forEach(function(t){var e,n,i;0<t.indexOf("=")?(n=(e=t.split("="))[0],i=e[1],r[n]=i):0<t.indexOf(" ")&&(n=(e=t.split(" "))[0],i=e[1].replace(/"/g,""),r[n]=i)}),r}function i(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function r(t,e,n){return 3===t.length?r(t[0],t[1],t[2]):"#"+i(t)+i(e)+i(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.extractKeys=n,e.rgbToHex=r,e["default"]={extractKeys:n,rgbToHex:r}},function(t){"use strict";t.exports=function(t,e,n){t.beginPath(),t.moveTo(0,e),t.lineTo(n,e),t.lineWidth=1,t.strokeStyle="#999999",t.stroke()}},function(t){"use strict";t.exports=function(t,e,n,i,r,o,s){t.font=o+"px Arial",t.textAlign=s?"right":"center",t.fillStyle="#666666",t.fillText(r,e+i/2,n)}},function(t){"use strict";t.exports=function(t,e,n,i,r){r=r||"#999999",t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+i),t.lineWidth=1,t.strokeStyle=r,t.stroke()}},function(t){"use strict";t.exports={rel:function(t){var e,n,i,r;return e=t.offsetX,n=t.offsetY,null==e&&(i=r.getBoundingClientRect(),r=t.target||t.srcElement,null==e&&(e=t.clientX-i.left,n=t.clientY-i.top),null==e&&(e=t.pageX-r.offsetLeft,n=t.pageY-r.offsetTop),null==e)?void console.log(t,"no mouse event defined. your browser sucks"):[e,n]},abs:function(t){var e,n;return e=t.pageX,n=t.pageY,null==e&&(e=t.layerX,n=t.layerY),null==e&&(e=t.clientX,n=t.clientY),null==e&&(e=t.x,n=t.y),[e,n]},wheelDelta:function(t){var e;return null==(e=[t.deltaX,t.deltaY])[0]&&t.mozMovementX&&(e=[0,t.mozMovementX]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e}}},function(n,t,e){"use strict";var a=e(108),i=function n(t,e){if(!this||this.constructor!==n)return new n(t);if(void 0===t||"string"==typeof t)throw new TypeError("you need to give the seq stat an array");this.resetSeqs(t),this.alphabetSize=4,this._useBackground=!1,this.useGaps=!1,this.ignoredChars=["-","*"],a.extend(this,e)};i.prototype.addSeq=function(t){this.seqs.push(t),this._reset()},i.prototype.removeSeq=function(n){"number"==typeof n?this.seqs.splice(n,1):a.each(this.seqs,function(t,e){n===t&&this.seqs.splice(e,1)}.bind(this)),this._reset()},i.prototype.addSeqs=function(t){t.forEach(function(t){this.addSeq(t)}.bind(this))},i.prototype.resetSeqs=function(t){if(this.seqs=[],!t instanceof Array||"at"in t){var e=function(){var t=this.mseqs.pluck("seq");this.resetSeqs(t)};(this.mseqs=t).on("add change reset ",e,this),e.call(this)}else this.addSeqs(t),this._reset(),this.trigger("reset")};var r=["consensus","frequency","maxLength","ic","gaps"];i.prototype._reset=function(){for(var t=0;t<r.length;t++)this["_"+r[t]]=void 0;this._identity=void 0,this._background=void 0},i.prototype.setBackground=function(t){this._useBackground=t,this._reset()},i.prototype.useBackground=function(){this.setBackground(!0)},i.prototype.setDNA=function(){this.alphabetSize=4},i.prototype.setProtein=function(){this.alphabetSize=20},r.forEach(function(t){i.prototype[t]=function(){return void 0===this["_"+t]&&(this["_"+t]=this[t+"Calc"]()),this["_"+t]}}),i.prototype.identity=function(t){var e;return(void 0===this._identity||t)&&(e=this.identityCalc(t),this._identity=void 0),this._identity||e},i.prototype.background=function(){return void 0!==this.bg?this.bg:(void 0===this._background&&this.backgroundCalc(),this._background)},i.prototype.frequencyCalc=function(t){var i,r;i=new Array(this.maxLength()),r=new Array(this.seqs.length);var n=this.ignoredChars;return void 0!==t&&t.all&&(n=[]),a.each(this.seqs,function(t){a.each(t,function(t,e){0<=n.indexOf(t)||(void 0===i[e]&&(i[e]={}),void 0===i[e][t]&&(i[e][t]=0),i[e][t]++,void 0===r[e]&&(r[e]=0),r[e]++)})}),a.each(i,function(t,n){return a.each(t,function(t,e){return i[n][e]=t/r[n]})}),this._frequency=i},i.prototype.backgroundCalc=function(){var e={},n=0;return a.each(this.seqs,function(t){a.each(t,function(t){return void 0===e[t]&&(e[t]=0),e[t]++,n++})}),e=a.mapValues(e,function(t){return t/n}),this._background=e},i.prototype.icCalc=function(){var t=this.frequency();if(this._useBackground)var i=this.background();var r=this.ignoredChars,o=this._useBackground,e=a.map(t,function(t){return a.reduce(t,function(t,e,n){return 0<=r.indexOf(n)?t:(o&&(e/=i[n]),t-e*(Math.log(e)/Math.log(2)))},0)});return this._ic=e},i.prototype.conservation=function(t){var e=this.ic(),n=this.gaps(),i=this;t=t||this.alphabetSize;var r=Math.log(t)/Math.log(2),o=0;return a.map(e,function(t){var e=r-t;return i.useGaps&&(e*=1-n[o++]),e})},i.prototype.conservResidue=function(t){var r,e=t?t.alphabetSize:void 0,o=this.ignoredChars;r=void 0!==t&&t.scaled?this.scale(this.conservation(e)):this.conservation(e);var s,n=this.frequency();return a.map(n,function(e,n){s=a.reject(a.keys(e),function(t){return 0<=o.indexOf(t)});var i={};return a.each(s,function(t){i[t]=e[t]*r[n]}),i})},i.prototype.conservResidue2=function(t){var i=this.frequency(),r=this.conservation(t),o=this.background();return a.map(i,function(t,n){return a.map(t,function(t){var e=a.reduce(i[n],function(t,e){return t+e/o[n]},0);return t/o[n]/e*r[n]},0)})},i.prototype.scale=function(t,e){e=e||this.alphabetSize;var n=Math.log(e)/Math.log(2);return a.map(t,function(t){return t/n})},i.prototype.maxLengthCalc=function(){return 0===this.seqs.length?0:a.max(this.seqs,function(t){return t.length}).length},i.prototype.consensusCalc=function(){var n=new Array(this.maxLength());return a.each(this.seqs,function(t){a.each(t,function(t,e){void 0===n[e]&&(n[e]={}),void 0===n[e][t]&&(n[e][t]=0),n[e][t]++})}),this._consensus=a.reduce(n,function(t,e){var n;return n=a.keys(e),t+a.max(n,function(t){return e[t]})},""),this._consensus},i.prototype.identityCalc=function(t){var r=t||this.consensus();return this._identity=this.seqs.map(function(t){for(var e=0,n=0,i=0;i<t.length;i++)"-"!==t[i]&&"-"!==r[i]&&(n++,t[i]===r[i]&&e++);return e/n}),this._identity},i.prototype.gapsCalc=function(){var t=this.maxLength();if(t<=1||void 0===t)return[];var n=new Array(this.maxLength());return a.each(this.seqs,function(t){a.each(t,function(t,e){void 0===n[e]&&(n[e]={g:0,t:0}),t="-"===t?"g":"t",n[e][t]++})}),this._gaps=a.map(n,function(t){return t.g/(t.g+t.t)}),this._gaps},a.mixin({mapValues:function(t,e){return a.object(a.keys(t),a.map(t,e))}}),e(13).mixin(i.prototype),n.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9);Object.defineProperty(e,"SelectionManager",{enumerable:!0,get:function(){return i.SelectionManager}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1).Model.extend({defaults:{xStart:-1,xEnd:-1,height:-1,text:"",fillColor:"red",fillOpacity:.5,type:"rectangle",borderSize:1,borderColor:"black",borderOpacity:.5,validate:!0,row:0},initialize:function(t){if(null!=t.start&&this.set("xStart",t.start-1),null!=t.end&&this.set("xEnd",t.end-1),null!=t.attributes&&(null!=t.attributes.Name&&this.set("text",t.attributes.Name),null!=t.attributes.Color&&this.set("fillColor",t.attributes.Color)),this.attributes.xEnd<this.attributes.xStart&&console.warn("invalid feature range for",this.attributes),!_.isNumber(this.attributes.xStart)||!_.isNumber(this.attributes.xEnd))return console.warn("please provide numeric feature ranges",t),this.set("xStart",parseInt(this.attributes.xStart)),this.set("xEnd",parseInt(this.attributes.xEnd))},validate:function(){if(isNaN(this.attributes.xStart||isNaN(this.attributes.xEnd)))return"features need integer start and end."},contains:function(t){return this.attributes.xStart<=t&&t<=this.attributes.xEnd}});e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(36);Object.defineProperty(e,"seq",{enumerable:!0,get:function(){return i(r)["default"]}});var o=n(35);Object.defineProperty(e,"seqcol",{enumerable:!0,get:function(){return i(o)["default"]}});var s=n(50);Object.defineProperty(e,"feature",{enumerable:!0,get:function(){return i(s)["default"]}});var a=n(34);Object.defineProperty(e,"featurecol",{enumerable:!0,get:function(){return i(a)["default"]}})},function(t){"use strict";function e(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=e;var n=Object.prototype.toString},function(e,t){(function(t){e.exports=t}).call(t,{})},function($,U){var K,G,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(a){function l(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}return function(t,e,n,i){e=_(e,i,4);var r=!E(t)&&y.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),l(t,e,n,r,s,o)}}function e(o){return function(t,e,n){e=b(e,n);for(var i=C(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function n(o,s,a){return function(t,e,n){var i=0,r=C(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function z(t){return t instanceof z?t:this instanceof z?void(this._wrapped=t):new z(t)};void 0!==$&&$.exports&&(U=$.exports=y),(U._=y).VERSION="1.8.3";var _=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},q=Math.pow(2,53)-1,C=S("length"),E=function(t){var e=C(t);return"number"==typeof e&&0<=e&&e<=q};y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var r=[];return i=b(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=c.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)n=t[a],o<n&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=b(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(o){return function(n,i,t){var r={};return i=b(i,t),y.each(n,function(t,e){o(r,t,i(t,e,n))}),r}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=b(i,e);var r=[],o=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function W(t,e,n,i){for(var r=[],o=0,s=i||0,a=C(t);s<a;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=W(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=C(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=C(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,C).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=C(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=C(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);return function i(){return D(t,i,e,this,n.concat(c.call(arguments)))}},y.partial=function(r){var o=c.call(arguments,1);return function s(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===y?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return D(r,s,this,this,n)}},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var o=function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var o,s,a,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:y.now(),l=null,a=n.apply(o,s),l||(o=s=null)};return function(){var t=y.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),u=t,a=n.apply(o,s),l||(o=s=null)):l||!1===r.trailing||(l=setTimeout(c,e)),a}},y.debounce=function(e,n,i){var r,o,s,a,l,u=function u(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(u,n-t):(r=null,i||(l=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(u,n)),t&&(l=e.apply(s,o),s=o=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return L&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function V(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=(void 0===t?"undefined":Q(t))||"object"!=(void 0===e?"undefined":Q(e)))return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!V(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!V(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=void 0===t?"undefined":Q(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Q(Int8Array))&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(F),M=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=M(F),y.unescape=M(R),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+N[t]};y.template=function(o,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(j,B),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},K=[],void 0===(G=function(){return y}.apply(U,K))||($.exports=G)}).call(void 0)},function(t,e,n){"use strict";var i=n(22),r=n(23),x=n(42),o=n(41),s=[].slice,a=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,x.extend({silent:!0},e)
)},S={add:!0,remove:!0,merge:!0},l={add:!0,remove:!1};x.extend(a.prototype,i,{model:o,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(t,e){return this.set(t,x.extend({merge:!1},e,l))},remove:function(t,e){var n=!x.isArray(t);e||(e={});for(var i=0,r=(t=n?[t]:x.clone(t)).length;i<r;i++){var o=t[i]=this.get(t[i]);if(o){var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],delete this._byId[o.cid];var a=this.indexOf(o);this.models.splice(a,1),this.length--,e.silent||(e.index=a,o.trigger("remove",o,this,e)),this._removeReference(o,e)}}return n?t[0]:t},set:function(t,e){(e=x.defaults({},e,S)).parse&&(t=this.parse(t,e));var n=!x.isArray(t);t=n?t?[t]:[]:t.slice();for(var i,r,o,s,a,l=e.at,u=this.comparator&&null==l&&!1!==e.sort,c=x.isString(this.comparator)?this.comparator:null,h=[],d=[],f={},p=e.add,g=e.merge,m=e.remove,v=!(u||!p||!m)&&[],y=0,_=t.length;y<_;y++){if(o=t[y],s=this.get(o))m&&(f[s.cid]=!0),g&&o!==s&&(o=this._isModel(o)?o.attributes:o,e.parse&&(o=s.parse(o,e)),s.set(o,e),u&&!a&&s.hasChanged(c)&&(a=!0)),t[y]=s;else if(p){if(!(r=t[y]=this._prepareModel(o,e)))continue;h.push(r),this._addReference(r,e)}(r=s||r)&&(i=this.modelId(r.attributes),!v||!r.isNew()&&f[i]||v.push(r),f[i]=!0)}if(m){for(y=0,_=this.length;y<_;y++)f[(r=this.models[y]).cid]||d.push(r);d.length&&this.remove(d,e)}if(h.length||v&&v.length)if(u&&(a=!0),this.length+=h.length,null!=l)for(y=0,_=h.length;y<_;y++)this.models.splice(l+y,0,h[y]);else{v&&(this.models.length=0);var b=v||h;for(y=0,_=b.length;y<_;y++)this.models.push(b[y])}if(a&&this.sort({silent:!0}),!e.silent){var w=null!=l?x.clone(e):e;for(y=0,_=h.length;y<_;y++)null!=l&&(w.index=l+y),(r=h[y]).trigger("add",r,this,w);(a||v&&v.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,x.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,x.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,x.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(n,t){return x.isEmpty(n)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var e in n)if(n[e]!==t.get(e))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),x.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(x.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return x.invoke(this.models,"get",t)},fetch:function(e){void 0===(e=e?x.clone(e):{}).parse&&(e.parse=!0);var n=e.success,i=this;return e.success=function(t){i[e.reset?"reset":"set"](t,e),n&&n(i,t,e),i.trigger("sync",i,t,e)},wrapError(this,e),this.sync("read",this,e)},create:function(t,n){if(n=n?x.clone(n):{},!(t=this._prepareModel(t,n)))return!1;n.wait||this.add(t,n);var i=this,r=n.success;return n.success=function(t,e){n.wait&&i.add(t,n),r&&r(t,e,n)},t.save(null,n),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;var n=new(((e=e?x.clone(e):{}).collection=this).model)(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_isModel:function(t){return t instanceof o},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});var u=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];x.each(u,function(e){x[e]&&(a.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),x[e].apply(x,t)})});var c=["groupBy","countBy","sortBy","indexBy"];x.each(c,function(i){x[i]&&(a.prototype[i]=function(e,t){var n=x.isFunction(e)?e:function(t){return t.get(e)};return x[i](this.models,n,t)})}),a.extend=r,t.exports=a},function(u,c){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){return{keys:Object.keys||function(t){if("object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++i+"";return t?t+e:e},has:function(t,e){return n.call(t,e)},each:function(t,e,n){if(null!=t)if(s&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)this.has(t,o)&&e.call(n,t[o],o,t)},once:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}}}var e,s=Array.prototype.forEach,n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,i=0,h=t();e={on:function(t,e,n){return d(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function t(e,n,i){if(!d(this,"once",e,[n,i])||!n)return this;var r=this,t=h.once(function(){r.off(e,t),n.apply(this,arguments)});return t._callback=n,this.on(e,t,i)},off:function(t,e,n){var i,r,o,s,a,l,u,c;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=0,l=(s=t?[t]:h.keys(this._events)).length;a<l;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,c=o.length;u<c;u++)r=o[u],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&o(n,e),i&&o(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;for(var o in"object"===(void 0===e?"undefined":f(e))&&(n=this),t&&((i={})[t._listenerId]=t),i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}};var l=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"===(void 0===n?"undefined":f(n))){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},o=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},a={listenTo:"on",listenToOnce:"once"};h.each(a,function(i,t){e[t]=function(t,e,n){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=h.uniqueId("l"))]=t,"object"===(void 0===e?"undefined":f(e))&&(n=this),t[i](e,n,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return h.each(t,function(t){e[t]=this[t]},this),e},void 0!==u&&u.exports&&(c=u.exports=e),c.BackboneEvents=e}()},function(u,c){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){return{keys:Object.keys||function(t){if("object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++i+"";return t?t+e:e},has:function(t,e){return n.call(t,e)},each:function(t,e,n){if(null!=t)if(s&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)this.has(t,o)&&e.call(n,t[o],o,t)},once:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}}}var e,s=Array.prototype.forEach,n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,i=0,h=t();e={on:function(t,e,n){return d(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function t(e,n,i){if(!d(this,"once",e,[n,i])||!n)return this;var r=this,t=h.once(function(){r.off(e,t),n.apply(this,arguments)});return t._callback=n,this.on(e,t,i)},off:function(t,e,n){var i,r,o,s,a,l,u,c;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=0,l=(s=t?[t]:h.keys(this._events)).length;a<l;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,c=o.length;u<c;u++)r=o[u],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&o(n,e),i&&o(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;for(var o in"object"===(void 0===e?"undefined":f(e))&&(n=this),t&&((i={})[t._listenerId]=t),i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}};var l=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"===(void 0===n?"undefined":f(n))){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},o=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},a={listenTo:"on",listenToOnce:"once"};h.each(a,function(i,t){e[t]=function(t,e,n){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=h.uniqueId("l"))]=t,"object"===(void 0===e?"undefined":f(e))&&(n=this),t[i](e,n,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return h.each(t,function(t){e[t]=this[t]},this),e},void 0!==u&&u.exports&&(c=u.exports=e),c.BackboneEvents=e}()},function(t,e,n){"use strict";t.exports=n(57)},function(t,e,n){var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){"use strict";var o={has:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t){for(var e=1;e<arguments.length;++e){var n=arguments[e];if(n)for(var i in n)t[i]=n[i]}return t}};return function(t,e){var n,i=this;n=t&&o.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&o.extend(n.prototype,t),n.__super__=i.prototype,n}},"object"===s(e)?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function($,U){var K,G,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(a){function l(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}return function(t,e,n,i){e=_(e,i,4);var r=!E(t)&&y.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),l(t,e,n,r,s,o)}}function e(o){return function(t,e,n){e=b(e,n);for(var i=C(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function n(o,s,a){return function(t,e,n){var i=0,r=C(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function z(t){return t instanceof z?t:this instanceof z?void(this._wrapped=t):new z(t)};void 0!==$&&$.exports&&(U=$.exports=y),(U._=y).VERSION="1.8.3";var _=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},q=Math.pow(2,53)-1,C=S("length"),E=function(t){var e=C(t);return"number"==typeof e&&0<=e&&e<=q};y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var r=[];return i=b(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=c.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)n=t[a],o<n&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=b(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(o){return function(n,i,t){var r={};return i=b(i,t),y.each(n,function(t,e){o(r,t,i(t,e,n))}),r}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=b(i,e);var r=[],o=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function W(t,e,n,i){for(var r=[],o=0,s=i||0,a=C(t);s<a;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=W(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=C(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=C(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,C).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=C(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=C(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);return function i(){return D(t,i,e,this,n.concat(c.call(arguments)))}},y.partial=function(r){var o=c.call(arguments,1);return function s(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===y?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return D(r,s,this,this,n)}},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var o=function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var o,s,a,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:y.now(),l=null,a=n.apply(o,s),l||(o=s=null)};return function(){var t=y.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),u=t,a=n.apply(o,s),l||(o=s=null)):l||!1===r.trailing||(l=setTimeout(c,e)),a}},y.debounce=function(e,n,i){var r,o,s,a,l,u=function u(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(u,n-t):(r=null,i||(l=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(u,n)),t&&(l=e.apply(s,o),s=o=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return L&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function V(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=(void 0===t?"undefined":Q(t))||"object"!=(void 0===e?"undefined":Q(e)))return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!V(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!V(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=void 0===t?"undefined":Q(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Q(Int8Array))&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(F),M=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=M(F),y.unescape=M(R),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+N[t]};y.template=function(o,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(j,B),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},K=[],void 0===(G=function(){return y}.apply(U,K))||($.exports=G)}).call(void 0)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(11)),f=i(n(24)),o=void 0;e["default"]=o={parse:function(t){var e=[];if("[object Array]"===Object.prototype.toString.call(t))var n=t;else n=t.split("\n");if(!1===n[0].slice(0,6))throw new Error("Invalid CLUSTAL Header");for(var i=0,r=1,o=0;i<n.length;){var s=n[++i];if(null!=s&&0!==s.length)if(0!==s.trim().length){if(!f["default"].contains(s,"*")){1===r&&(r=o=0);var a=/^(?:\s*)(\S+)(?:\s+)(\S+)(?:\s*)(\d*)(?:\s*|$)/g.exec(s);if(null!=a){var l=a[1].trim(),u=a[2].trim();if(o>=e.length){var c=f["default"].getMeta(l.trim());l=c.name;var h=new f["default"].model(u,l,o);h.ids=c.ids||{},h.details=c.details||{};var d=Object.keys(h.ids);0<d.length&&(h.id=h.ids[d[0]]),e.push(h)}else e[o].seq+=u;o++}else console.log("parse error",s)}}else r=1;else r=1}return e.filter(function(t){return-1===t.seq.search(/[:.*]/i)&&-1===t.name.search(/[:.*]/i)})}},r["default"].mixin(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(24)),r=i(n(69)),o=i(n(11)),c=void 0;e["default"]=c={getMeta:u["default"].getMeta,extend:function(t){var e=(0,r["default"])(c);return c.getMeta=t,e},parse:function(t){var e=[];if(!t||0===t.length)return[];"[object Array]"!==Object.prototype.toString.call(t)&&(t=t.split("\n"));for(var n=c.getMeta,i=0;i<t.length;i++){var r=t[i];if(">"===r[0]||";"===r[0]){var o=r.slice(1).trim(),s=n(o.trim());o=s.name;var a=s.id||e.length,l=new u["default"].model("",s.name,a);l.ids=s.ids||{},l.details=s.details||{},e.push(l)}else l.seq+=r}return e},write:function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];null!=e&&(r=e(r)),n+=">"+r.name+"\n",n+=u["default"].splitNChars(r.seq,80).join("\n"),n+="\n"}return n}},o["default"].mixin(c)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(11)),o=i(n(43)),l=i(n(64)),u=function(){};r["default"].mixin(u),(e["default"]=u).parseLines=function(t){var e=t.split("\n"),n={},i=[];n.type=u._guessType(e);var r=0;if("jalview"===n.type){var o=l["default"].readHeader(e);r=o.offset,n.colors=o.colors,i=o.features}for(var s=r;s<e.length;s++){var a=e[s];0!==a.length&&"#"!==a[0]&&(void 0!==(a=u.parseLine(a))&&i.push(a))}return{features:i,config:n}},u._guessType=function(t){return"##gff-version 3"===t[0].substring(0,15)?"gff3":t[0].indexOf("#")<0&&2===t[0].split("\t").length?"jalview":"gff3"},u.parseSeqs=u.parse=function(t){var e=u.parseLines(t),n={};return e.features.forEach(function(t){var e=t.seqname;void 0===n[e]&&(n[e]=[]),delete t.seqname,n[e].push(t)}),delete e.features,e.seqs=n,e},u.parseLine=function(t){var e={},n=t.split(/\s+/);if(1!==n.length){e.seqname=n[0],e.source=n[1],e.feature=n[2],e.start=parseInt(n[3]),e.end=parseInt(n[4]),e.score=n[5],e.strand=n[6],e.frame=n[7];var i=n.slice(8).join(" ");return Object.keys(e).forEach(function(t){"string"==typeof e[t]&&(e[t]=e[t].trim()),"."===e[t]&&(e[t]=void 0)}),e.score&&(e.score=parseFloat(e.score)),e.frame&&(e.frame=parseInt(e.frame)),e.attributes=o["default"].extractKeys(i),e}},u.exportLine=function(e){var t=Object.keys(e.attributes).map(function(t){return t+"="+e.attributes[t]}).join(";"),n=[e.seqname,e.source,e.feature,e.start,e.end,e.score,e.strand,e.frame,t];return(n=n.map(function(t){return void 0===t?".":t})).join("\t")},u.exportLines=function(t){
return"##gff-version 3\n"+t.map(u.exportLine).join("\n")},u.exportSeqs=u["export"]=function(t){var e=[],n=function(t){t.seqname=i,e.push(t)};for(var i in t)t[i].forEach(n);return u.exportLines(e)},u.utils=o["default"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),u={};(e["default"]=u).readHeader=function(t){for(var e,n={},i=0,r=[];i<t.length;i++){var o=t[i];if(0<=o.indexOf("#"))break;var s=o.split(/\t/),a=s[0].trim();if("GFF"===a)break;if(2===s.length)if("startgroup"===a)e=s[1].trim();else{if("endgroup"===a){e="";continue}n[s[0]]=u.parseColor(s[1])}else if(5<=s.length){var l=u.parseLine(s);e&&(l.attributes.Parent=e),r.push(l)}}return{offset:i,colors:n,features:r}},u.parseColor=function(t){return 0<=t.indexOf(",")?(0,i.rgbToHex)(t.split(",").map(function(t){return parseInt(t)})):6===t.length&&parseInt(t.charAt(0),16)<=16&&"bisque"!==t?"#"+t:t},u.parseLine=function(t){var e={attributes:{}};return e.attributes.Name=t[0].trim(),e.seqname=t[1].trim(),e.start=parseInt(t[3]),e.end=parseInt(t[4]),e.feature=t[5].trim(),"ID_NOT_SPECIFIED"===e.seqname&&(e.seqname=t[2].trim()),e}},function(e,t,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(n(11)),o=function e(t){return this.constructor!=e?new e(t):(this.matrix={},this.parsingOrder=[],null!=t&&this.parse(t),this)};r["default"].mixin(o),(e.exports=o).prototype.parse=function(t){return t.split("\n").forEach(function(t){this.parseLine(t)}.bind(this)),this.buildMatrix(),this.matrix},o.read=function(t,e){return(new o).read(t,e)},o.parse=function(t){return(new o).parse(t)},o.prototype.parseLine=function(t){var e=t.charAt(0);if("#"!==e){this.parsingOrder.push(e);for(var n=t.substring(1).split(/\s+/).filter(function(t){return 0<t.length}).map(function(t){return parseInt(t)}),i={},r=0;r<n.length;r++)i[this.parsingOrder[r]]=n[r];this.matrix[e]=i}},o.prototype["export"]=function(){return o["export"](this.matrix)},o["export"]=function(t){var e=[],n=1;for(var i in"matrix"in t&&(t=t.matrix),t){for(var r=i,o=Object.keys(t[i]),s=0;s<n;s++)r+="\t"+t[i][o[s]];e.push(r),n++}return e.join("\n")},o.prototype.buildMatrix=function(){for(var t=this.parsingOrder.length-1;0<=t;t--){var e=this.parsingOrder[t],n=this.matrix[e];for(var i in n)this.matrix[i][e]=n[i]}}},function(t,e){"use strict";function n(t){for(var e=[],n={},i=t.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/),r=0;r<i.length;r++){var o=i[r],s=void 0;switch(o){case"(":s={},n.children=[s],e.push(n),n=s;break;case",":s={},e[e.length-1].children.push(s),n=s;break;case")":n=e.pop();break;case":":break;default:var a=i[r-1];if(")"==a||"("==a||","==a)n.name=o;else if(":"==a)void 0===o||l(o),isNaN(o)||(n.branch_length=parseFloat(o));else if("="==a){switch(i[r-2]){case"D":n.duplication=o;break;case"G":n.gene_id=o;break;case"T":n.taxon_id=o}}}}return n}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.parseNhx=e.parse=void 0;var r=i(n(68)),o=i(n(66)),s={};s.parse=r["default"],s.parseNhx=o["default"],e["default"]=s,e.parse=r["default"],e.parseNhx=o["default"]},function(t,e){"use strict";function n(t){for(var e=[],n={},i=t.split(/\s*(;|\(|\)|,|:)\s*/),r=0;r<i.length;r++){var o=i[r],s=void 0;switch(o){case"(":s={},n.children=[s],e.push(n),n=s;break;case",":s={},e[e.length-1].children.push(s),n=s;break;case")":n=e.pop();break;case":":break;default:var a=i[r-1];")"==a||"("==a||","==a?n.name=o:":"==a&&(n.branch_length=parseFloat(o))}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function s(t,e,n){for(var i=[],r=t<e,o=n?r?e+1:e-1:e,s=t;r?s<o:o<s;r?s++:s--)i.push(s);return i}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){t=t||{};for(var e=s(0,arguments.length,!1),n=0;n<e.length;n++){var i=e[n];if(arguments[i])for(var r=0;r<arguments[i].length;r++){var o=arguments[i][r];arguments[i].hasOwnProperty(o)&&(t[o]=arguments[i][o])}}return t}},function(u,c){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){return{keys:Object.keys||function(t){if("object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var e,n=[];for(e in t)t.hasOwnProperty(e)&&(n[n.length]=e);return n},uniqueId:function(t){var e=++i+"";return t?t+e:e},has:function(t,e){return n.call(t,e)},each:function(t,e,n){if(null!=t)if(s&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)this.has(t,o)&&e.call(n,t[o],o,t)},once:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}}}var e,s=Array.prototype.forEach,n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,i=0,h=t();e={on:function(t,e,n){return d(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function t(e,n,i){if(!d(this,"once",e,[n,i])||!n)return this;var r=this,t=h.once(function(){r.off(e,t),n.apply(this,arguments)});return t._callback=n,this.on(e,t,i)},off:function(t,e,n){var i,r,o,s,a,l,u,c;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=0,l=(s=t?[t]:h.keys(this._events)).length;a<l;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,c=o.length;u<c;u++)r=o[u],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&o(n,e),i&&o(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;for(var o in"object"===(void 0===e?"undefined":f(e))&&(n=this),t&&((i={})[t._listenerId]=t),i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}};var l=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"===(void 0===n?"undefined":f(n))){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},o=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},a={listenTo:"on",listenToOnce:"once"};h.each(a,function(i,t){e[t]=function(t,e,n){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=h.uniqueId("l"))]=t,"object"===(void 0===e?"undefined":f(e))&&(n=this),t[i](e,n,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return h.each(t,function(t){e[t]=this[t]},this),e},void 0!==u&&u.exports&&(c=u.exports=e),c.BackboneEvents=e}()},function(t,e,n){"use strict";t.exports=n(70)},function(t,e,n){"use strict";t.exports.seq=n(73)},function(t){"use strict";t.exports=function(t,e,n){this.seq=t,this.name=e,this.id=n,this.meta={}}},function(t,e,n){"use strict";t.exports=n(81)},function($,U){var K,G,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(a){function l(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}return function(t,e,n,i){e=_(e,i,4);var r=!E(t)&&y.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),l(t,e,n,r,s,o)}}function e(o){return function(t,e,n){e=b(e,n);for(var i=C(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function n(o,s,a){return function(t,e,n){var i=0,r=C(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function z(t){return t instanceof z?t:this instanceof z?void(this._wrapped=t):new z(t)};void 0!==$&&$.exports&&(U=$.exports=y),(U._=y).VERSION="1.8.3";var _=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},q=Math.pow(2,53)-1,C=S("length"),E=function(t){var e=C(t);return"number"==typeof e&&0<=e&&e<=q};y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var r=[];return i=b(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=c.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)n=t[a],o<n&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=b(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(o){return function(n,i,t){var r={};return i=b(i,t),y.each(n,function(t,e){o(r,t,i(t,e,n))}),r}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=b(i,e);var r=[],o=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function W(t,e,n,i){for(var r=[],o=0,s=i||0,a=C(t);s<a;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=W(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=C(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=C(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,C).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=C(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=C(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);return function i(){return D(t,i,e,this,n.concat(c.call(arguments)))}},y.partial=function(r){var o=c.call(arguments,1);return function s(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===y?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return D(r,s,this,this,n)}},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var o=function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var o,s,a,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:y.now(),l=null,a=n.apply(o,s),l||(o=s=null)};return function(){var t=y.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),u=t,a=n.apply(o,s),l||(o=s=null)):l||!1===r.trailing||(l=setTimeout(c,e)),a}},y.debounce=function(e,n,i){var r,o,s,a,l,u=function u(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(u,n-t):(r=null,i||(l=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(u,n)),t&&(l=e.apply(s,o),s=o=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return L&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function V(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=(void 0===t?"undefined":Q(t))||"object"!=(void 0===e?"undefined":Q(e)))return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!V(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!V(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=void 0===t?"undefined":Q(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Q(Int8Array))&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(F),M=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=M(F),y.unescape=M(R),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+N[t]};y.template=function(o,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(j,B),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},K=[],void 0===(G=function(){return y}.apply(U,K))||($.exports=G)}).call(void 0)},function(t){"use strict";t.exports={render_x_axis_label:function(){var t="Model Position";this.display_ali_map&&(t="Alignment Column"),this.called_on.find(".logo_xaxis").remove(),this.called_on.prepend('<div class="logo_xaxis" class="centered" style="margin-left:40px"><p class="xaxis_text" style="width:10em;margin:1em auto">'+t+"</p></div>")},render_y_axis_label:function(){this.dom_element.parent().before('<canvas class="logo_yaxis" height="'+this.options.height+'" width="55"></canvas>');var t=this.called_on.find(".logo_yaxis"),e=(Math.abs(this.data.max_height),isNaN(this.data.min_height_obs)||parseInt(this.data.min_height_obs,10),null),n="Information Content (bits)";(e=t[0].getContext("2d")).beginPath(),e.moveTo(55,1),e.lineTo(40,1),e.moveTo(55,this.info_content_height),e.lineTo(40,this.info_content_height),e.moveTo(55,this.info_content_height/2),e.lineTo(40,this.info_content_height/2),e.lineWidth=1,e.strokeStyle="#666666",e.stroke(),e.fillStyle="#666666",e.textAlign="right",e.font="bold 10px Arial",e.textBaseline="top",e.fillText(parseFloat(this.data.max_height).toFixed(1),38,0),e.textBaseline="middle",e.fillText(parseFloat(this.data.max_height/2).toFixed(1),38,this.info_content_height/2),e.fillText("0",38,this.info_content_height),"score"===this.data.height_calc&&(n="Score (bits)"),e.save(),e.translate(5,this.height/2-20),e.rotate(-Math.PI/2),e.textAlign="center",e.font="normal 12px Arial",e.fillText(n,1,0),e.restore(),e.fillText("occupancy",55,this.info_content_height+7),this.show_inserts&&(e.fillText("ins. prob.",50,280),e.fillText("ins. len.",46,296))}}},function(t){"use strict";var e=null;t.exports=function(){if(!e){var t=document.createElement("canvas");e=!(!t.getContext||!t.getContext("2d"))}return e}},function(t){"use strict";t.exports={A:"#FF9966",C:"#009999",D:"#FF0000",E:"#CC0033",F:"#00FF00",G:"#f2f20c",H:"#660033",I:"#CC9933",K:"#663300",L:"#FF9933",M:"#CC99CC",N:"#336666",P:"#0099FF",Q:"#6666CC",R:"#990000",S:"#0000FF",T:"#00FFFF",V:"#FFCC33",W:"#66CC66",Y:"#006600"}},function(t){"use strict";t.exports={A:"#cbf751",C:"#5ec0cc",G:"#ffdf59",T:"#b51f16",U:"#b51f16"}},function(t,e,n){"use strict";var i=n(5);t.exports=function(e,n,t){e.find(".logo_settings_switch, .logo_settings .close").on("click",function(t){t.preventDefault(),i(".logo_settings").toggle()}),e.find(".logo_reset").on("click",function(t){t.preventDefault(),n.changeZoom({target:n.default_zoom})}),e.find(".logo_change").on("click",function(t){t.preventDefault()}),e.find(".logo_zoomin").on("click",function(t){t.preventDefault(),n.changeZoom({distance:.1,direction:"+"})}),e.find(".logo_zoomout").on("click",function(t){t.preventDefault(),n.changeZoom({distance:.1,direction:"-"})}),e.find(".logo_scale").on("change",function(){n.toggleScale(this.value)}),e.find(".logo_color").on("change",function(){n.toggleColorscheme(this.value)}),e.find(".logo_ali_map").on("change",function(){n.toggleAliMap(this.value)}),e.find(".logo_position").on("change",function(){this.value.match(/^\d+$/m)&&n.scrollToColumn(this.value,1)}),t.on("dblclick",function(t){console.log("dblclick",n),offset=n.logo_graphic.offset(),x=parseInt(t.pageX-offset.left,10),window_position=t.pageX-e.parent().offset().left,col=n.columnFromCoordinates(x),console.log("col",col),current=n.zoom,current<1?n.changeZoom({target:1,offset:window_position,column:col}):n.changeZoom({target:.3,offset:window_position,column:col})}),i(document).on(e.attr("id")+".scrolledTo",function(t,e){n.render({target:e})}),i(document).on("keydown",function(t){t.ctrlKey||(61!==t.which&&107!==t.which||(zoom+=.1,n.changeZoom({distance:.1,direction:"+"})),109!==t.which&&0!==t.which||(zoom-=.1,n.changeZoom({distance:.1,direction:"-"})))})}},function(t,e,n){"use strict";_=n(75);var i=n(77),r=n(84),o=n(83),s=n(2),a=n(76),l=n(80),u=n(82),c=n(5);t.exports=s.extend({options:{xaxis:!0,yaxis:!0,height:300,column_width:34,debug:!0,scale_height_enabled:!0,scaled_max:!0,zoom_buttons:!0,colorscheme:"default",data:void 0,start:1,end:void 0,zoom:.4,colors:void 0,divider:!1,show_probs:!1,divider_step:5,show_divider:!1,border:!1,settings:!1,scroller:!0,positionMarker:!0},loadDefault:function(t){this.data=t.data,this.display_ali_map=0,this.alphabet=t.data.alphabet||"dna",this.start=t.start,this.zoom=parseFloat(t.zoom)||.4,this.default_zoom=this.zoom,this.column_width=t.column_width,this.height=t.height,this.canvas_width=5e3,this.scale_height_enabled=t.scale_height_enabled,this.scrollme=null,this.previous_target=0,this.rendered=[],this.previous_zoom=0,null==this.data.max_height&&(this.data.max_height=this.calcMaxHeight(this.data.heightArr)),this.data.insert_probs&&this.data.delete_probs||(this.options.show_probs=!1),t.scaled_max?this.data.max_height=t.data.max_height_obs||this.data.max_height||2:this.data.max_height=t.data.max_height_theory||this.data.max_height||2,t.colors?this.changeColors(t.colors):"aa"===this.alphabet?(this.aa_colors=n(78),this.changeColors(this.aa_colors)):(this.dna_colors=n(79),this.changeColors(this.dna_colors))},initialize:function(t){if(i()){null==t.data&&(this.el.textContent="No data added."),_.extend(this.options,t);var e=this.options;if(this.loadDefault(e),this.options.show_probs?this.data.processing&&/^observed|weighted/.test(this.data.processing)?(this.show_inserts=0,this.info_content_height=this.height-14):(this.show_inserts=1,this.info_content_height=this.height-44):this.info_content_height=this.height,this.$el=c(this.el),this.initDivs(),this.options.settings){var n=u(this,e);this.$el.append(n)}l(this.$el,this,this.logo_graphic)}else this.el.textContent="Your browser doesn't support canvas."},initDivs:function(){var t=h("div");t.className="logo_graphic",this.logo_graphic=c(t);var e=h("div");if(e.className="logo_container",e.style.height=this.height,this.container=c(e),this.container.append(t),this.$el.append(e),this.options.divider){var n=h("div");n.className="logo_divider",this.$el.append(n)}this.dom_element=c(t),this.called_on=this.$el,this.options.xaxis&&a.render_x_axis_label.call(this),this.options.yaxis?a.render_y_axis_label.call(this):this.container[0].style.marginLeft="0px"},render:function(){return r.call(this),this},changeColors:function(t){null!=(this.colors=t)&&null!=t.type&&(this.colorscheme="dynamic"),this.buildAlphabet()},buildAlphabet:function(){this.letters={};var e=this.colors;if("dynamic"==this.colorscheme){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");e={},t.forEach(function(t){e[t]=""})}for(var n in e)if(e.hasOwnProperty(n)){var i={color:e[n]};this.letters[n]=new o(n,i)}},toggleColorscheme:function(t){var e=this.currentColumn();t?this.colorscheme="default"===t?"default":"consensus":"default"===this.colorscheme?this.colorscheme="consensus":this.colorscheme="default",this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},toggleScale:function(t){var e=this.currentColumn();t?this.data.max_height="obs"===t?this.data.max_height_obs:this.data.max_height_theory:this.data.max_height===this.data.max_height_obs?this.data.max_height=this.data.max_height_theory:this.data.max_height=this.data.max_height_obs,this.rendered=[],this.logoYAxis&&this.logoYAxis.remove(),a.render_y_axis_label.call(this),this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},toggleAliMap:function(t){var e=this.currentColumn();t?this.display_ali_map="model"===t?0:1:1===this.display_ali_map?this.display_ali_map=0:this.display_ali_map=1,a.render_x_axis_label(this),this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e)},currentColumn:function(){var t=this.scrollme.scroller.getValues().left,e=this.column_width*this.zoom,n=t/e,i=this.container.width()/e/2;return Math.ceil(n+i)},changeZoom:function(t){var e=.3;if(t.target?e=t.target:t.distance&&(e=(parseFloat(this.zoom)-parseFloat(t.distance)).toFixed(1),"+"===t.direction&&(e=(parseFloat(this.zoom)+parseFloat(t.distance)).toFixed(1))),1<e?e=1:e<.1&&(e=.1),this.logo_graphic.width()*e/this.zoom>this.container.width())if(t.column){this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow();var n=this.coordinatesFromColumn(t.column);this.scrollme.scroller.scrollTo(n-t.offset)}else{var i=this.currentColumn();this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow(),this.scrollToColumn(i)}return this.zoom},columnFromCoordinates:function(t){return Math.ceil(t/(this.column_width*this.zoom))},coordinatesFromColumn:function(t){return(t-1)*(this.column_width*this.zoom)+this.column_width*this.zoom/2},scrollToColumn:function(t,e){var n=this.logo_container.width()/2,i=this.coordinatesFromColumn(t)
;this.scrollme.scroller.scrollTo(i-n,0,e)},calcMaxHeight:function(t){return t.reduce(function(t,e){var n=0;for(var i in e)n+=e[i];return t<n?n:t},0)}});var h=function(t){return document.createElement(t)}},function(t,e,n){"use strict";var b=n(5);t.exports=function(t,e){var n=b('<form class="logo_form"><fieldset><label for="position">Column number</label><input type="text" name="position" class="logo_position"></input><button class="button logo_change">Go</button></fieldset></form>'),i=b('<div class="logo_settings"></div>');if(i.append('<span class="close">x</span>'),t.scale_height_enabled&&t.data.max_height_obs<t.data.max_height_theory){var r="",o="",s="",a="";t.data.max_height_obs===t.data.max_height?r="checked":o="checked"}var l='<fieldset><legend>Scale</legend><label><input type="radio" name="scale" class="logo_scale" value="obs" '+r+"/>Maximum Observed "+a+'</label></br><label><input type="radio" name="scale" class="logo_scale" value="theory" '+o+"/>Maximum Theoretical "+s+"</label></fieldset>";if(i.append(l),"score"!==t.data.height_calc&&"aa"===t.data.alphabet&&t.data.probs_arr){var u=null,c=null,h="",d="";"default"===t.colorscheme?u="checked":c="checked",e.help&&(h='<a class="help" href="/help#colors_default" title="Each letter receives its own color."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>',d='<a class="help" href="/help#colors_consensus" title="Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>');var f='<fieldset><legend>Color Scheme</legend><label><input type="radio" name="color" class="logo_color" value="default" '+u+"/>Default "+h+'</label></br><label><input type="radio" name="color" class="logo_color" value="consensus" '+c+"/>Consensus Colors "+d+"</label></fieldset>";i.append(f)}if(t.data.ali_map){var p=null,g=null,m="",v="";0===t.display_ali_map?p="checked":g="checked",e.help&&(m='<a class="help" href="/help#coords_model" title="The coordinates along the top of the plot show the model position."><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>',v='<a class="help" href="/help#coords_ali" title="The coordinates along the top of the plot show the column in the alignment associated with the model"><span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>');var y='<fieldset><legend>Coordinates</legend><label><input type="radio" name="coords" class="logo_ali_map" value="model" '+p+"/>Model "+m+'</label></br><label><input type="radio" name="coords" class="logo_ali_map" value="alignment" '+g+"/>Alignment "+v+"</label></fieldset>";i.append(y)}var _=b('<div class="logo_controls"></div>');return t.zoom_enabled&&_.append('<button class="logo_zoomout button">-</button><button class="logo_zoomin button">+</button>'),0<i.children().length&&(_.append('<button class="logo_settings_switch button">Settings</button>'),_.append(i)),n.append(_),n}},function(t){"use strict";t.exports=function(t,e){e=e||{},this.value=t,this.width=parseInt(e.width,10)||100,"W"===this.value&&(this.width+=30*this.width/100),this.height=parseInt(e.height,10)||100,this.color=e.color||"#000000",this.fontSize=e.fontSize||138,this.scaled=function(){},this.draw=function(t,e,n,i,r,o){var s=e/this.height,a=n/this.width,l=t.font;t.transform(a,0,0,s,i,r),t.fillStyle=o||this.color,t.textAlign="center",t.font="bold "+this.fontSize+"px Arial",t.fillText(this.value,0,0),t.setTransform(1,0,0,1,0,0),t.fillStyle="#000000",t.font=l}}},function(t,e,n){"use strict";function g(t,e,n,i,r){var o=s(t).find("#canv_"+i);return o.length||(s(t).append('<canvas class="canvas_logo" id="canv_'+i+'"  height="'+e+'" width="'+n+'" style="left:'+r*i+'px"></canvas>'),o=s(t).find("#canv_"+i)),s(o).attr("width",n).attr("height",e),o[0]}var m=n(86),v=n(85),s=n(5);t.exports=function(t){if(this.data){var e=(t=t||{}).zoom||this.zoom,n=t.target||1,i=(t.scaled,this.dom_element.parent().attr("width")),r=1,o=null,s=null,a=0;if(this.previous_target=n,t.start&&(this.start=t.start),t.end&&(this.end=t.end),e<=.1?e=.1:1<=e&&(e=1),this.zoom=e,o=this.end||this.data.heightArr.length,s=this.start||1,s=1<(s=(o=(o=o>this.data.heightArr.length?this.data.heightArr.length:o)<s?s:o)<s?o:s)?s:1,this.y=this.height-20,this.max_width=this.column_width*(o-s+1),i>this.max_width&&(e=1,this.zoom_enabled=!1),this.zoom=e,this.zoomed_column=this.column_width*e,this.total_width=this.zoomed_column*(o-s+1),e<1)for(;this.total_width<i&&(this.zoom+=.1,this.zoomed_column=this.column_width*this.zoom,this.total_width=this.zoomed_column*(o-s+1),this.zoom_enabled=!1,!(1<=e)););n>this.total_width&&(n=this.total_width),this.dom_element.attr({width:this.total_width+"px"}).css({width:this.total_width+"px"}),this.canvas_width=this.total_width;var l=Math.ceil(this.total_width/this.canvas_width);for(this.columns_per_canvas=Math.ceil(this.canvas_width/this.zoomed_column),this.previous_zoom!==this.zoom&&(this.dom_element.find("canvas").remove(),this.previous_zoom=this.zoom,this.rendered=[]),this.canvases=[],this.contexts=[],a=0;a<l;a++){var u=this.columns_per_canvas*a+s,c=u+this.columns_per_canvas-1;o<c&&(c=o);var h=(c-u+1)*this.zoomed_column;r<h&&(r=h);var d=r*a,f=d+h;if(n<f+f/2&&d-d/2<n)if(this.canvases[a]=g(this.dom_element,this.height,h,a,r),this.contexts[a]=this.canvases[a].getContext("2d"),this.contexts[a].setTransform(1,0,0,1,0,0),this.contexts[a].clearRect(0,0,h,this.height),this.contexts[a].fillStyle="#ffffff",this.contexts[a].fillRect(0,0,f,this.height),12<this.zoomed_column){var p=parseInt(10*e,10);p=10<p?10:p,this.debug&&v.call(this,u,c,a,1),m.call(this,u,c,a,p)}else v.call(this,u,c,a)}!this.scrollme&&this.options.scroller&&(this.scrollme=new EasyScroller(this.dom_element[0],{scrollingX:1,scrollingY:0,eventTarget:this.called_on})),1!==n&&this.scrollme.reflow()}}},function(t,e,n){"use strict";function b(t,e,n,i,r,o,s,a){var l="#ffffff";a?(.1<r?l="#d7301f":.05<r?l="#fc8d59":.03<r&&(l="#fdcc8a"),t.fillStyle=l,t.fillRect(e,n+15,i,10),l="#ffffff",9<o?l="#d7301f":7<o?l="#fc8d59":4<o&&(l="#fdcc8a"),t.fillStyle=l,t.fillRect(e,n+30,i,10)):n+=30,l="#ffffff",s<.75?l="#2171b5":s<.85?l="#6baed6":s<.95&&(l="#bdd7e7"),t.fillStyle=l,t.fillRect(e,n,i,10)}var w=n(44),x=n(46),S=n(45);t.exports=function(t,e,n,i){var r=0,o=t,s=null,a=0,l=Math.abs(this.data.max_height)+Math.abs(this.data.min_height_obs),u=Math.round(100*Math.abs(this.data.max_height)/l),c=(Math.round(this.info_content_height*u/100),this.info_content_height,10);for(a=t;a<=e;a++){if(this.data.mmline&&1===this.data.mmline[a-1])this.contexts[n].fillStyle="#cccccc",this.contexts[n].fillRect(r,10,this.zoomed_column,this.height-40);else{var h=this.data.heightArr[a-1],d=0,f=(h.length,0);for(var f in h){var p=[f,h[f]];if(.01<p[1]){var g=parseFloat(p[1])/this.data.max_height,m=r,v=(this.info_content_height-2)*g,y=this.info_content_height-2-d-v,_=null;_="dynamic"===this.colorscheme?this.colors.getColor(p[0],{pos:a-1}):"consensus"===this.colorscheme?this.cmap[a-1][p[0]]||"#7a7a7a":this.colors[p[0]],i?(this.contexts[n].strokeStyle=_,this.contexts[n].strokeRect(m,y,this.zoomed_column,v)):(this.contexts[n].fillStyle=_,this.contexts[n].fillRect(m,y,this.zoomed_column,v)),d+=v}}}this.zoom<.2?c=20:this.zoom<.3&&(c=10),this.options.positionMarker&&a%c==0&&(this.options.show_probs&&x(this.contexts[n],r+this.zoomed_column,this.height-30,parseFloat(this.height),"#dddddd"),x(this.contexts[n],r+this.zoomed_column,0,5),s=this.display_ali_map?this.data.ali_map[a-1]:o,S(this.contexts[n],r-2,10,this.zoomed_column,s,10,!0)),this.options.show_probs&&b(this.contexts[n],r,this.height-42,this.zoomed_column,this.data.insert_probs[a-1],this.data.insert_lengths[a-1],this.data.delete_probs[a-1],this.show_inserts),this.options.show_probs&&(this.show_inserts?w(this.contexts[n],this.height-45,this.total_width):w(this.contexts[n],this.height-15,this.total_width)),this.options.border&&w(this.contexts[n],0,this.total_width),r+=this.zoomed_column,o++}}},function(t,e,n){"use strict";function S(t,e,n,i,r,o,s){var a=n-4,l="#ffffff",u="#555555";s&&(a=n-35),r<.75?(l="#2171b5",u="#ffffff"):r<.85?l="#6baed6":r<.95&&(l="#bdd7e7"),c(t,e,a,r,o,i,l,u)}function c(t,e,n,i,r,o,s,a){t.font=r+"px Arial",t.fillStyle=s,t.fillRect(e,n-10,o,14),t.textAlign="center",t.fillStyle=a,t.fillText(i,e+o/2,n)}function q(t,e){var n=e.ralign?e.x+t.zoomed_column:e.x,i=e.ralign?e.x+2:e.x;T(t.contexts[e.context_num],n,t.height-30,-30-t.height,"#dddddd"),T(t.contexts[e.context_num],n,0,5),r(t.contexts[e.context_num],i,10,t.zoomed_column,e.column_num,e.fontsize,e.ralign)}function C(t,e,n,i,r,o){var s="#ffffff",a="#555555";.1<r?(s="#d7301f",a="#ffffff"):.05<r?s="#fc8d59":.03<r&&(s="#fdcc8a"),c(t,e,n-20,r,o,i,s,a),.03<r&&T(t,e+i,n-30,-30-n,s)}function E(t,e,n,i,r,o){var s="#ffffff",a="#555555";9<r?(s="#d7301f",a="#ffffff"):7<r?s="#fc8d59":4<r&&(s="#fdcc8a"),c(t,e,n,r,o,i,s,a)}var k=n(44),T=n(46),r=n(45);t.exports=function(t,e,n,i){var r=0,o=t,s=null,a=0,l=Math.abs(this.data.max_height),u=isNaN(this.data.min_height_obs)?0:parseInt(this.data.min_height_obs,10),c=l+Math.abs(u),h=Math.round(100*Math.abs(this.data.max_height)/c),d=Math.round(this.info_content_height*h/100);this.info_content_height;for(this.info_content_height,this.info_content_height,e+3<=this.end&&(e+=3),a=t;a<=e;a++){if(this.data.mmline&&1===this.data.mmline[a-1])this.contexts[n].fillStyle="#cccccc",this.contexts[n].fillRect(r,10,this.zoomed_column,this.height-40);else{var f=this.data.heightArr[a-1],p=[];if(f){var g=0,m=(f.length,0),v=null;for(var m in f){var y=[m,f[m]],_=r+this.zoomed_column/2,b=null;if(.01<y[1]){b=parseFloat(y[1])/this.data.max_height;var w=this.info_content_height-2-g,x=(this.info_content_height-2)*b;p[m]=[x,this.zoomed_column,_,w],g+=x}}for(var m in f)p[m]&&this.letters[m]&&(v="dynamic"===this.colorscheme?this.colors.getColor(m,{pos:a-1}):"consensus"===this.colorscheme?this.cmap[a-1][m]||"#7a7a7a":null,this.letters[m].draw(this.contexts[n],p[m][0],p[m][1],p[m][2],p[m][3],v))}}s=this.display_ali_map?this.data.ali_map[a-1]:o,this.options.show_divider&&(this.zoom<.7?a%this.options.divider_step==0&&q(this,{context_num:n,x:r,fontsize:10,column_num:s,ralign:!0}):q(this,{context_num:n,x:r,fontsize:i,column_num:s})),this.options.show_probs&&(S(this.contexts[n],r,this.height,this.zoomed_column,this.data.delete_probs[a-1],i,this.show_inserts),T(this.contexts[n],r,this.height-15,5),this.show_inserts&&(C(this.contexts[n],r,this.height,this.zoomed_column,this.data.insert_probs[a-1],i),E(this.contexts[n],r,this.height-5,this.zoomed_column,this.data.insert_lengths[a-1],i),T(this.contexts[n],r,this.height-45,5),T(this.contexts[n],r,this.height-30,5))),r+=this.zoomed_column,o++}this.options.show_probs&&(this.show_inserts&&(k(this.contexts[n],this.height-30,this.total_width),k(this.contexts[n],this.height-45,this.total_width)),k(this.contexts[n],this.height-15,this.total_width)),this.options.border&&k(this.contexts[n],0,this.total_width)}},function(t){"use strict";var i=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,a=window.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),l=a&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),u=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=(a||u)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(t){var e,n,i,r,o,s;for(e=0<=t.split(",")[0].indexOf("base64")?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r+=1)i[r]=e.charCodeAt(r);return o=t.split(",")[0].split(":")[1].split(";")[0],a?new Blob([l?i:n],{type:o}):((s=new u).append(n),s.getBlob(o))};window.HTMLCanvasElement&&!i.toBlob&&(i.mozGetAsFile?i.toBlob=function(t,e,n){t(n&&i.toDataURL&&r?r(this.toDataURL(e,n)):this.mozGetAsFile("blob",e))}:i.toDataURL&&r&&(i.toBlob=function(t,e,n){t(r(this.toDataURL(e,n)))})),t.exports=r},function(t,e,n){(function(t){"use strict";var e=e||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(f){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var n=f.document,p=function(){return f.URL||f.webkitURL||f},g=n.createElementNS("http://www.w3.org/1999/xhtml","a"),m=!f.externalHost&&"download"in g,v=function(t){var e=n.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,f,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)},y=f.webkitRequestFileSystem,_=f.requestFileSystem||y||f.mozRequestFileSystem,o=function(t){(f.setImmediate||f.setTimeout)(function(){throw t},0)},b="application/octet-stream",w=0,x=[],t=function(){for(var t=x.length;t--;){var e=x[t];"string"==typeof e?p().revokeObjectURL(e):e.remove()}x.length=0},S=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){o(t)}}},i=function(i,n){var t,r,e,o=this,s=i.type,a=!1,l=function(){var t=p().createObjectURL(i);return x.push(t),t},u=function(){S(o,"writestart progress write writeend".split(" "))},c=function(){!a&&t||(t=l(i)),r?r.location.href=t:window.open(t,"_blank"),o.readyState=o.DONE,u()},h=function(t){return function(){if(o.readyState!==o.DONE)return t.apply(this,arguments)}},d={create:!0,exclusive:!1};return o.readyState=o.INIT,n||(n="download"),m?(t=l(i),g.href=t,g.download=n,v(g),o.readyState=o.DONE,void u()):(f.chrome&&s&&s!==b&&(e=i.slice||i.webkitSlice,i=e.call(i,0,i.size,b),a=!0),y&&"download"!==n&&(n+=".download"),(s===b||y)&&(r=f),_?(w+=i.size,void _(f.TEMPORARY,w,h(function(t){t.root.getDirectory("saved",d,h(function(t){var e=function(){t.getFile(n,d,h(function(n){n.createWriter(h(function(e){e.onwriteend=function(t){r.location.href=n.toURL(),x.push(n),o.readyState=o.DONE,S(o,"writeend",t)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&c()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=o["on"+t]}),e.write(i),o.abort=function(){e.abort(),o.readyState=o.DONE},o.readyState=o.WRITING}),c)}),c)};t.getFile(n,{create:!1},h(function(t){t.remove(),e()}),h(function(t){t.code===t.NOT_FOUND_ERR?e():c()}))}),c)}),c)):void c())},e=i.prototype,r=function(t,e){return new i(t,e)};return e.abort=function(){var t=this;t.readyState=t.DONE,S(t,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,f.addEventListener("unload",t,!1),r.unload=function(){t(),f.removeEventListener("unload",t,!1)},r}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content),n=window.define;void 0===n&&"undefined"!=typeof window.almond&&"define"in window.almond&&(n=window.almond.define),null!=t?t.exports=e:null!=n&&null!=n.amd&&n("saveAs",[],function(){return e})}).call(e,n(20)(t))},function(t){"use strict";t.exports=function(){var s=[];return s.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&n[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),s.push(o))}},s}},function(t,e){"use strict";!function(){function i(t,e){if(!(this instanceof i))return new i(t,e);this.domain=[],this.range=[],Array.isArray(t)&&(this.domain=t),Array.isArray(e)&&(this.range=e);var n=function(t){if("number"!=typeof t)return null;var e=this.domain[0],n=this.domain[1],i=this.range[0],r=this.range[1];return"number"!==i&&"number"!=typeof r&&(i=e,r=n),i+(r-i)/(n-e)*(t-e)}.bind(this);return n.domain=function(t){return Array.isArray(t)&&(this.domain=t),n}.bind(this),n.range=function(t){return Array.isArray(t)&&(this.range=t),n}.bind(this),n}void 0!==t&&t.exports&&(e=t.exports=i),e.LinearScale=i}()},function(t){"use strict";t.exports={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"}},function(t){"use strict";t.exports={A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"}},function(t){"use strict";t.exports={A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"}},function(t){"use strict";t.exports={A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"}},function(t){"use strict";t.exports={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"}},function(t){"use strict";t.exports={A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"}},function(t,e,n){"use strict";function i(t){if(null==t||"object"!=(void 0===t?"undefined":r(t)))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(103),s=o.stat,a=o.dyn,l=n(91),u=n(92),c=n(93),h=n(94),d=n(95),f=n(96),p=n(98),g=n(99),m=n(100),v=n(102),y=n(104),_=n(105),b=n(106),w={buried:l,buried_index:l,cinema:u,clustal2:h,clustal:c,helix:d,helix_propensity:d,hydro:f,lesk:p,mae:g,nucleotide:m,purine:v,purine_pyrimidine:v,strand:y,strand_propensity:y,taylor:_,turn:b,turn_propensity:b,zappo:n(107)},x={pid:n(101)},S=function(t){this.maps=i(w),this.dyn=i(x),this.opt=t};(t.exports=S).getScheme=function(t){return w[t]},S.prototype.getScheme=function(t){var e=this.maps[t];return void 0===e&&(e={},null!=this.dyn[t])?new a(this.dyn[t],this.opt):new s(e)},S.prototype.addStaticScheme=function(t,e){this.maps[t]=e},S.prototype.addDynScheme=function(t,e){this.dyn[t]=e}},function(t){"use strict";t.exports={A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"}},function(t){"use strict";t.exports={A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"}},function(t){"use strict";t.exports={A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"}},function(t){"use strict";var e;t.exports=e={},e.init=function(){this.cons=this.opt.conservation()},e.run=function(t,e){var n=this.cons[e.pos];return.8<n?"#6464ff":.6<n?"#9da5ff":.4<n?"#cccccc":"#ffffff"}},function(t){"use strict";t.exports={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"}},function(t){"use strict";var e=function(t){this.defaultColor="#ffffff",this.type="static",this.map=t,this.getColor=function(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}},n=function(t,e){this.type="dyn",this.opt=e,void 0!==t.init?(t.init.call(this),this.getColor=t.run,this.reset=t.init):this.getColor=t};t.exports.stat=e,t.exports.dyn=n},function(t){"use strict";t.exports={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"}},function(t){"use strict";t.exports={A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"}},function(t){"use strict";t.exports={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"}},function(t){"use strict";t.exports={A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},function($,U){var K,G,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(a){function l(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}return function(t,e,n,i){e=_(e,i,4);var r=!E(t)&&y.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),l(t,e,n,r,s,o)}}function e(o){return function(t,e,n){e=b(e,n);for(var i=C(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function n(o,s,a){return function(t,e,n){var i=0,r=C(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,i,r),y.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}function i(t,e){var n=I.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function z(t){return t instanceof z?t:this instanceof z?void(this._wrapped=t):new z(t)};void 0!==$&&$.exports&&(U=$.exports=y),(U._=y).VERSION="1.8.3";var _=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var w=function(l,u){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=i[a])}return t}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},q=Math.pow(2,53)-1,C=S("length"),E=function(t){var e=C(t);return"number"==typeof e&&0<=e&&e<=q};y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var r=[];return i=b(i,e),y.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=c.call(arguments,2),r=y.isFunction(n);return y.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)n=t[a],o<n&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,l=(t=E(t)?t:y.values(t)).length;a<l;a++)(n=t[a])<o&&(o=n);else i=b(i,e),y.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=b(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(o){return function(n,i,t){var r={};return i=b(i,t),y.each(n,function(t,e){o(r,t,i(t,e,n))}),r}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=b(i,e);var r=[],o=[];return y.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function W(t,e,n,i){for(var r=[],o=0,s=i||0,a=C(t);s<a;s++){var l=t[s];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=W(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],s=0,a=C(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=C(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,C).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=C(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=b(n,i,1))(e),o=0,s=C(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);return function i(){return D(t,i,e,this,n.concat(c.call(arguments)))}},y.partial=function(r){var o=c.call(arguments,1);return function s(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===y?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return D(r,s,this,this,n)}},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,r){var o=function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,r){var o,s,a,l=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:y.now(),l=null,a=n.apply(o,s),l||(o=s=null)};return function(){var t=y.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return o=this,s=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),u=t,a=n.apply(o,s),l||(o=s=null)):l||!1===r.trailing||(l=setTimeout(c,e)),a}},y.debounce=function(e,n,i){var r,o,s,a,l,u=function u(){var t=y.now()-a;t<n&&0<=t?r=setTimeout(u,n-t):(r=null,i||(l=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=y.now();var t=i&&!r;return r||(r=setTimeout(u,n)),t&&(l=e.apply(s,o),s=o=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return L&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),
y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function V(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=(void 0===t?"undefined":Q(t))||"object"!=(void 0===e?"undefined":Q(e)))return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!V(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!V(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=void 0===t?"undefined":Q(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Q(Int8Array))&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(F),M=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=M(F),y.unescape=M(R),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var P=0;y.uniqueId=function(t){var e=++P+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+N[t]};y.template=function(o,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(j,B),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var r=function(t){return i.call(this,t,y)},l=t.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},K=[],void 0===(G=function(){return y}.apply(U,K))||($.exports=G)}).call(void 0)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.io=e.$=e.boneView=e.view=e.selcol=e.selection=e.utils=e.menu=e.model=e.msa=void 0;var o=n(8);Object.defineProperty(e,"selection",{enumerable:!0,get:function(){return r(o)["default"]}});var s=n(9);Object.defineProperty(e,"selcol",{enumerable:!0,get:function(){return r(s)["default"]}});var a=n(2);Object.defineProperty(e,"view",{enumerable:!0,get:function(){return r(a)["default"]}});var l=n(4);Object.defineProperty(e,"boneView",{enumerable:!0,get:function(){return r(l)["default"]}});var u=n(5);Object.defineProperty(e,"$",{enumerable:!0,get:function(){return r(u)["default"]}});var c=r(n(124)),h=i(n(51)),d=i(n(111)),f=i(n(37)),p=n(10),g=function(){var t=function(t){return c["default"].apply(this,t)};return t.prototype=c["default"].prototype,new t(arguments)};e["default"]=g,e.msa=c["default"],e.model=h,e.menu=d,e.utils=f;var m={xhr:n(21),fasta:p.fasta,clustal:p.clustal,gff:p.gff};e.io=m;var v="imported";e.version=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(120)),o=i(n(118)),s=i(n(122)),a=i(n(123)),l=i(n(114)),u=i(n(121)),c=i(n(117)),h=i(n(116)),d=i(n(119)),f=i(n(115)),p=i(n(113)),g=n(4).extend({initialize:function(t){if(!t.msa)throw new Error("No msa instance provided. Please provide .msa");if(this.msa=t.msa,this.msa.g.menuconfig=new p["default"](t.menu),this.addView("10_import",new r["default"]({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("15_ordering",new u["default"]({model:this.msa.seqs,g:this.msa.g})),this.addView("20_filter",new o["default"]({model:this.msa.seqs,g:this.msa.g})),this.addView("30_selection",new s["default"]({model:this.msa.seqs,g:this.msa.g})),this.addView("40_vis",new a["default"]({model:this.msa.seqs,g:this.msa.g})),this.addView("50_color",new l["default"]({model:this.msa.seqs,g:this.msa.g})),this.addView("70_extra",new c["default"]({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("80_export",new h["default"]({model:this.msa.seqs,g:this.msa.g,msa:this.msa})),this.addView("90_help",new d["default"]({g:this.msa.g})),this.msa.g.config.get("debug"))return this.addView("95_debug",new f["default"]({g:this.msa.g}))},render:function(){return this.renderSubviews(),this.el.setAttribute("class","smenubar"),this.el.appendChild(document.createElement("p"))}});e["default"]=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(110);Object.defineProperty(e,"defaultmenu",{enumerable:!0,get:function(){return i(r)["default"]}});var o=n(6);Object.defineProperty(e,"menubuilder",{enumerable:!0,get:function(){return i(o)["default"]}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=n(5),i=n(2).extend({initialize:function(t){this._nodes=[],this.name=t.name||"",this.el.className+="smenubar"},render:function(){for(var t=this.el.firstChild;t;)this.el.removeChild(t),t=this.el.firstChild;this.el.appendChild(this.buildDOM())},setName:function(t){this.name=t},addNode:function(t,e,n){var i=void 0;null!=n&&(i=n.style),null==this._nodes&&(this._nodes=[]),this._nodes.push({label:t,callback:e,style:i})},getNode:function(e){var n=void 0;return this._nodes.forEach(function(t){t.label===e&&(n=t)}),n},modifyNode:function(t,e,n){var i=this.getNode(t);i.callback=e||i.callback,n=n||{},i.style=n.style||i.style},renameNode:function(t,e){var n=this.getNode(t);n.label=e||n.label},removeNode:function(t){var e=this.getNode(t);this._nodes.splice(this._nodes.indexOf(e),1)},removeAllNodes:function(){this._nodes=[]},buildDOM:function(){var t=document.createElement("span");return t.appendChild(this._buildM({nodes:this._nodes,name:this.name})),t},_buildM:function(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,l=t.nodes,u=t.name,c=document.createElement("div");c.className="smenu-dropdown smenu-dropdown-tip",c.style.display="none";var h,d=document.createElement("ul");d.className="smenu-dropdown-menu";for(var f=0,p=l.length;f<p;f++){for(i in o=l[f],(r=document.createElement("li")).textContent=o.label,a=o.style)s=a[i],r.style[i]=s;r.addEventListener("click",o.callback),this.trigger("new:node",r),d.appendChild(r)}return this.trigger("new:menu",d),c.appendChild(d),(e=document.createElement("a")).textContent=u,e.className="smenubar_alink",this.trigger("new:button",e),g(e).on("click",(h=this,function(t){return h._showMenu(t,c,e),window.setTimeout(function(){return g(document.body).one("click",function(){return c.style.display="none"})},5)})),(n=document.createDocumentFragment()).appendChild(c),n.appendChild(e),n},_showMenu:function(t,e,n){e.style.display="block",e.style.position="absolute",n.getBoundingClientRect()}});e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1).Model,r=i.extend({constructor:function(t){return"small"==t&&(t=this.small),i.apply(this,[t])},small:{menuFontsize:"12px"},defaults:{menuFontsize:"14px",menuItemFontsize:"14px",menuItemLineHeight:"14px",menuMarginLeft:"3px",menuPadding:"3px 4px 3px 4px"}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=n(7),s=r["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.listenTo(this.g.colorscheme,"change",function(){return this.render()})},render:function(){var t=this.setName("Color scheme");this.removeAllNodes();for(var e,n=this.getColorschemes(),i=0;i<n.length;i++)e=n[i],this.addScheme(t,e);return this.grey(t),o.removeAllChilds(this.el),this.el.appendChild(this.buildDOM()),this},addScheme:function(t,e){var n=this,i={};return this.g.colorscheme.get("scheme")===e.id&&(i.backgroundColor="#77ED80"),this.addNode(e.name,function(){n.g.colorscheme.set("scheme",e.id)},{style:i})},getColorschemes:function(){var t=[];return t.push({name:"Taylor",id:"taylor"}),t.push({name:"Buried",id:"buried"}),t.push({name:"Cinema",id:"cinema"}),t.push({name:"Clustal",id:"clustal"}),t.push({name:"Clustal2",id:"clustal2"}),t.push({name:"Helix",id:"helix"}),t.push({name:"Hydrophobicity",id:"hydro"}),t.push({name:"Lesk",id:"lesk"}),t.push({name:"MAE",id:"mae"}),t.push({name:"Nucleotide",id:"nucleotide"}),t.push({name:"Purine",id:"purine"}),t.push({name:"PID",id:"pid"}),t.push({name:"Strand",id:"strand"}),t.push({name:"Turn",id:"turn"}),t.push({name:"Zappo",id:"zappo"}),t.push({name:"No color",id:"foo"}),t},grey:function(){}});e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6))["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var t=this;return this.setName("Debug"),this.addNode("Get the code",function(){return window.open("https://github.com/wilzbach/msa")}),this.addNode("Toggle mouseover events",function(){return t.g.config.set("registerMouseHover",!t.g.config.get("registerMouseHover")),t.g.onAll(function(){return console.log(arguments)})}),this.addNode("Minimized width",function(){return t.g.zoomer.set("alignmentWidth",600)}),this.addNode("Minimized height",function(){return t.g.zoomer.set("alignmentHeight",120)}),this.el.appendChild(this.buildDOM()),this}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(16)),s=(n(10).fasta.write,"\xe2\u2020\xaa"),a=r["default"].extend({initialize:function(t){return this.g=t.g,this.msa=t.msa,this.el.style.display="inline-block"},render:function(){var e=this;return this.setName("Export"),this.addNode("Share view (URL)"+s,function(){return o["default"].shareLink(e.msa,function(t){return window.open(t,"_blank")})}),this.addNode("View in Jalview",function(){var t=e.g.config.get("url");return null==t?alert("Sequence weren't imported via an URL"):t.indexOf("localhost")?o["default"].publishWeb(e.msa,function(t){return o["default"].openInJalview(t,e.g.colorscheme.get("scheme"))}):o["default"].openInJalview(t,e.g.colorscheme.get("scheme"))}),this.addNode("Export alignment (FASTA)",function(){return o["default"].saveAsFile(e.msa,"all.fasta")}),this.addNode("Export alignment (URL)",function(){return o["default"].publishWeb(e.msa,function(t){return window.open(t,"_blank")})}),this.addNode("Export selected sequences (FASTA)",function(){return o["default"].saveSelection(e.msa,"selection.fasta")}),this.addNode("Export features (GFF)",function(){return o["default"].saveAnnots(e.msa,"features.gff3")}),this.addNode("Export MSA image (PNG)",function(){return o["default"].saveAsImg(e.msa,"biojs-msa.png")}),this.el.appendChild(this.buildDOM()),this}});e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(36)),s=(i(n(18)),n(21),r["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.msa=t.msa},render:function(){var n=this;this.setName("Extras");var i=this.g.stats;return this.msa,this.addNode("Add consensus seq",function(){var t=i.consensus(),e=new o["default"]({seq:t,id:"0c",name:"Consenus"});return n.model.add(e),n.model.setRef(e),n.model.comparator=function(t){return!t.get("ref")},n.model.sort()}),this.addNode("Jump to a column",function(){var t=prompt("Column","20");return t<0||t>n.model.getMaxLength()||isNaN(t)?void alert("invalid column"):n.g.zoomer.setLeftOffset(t)}),this.el.appendChild(this.buildDOM()),this}}));e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6))["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var s=this;return this.setName("Filter"),this.addNode("Hide columns by threshold",function(){var t=prompt("Enter threshold (in percent)",20);t/=100;for(var e=s.model.getMaxLength(),n=[],i=s.g.stats.scale(s.g.stats.conservation()),r=e-1,o=0;o<=r;o++)i[o]<t&&n.push(o);return s.g.columns.set("hidden",n)}),this.addNode("Hide columns by selection",function(){var t=s.g.columns.get("hidden").concat(s.g.selcol.getAllColumnBlocks({maxLen:s.model.getMaxLength(),withPos:!0}));return s.g.selcol.reset([]),s.g.columns.set("hidden",t)}),this.addNode("Hide columns by gaps",function(){var t=prompt("Enter threshold (in percent)",20);t/=100;for(var e=s.model.getMaxLength(),r=[],n=e-1,i=function(e){var n=0,i=0;s.model.each(function(t){return"-"===t.get("seq")[e]&&n++,i++}),t<n/i&&r.push(e)},o=0;o<=n;o++)i(o);return s.g.columns.set("hidden",r)}),this.addNode("Hide seqs by identity",function(){var e=prompt("Enter threshold (in percent)",20);return e/=100,s.model.each(function(t){if(t.get("identity")<e)return t.set("hidden",!0)})}),this.addNode("Hide seqs by selection",function(){var e=s.g.selcol.where({type:"row"}).map(function(t){return t.get("seqId")});return s.g.selcol.reset([]),s.model.each(function(t){if(0<=e.indexOf(t.get("id")))return t.set("hidden",!0)})}),this.addNode("Hide seqs by gaps",function(){var e=prompt("Enter threshold (in percent)",40);return s.model.each(function(t){if(t.get("seq").reduce(function(t,e){return"-"===e?++t:void 0},0)>e)return t.set("hidden",!0)})}),this.addNode("Reset",function(){return s.g.columns.set("hidden",[]),s.model.each(function(t){if(t.get("hidden"))return t.set("hidden",!1)})}),this.el.appendChild(this.buildDOM()),this}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6))["default"].extend({initialize:function(t){return this.g=t.g},render:function(){return this.setName("Help"),this.addNode("About the project",function(){return window.open("https://github.com/wilzbach/msa")}),this.addNode("Report issues",function(){return window.open("https://github.com/wilzbach/msa/issues")}),this.addNode("User manual",function(){return window.open("https://github.com/wilzbach/msa/wiki/User-manual")}),this.el.style.display="inline-block",this.el.appendChild(this.buildDOM()),this}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=n(14),s=r["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.msa=t.msa},render:function(){var e=this,n=this.msa,i=o.mk("input");i.type="file",i.style.display="none",i.multiple=!0,i.addEventListener("change",function(){var t=i.files||[];return n.u.file.importFiles(t)}),this.el.appendChild(i);var r="(Fasta, Clustal, GFF, Jalview features, Newick)";return this.setName("Import"),this.addNode("URL",function(){var t=prompt("URL "+r,"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw");if(5<t.length)return e.msa.u.file.importURL(t,function(){})}),this.addNode("From file "+r,function(){return i.click()}),this.addNode("Drag & Drop",function(){return alert("Yep. Just drag & drop your file "+r)}),this.el.appendChild(this.buildDOM()),this}});e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=n(7),s="\xe2\u2020\u2018",a="\xe2\u2020\u201c",l=r["default"].extend({initialize:function(t){return this.g=t.g,this.order="ID",this.el.style.display="inline-block"},setOrder:function(t){return this.order=t,this.render()},render:function(){this.setName("Sorting"),this.removeAllNodes();for(var t,e=this.getComparators(),n=0;n<e.length;n++)t=e[n],this._addNode(t);var i=this.buildDOM();return o.removeAllChilds(this.el),this.el.appendChild(i),this},_addNode:function(t){var e=this,n=t.text,i={};return n===this.order&&(i.backgroundColor="#77ED80"),this.addNode(n,function(){return null!=t.precode&&t.precode(),e.model.comparator=t.comparator,e.model.sort(),e.setOrder(t.text)},{style:i})},getComparators:function(){var i=this,t=[];t.push({text:"ID "+s,comparator:"id"}),t.push({text:"ID "+a,comparator:function(t,e){return-(""+t.get("id")).localeCompare(""+e.get("id"),[],{numeric:!0})}}),t.push({text:"Label "+s,comparator:"name"}),t.push({text:"Label "+a,comparator:function(t,e){return-t.get("name").localeCompare(e.get("name"))}}),t.push({text:"Seq "+s,comparator:"seq"}),t.push({text:"Seq "+a,comparator:function(t,e){return-t.get("seq").localeCompare(e.get("seq"))}});var e=function(){return i.ident=i.g.stats.identity()},n=function(){return i.gaps={},i.model.each(function(t){var e=t.attributes.seq;return i.gaps[t.id]=(e.reduce(function(t,e){return"-"===e?++t:void 0}),0/e.length)})};return t.push({text:"Identity "+s,comparator:function(t,e){var n=i.ident[t.id]-i.ident[e.id];return 0<n?1:n<0?-1:0},precode:e}),t.push({text:"Identity "+a,comparator:function(t,e){var n=i.ident[t.id]-i.ident[e.id];return 0<n?-1:n<0?1:0},precode:e}),t.push({text:"Gaps "+s,comparator:function(t,e){var n=i.gaps[t.id]-i.gaps[e.id];return 0<n?1:n<0?-1:0},precode:n}),t.push({text:"Gaps "+a,comparator:function(t,e){var n=i.gaps[t.id]-i.gaps[e.id];return n<0?1:0<n?-1:0},precode:n}),t.push({text:"Consensus to top",comparator:function(t){return!t.get("ref")}}),t}});e["default"]=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6))["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block"},render:function(){var i=this;return this.setName("Selection"),this.addNode("Find Motif (supports RegEx)",function(){var t=prompt("your search","D");return i.g.user.set("searchText",t)}),this.addNode("Invert columns",function(){return i.g.selcol.invertCol(function(){var t=[],e=i.model.getMaxLength(),n=0;if(0<=e)for(;n<=e;)t.push(n++);else for(;e<=n;)t.push(n--);return t}())}),this.addNode("Invert rows",function(){return i.g.selcol.invertRow(i.model.pluck("id"))}),this.addNode("Reset",function(){return i.g.selcol.reset()}),this.el.appendChild(this.buildDOM()),this}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=n(7),s=r["default"].extend({initialize:function(t){return this.g=t.g,this.el.style.display="inline-block",this.listenTo(this.g.vis,"change",this.render)},render:function(){var t=this;this.removeAllNodes(),this.setName("Vis.elements");for(var e,n=this.getVisElements(),i=0;i<n.length;i++)e=n[i],this._addVisEl(e);return this.addNode("Reset",function(){return t.g.vis.set("labels",!0),t.g.vis.set("sequences",!0),t.g.vis.set("metacell",!0),t.g.vis.set("conserv",!0),t.g.vis.set("labelId",!0),t.g.vis.set("labelName",!0),t.g.vis.set("labelCheckbox",!1),t.g.vis.set("seqlogo",!1),t.g.vis.set("gapHeader",!1),t.g.vis.set("leftHeader",!0),t.g.vis.set("metaGaps",!0),t.g.vis.set("metaIdentity",!0),t.g.vis.set("metaLinks",!0)}),o.removeAllChilds(this.el),this.el.appendChild(this.buildDOM()),this},_addVisEl:function(t){var e=this,n={};if(this.g.vis.get(t.id)){var i="Hide ";n.color="red"}else i="Show ",n.color="green";return this.addNode(i+t.name,function(){return e.g.vis.set(t.id,!e.g.vis.get(t.id))},{style:n})},getVisElements:function(){var t=[];return t.push({name:"residues indices",id:"markers"}),t.push({name:"ID/Label",id:"labels"}),t.push({name:"meta info (Gaps/Ident)",id:"metacell"}),t.push({name:"overview panel",id:"overviewbox"}),t.push({name:"sequence logo",id:"seqlogo"}),t.push({name:"gap weights",id:"gapHeader"}),t.push({name:"conservation weights",id:"conserv"}),t.push({name:"scale slider",id:"scaleslider"}),t.push({name:"Label",id:"labelName"}),t.push({name:"ID",id:"labelId"}),t.push({name:"gaps %",id:"metaGaps"}),t.push({name:"identity score",id:"metaIdentity"}),t}});e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(35)),o=i(n(26)),s=i(n(27)),a=i(n(28)),l=i(n(29)),u=i(n(9)),c=i(n(30)),h=i(n(32)),d=i(n(31)),f=i(n(33)),p=i(n(25)),g=i(n(129)),m=i(n(17)),v=i(n(40)),y=i(n(19)),_=n(4),b=n(13),w=n(48),x=n(5),S=_.extend({initialize:function(t){var e=this;if(null!=t||(t={}),null==t.colorscheme&&(t.colorscheme={}),null==t.columns&&(t.columns={}),null==t.conf&&(t.conf={}),null==t.vis&&(t.vis={}),null==t.visorder&&(t.visorder={}),null==t.zoomer&&(t.zoomer={}),null==t.conserv&&(t.conserv={}),null==t.scale&&(t.scale={}),this.g=b.mixin({}),this.seqs=this.g.seqs=new r["default"](t.seqs,this.g),this.g.config=new a["default"](t.conf),this.g["package"]=new l["default"](this.g),this.g.selcol=new u["default"]([],{g:this.g}),this.g.user=new c["default"],this.g.vis=new h["default"](t.vis,{model:this.seqs}),this.g.visorder=new d["default"](t.visorder),this.g.zoomer=new f["default"](t.zoomer,{g:this.g,model:this.seqs}),this.g.scale=new p["default"](t.scale,{g:this.g}),this.g.conservationConfig=t.conserv,"localhost"===window.location.hostname&&this.g.config.set("debug",!0),this._loadSeqs(t),this.u={},this.u.file=new m["default"](this),this.u.proxy=new y["default"]({g:this.g}),this.u.tree=new v["default"](this),!0===this.g.config.get("eventBus")&&this.startEventBus(),this.g.config.get("dropImport")){var n={dragover:this.dragOver,drop:this.dropFile};this.delegateEvents(n)}return t.importURL&&this.u.file.importURL(t.importURL,function(){return e.render()}),t.bootstrapMenu&&(t.menu&&(this.menuConfig=t.menu),this.g.config.set("bootstrapMenu",!0)),this.draw(),this.m()},_loadSeqs:function(t){var e=this.seqs.pluck("seq");return this.g.stats=new w(this.seqs,{useGaps:!0}),this.g.stats.alphabetSize=this.g.config.get("alphabetSize"),this.g.columns=new s["default"](t.columns,this.g.stats),this.g.colorscheme=new o["default"](t.colorscheme,e,this.g.stats),this.g.zoomer.setEl(this.el,this.seqs)},importURL:function(){return this.u.file.importURL.apply(this.u.file,arguments)},m:function LWd(){var LWd={};return LWd.model=n(51),LWd.selection=n(8),LWd.selcol=n(9),LWd.view=n(2),LWd.boneView=n(4),this.m=LWd},draw:function(){var t=this;if(this.removeViews(),this.addView("stage",new g["default"]({model:this.seqs,g:this.g})),this.$el.addClass("biojs_msa_div"),this.g.config.get("bootstrapMenu")){var e=document.createElement("div"),n=document.createElement("div");this.el.parentNode&&this.el.parentNode.replaceChild(n,this.el),n.appendChild(e),n.appendChild(this.el);var i={el:e,msa:this};this.menuConfig&&(i.menu=this.menuConfig),new msa.menu.defaultmenu(i).render()}return x(window).on("resize",function(){return setTimeout(function(){return this.g.zoomer.autoResize()}.bind(t),5)})},dragOver:function(t){return t.preventDefault(),!(t.target.className="hover")},dropFile:function(t){t.preventDefault();var e=t.target.files||t.dataTransfer.files;return this.u.file.importFiles(e),!1},startEventBus:function(){var i=this,r=["config","columns","colorscheme","selcol","vis","visorder","zoomer"];return function(){for(var t,e=[],n=0;n<r.length;n++)t=r[n],e.push(i._proxyToG(t));return e}()},_proxyToG:function(r){return this.listenTo(this.g[r],"all",function(t,e,n,i){if("change"!==t)return null!=i?this.g.trigger(r+":"+t,n,e,i):this.g.trigger(r+":"+t,n,e)})},render:function(){return void 0===this.seqs||this.seqs.length,this.renderSubviews(),this.g.vis.set("loaded",!0),this}});e["default"]=S},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(133)),o=i(n(142)),s=n(4).extend({initialize:function(t){this.g=t.g;var e=new o["default"]({model:this.model,g:this.g});if(e.ordering=-1,this.addView("labelblock",e),this.g.vis.get("sequences")){var n=new r["default"]({model:this.model,g:this.g});n.ordering=0,this.addView("seqblock",n)}return this.listenTo(this.g.zoomer,"change:alignmentHeight",this.adjustHeight),this.listenTo(this.g.zoomer,"change:alignmentWidth",this.adjustWidth),this.listenTo(this.g.columns,"change:hidden",this.adjustHeight),this},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_albody",this.el.style.whiteSpace="nowrap",this.adjustHeight(),this.adjustWidth(),this},adjustHeight:function(){return"auto"===this.g.zoomer.get("alignmentHeight")?this.el.style.height=this.g.zoomer.get("rowHeight")*this.model.length+5:this.el.style.height=this.g.zoomer.get("alignmentHeight")},adjustWidth:function(){return this.el.style.width=this.getWidth()},getWidth:function(){var t=0;return t+=this.g.zoomer.getLeftBlockWidth(),this.g.vis.get("sequences")&&(t+=this.g.zoomer.get("alignmentWidth")),t}});e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),i=n(2),r=n(47),a=n(5),o=i.extend({className:"biojs_msa_overviewbox",tagName:"canvas",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop",this.rerender),this.listenTo(this.g.zoomer,"change:alignmentHeight change:alignmentWidth",this.rerender),this.listenTo(this.g.zoomer,"change:overviewboxWidth change:overviewboxHeigth",this.rerender),this.listenTo(this.g.selcol,"add reset change",this.rerender),this.listenTo(this.g.columns,"change:hidden",this.rerender),this.listenTo(this.g.colorscheme,"change:showLowerCase",this.rerender),this.listenTo(this.model,"change",_.debounce(this.rerender,5)),this.color=this.g.colorscheme.getSelectedScheme(),this.listenTo(this.g.colorscheme,"change:scheme",function(){return this.color=this.g.colorscheme.getSelectedScheme(),this.rerender()}),this.dragStart=[]},events:{click:"_onclick",mousedown:"_onmousedown"},rerender:function(){if(!this.g.config.get("manualRendering"))return this.render()},render:function(){this._createCanvas(),this.el.textContent="overview",this.el.style.marginTop=this.g.zoomer.get("overviewboxPaddingTop"),this.ctx.fillStyle="#999999",this.ctx.fillRect(0,0,this.el.width,this.el.height);for(var t=this.model.length,e=this.g.columns.get("hidden"),n=this.g.colorscheme.get("showLowerCase"),i=-this.coords.boxes_size.y,r=0;r<this.coords.boxes.y;r++){for(var o=[],s=[],a=Math.floor(r*this.coords.resid_per_box.y);a<Math.floor((r+1)*this.coords.resid_per_box.y)&&a<t;a++)this.model.at(a)&&(o.push(this.model.at(a).get("seq")),s.push(this.model.at(a).get("hidden")));var l=0;i+=this.coords.boxes_size.y;for(var u=0;u<this.coords.boxes.x;u++){for(var c=[],h=0;h<o.length;h++)for(var d=Math.floor(u*this.coords.resid_per_box.x);d<Math.floor((u+1)*this.coords.resid_per_box.x)&&d<o[h].length;d++)if(s[h])c.push("grey");else{var f=o[h][d];n&&(f=f.toUpperCase());var p=this.color.getColor(f,{pos:d});0<=e.indexOf(d)&&(p="grey"),null!=p&&c.push(p)}0!==c.length&&(this.ctx.fillStyle=this._mode(c),this.ctx.fillRect(l,i,this.coords.boxes_size.x,this.coords.boxes_size.y)),l+=this.coords.boxes_size.x}}return this._drawSelection()},coords:{screen_to_model:function(t,e){var n=t*this.resid_per_box[e]/this.boxes_size[e];return Math.floor(n)},model_to_screen:function(t,e){return Math.floor(t*this.boxes_size[e]/this.resid_per_box[e])},updatecoords_transform:function(t){var e=t.g.zoomer.get("boxRectHeight"),n=t.g.zoomer.get("boxRectWidth"),i=t.g.zoomer.get("overviewboxWidth"),r=t.g.zoomer.get("overviewboxHeight"),o="fixed"===i?t.model.getMaxLength()*n:Math.min(t.g.zoomer.get("alignmentWidth")+t.g.zoomer.getLeftBlockWidth(),t.model.getMaxLength()*n),s="fixed"===r?t.model.length*e:Math.min(isNaN(parseInt(r,10))?1e10:parseInt(r,10),t.model.length*e);this.container_size={x:o,y:s},this.boxes_size={x:n,y:e},this.resid_per_box={x:Math.max(1,t.model.getMaxLength()/o*n),y:Math.max(1,t.model.length/s*e)},this.boxes={x:Math.ceil(o/n),y:Math.ceil(s/e)}}},_mode:function(t){return t.sort(function(e,n){return t.filter(function(t){return t===e}).length-t.filter(function(t){return t===n}).length}).pop()},_drawSelection:function(){var r=this;if(!(0<this.dragStart.length)||this.prolongSelection){this.ctx.fillStyle="#666666",this.ctx.globalAlpha=.9;for(var t=this.g.selcol.length,e=function(t){var e=r.g.selcol.at(t);if(!e)return"continue";var n=void 0,i=void 0;"column"===e.get("type")?r.ctx.fillRect(r.coords.boxes_size.x*e.get("xStart"),0,r.coords.boxes_size.x*(e.get("xEnd")-e.get("xStart")+1),r.coords.container_size.y):"row"===e.get("type")?(n=r.model.filter(function(t){return t.get("id")===e.get("seqId")})[0],i=r.model.indexOf(n),r.ctx.fillRect(0,r.coords.model_to_screen(i,"y"),r.coords.model_to_screen(n.get("seq").length,"x"),r.coords.boxes_size.y)):"pos"===e.get("type")&&(n=r.model.filter(function(t){return t.get("id")===e.get("seqId")})[0],i=r.model.indexOf(n),r.ctx.fillRect(r.coords.model_to_screen(e.get("xStart"),"x"),r.coords.model_to_screen(i,"y"),r.coords.model_to_screen(e.get("xEnd")-e.get("xStart")+1,"x"),r.coords.boxes_size.y))},n=0;n<t;n++)e(n);return this.ctx.globalAlpha=1}},_onclick:function(t){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:t})})},_onmousemove:function(t){if(0!==this.dragStart.length){
this.render(),this.ctx.fillStyle="#666666",this.ctx.globalAlpha=.9;var e=this._calcSelection(r.abs(t));return this.ctx.fillRect(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0]),t.preventDefault(),t.stopPropagation()}},_onmousedown:function(t){var e=this;return this.dragStart=r.abs(t),this.dragStartRel=r.rel(t),t.ctrlKey||t.metaKey?this.prolongSelection=!0:this.prolongSelection=!1,a(document.body).on("mousemove.overmove",function(t){return e._onmousemove(t)}),a(document.body).on("mouseup.overup",function(t){return e._onmouseup(t)}),this.dragStart},_calcSelection:function(t){for(var e=[t[0]-this.dragStart[0],t[1]-this.dragStart[1]],n=0;n<=1;n++)e[n]=this.dragStartRel[n]+e[n];for(var i=[[this.dragStartRel[0],e[0]],[this.dragStartRel[1],e[1]]],r=0;r<=1;r++)i[r][1]<i[r][0]&&(i[r]=[i[r][1],i[r][0]]),i[r][0]=Math.max(i[r][0],0);return i},_endSelection:function(t){if(a(document.body).off(".overmove"),a(document.body).off(".overup"),0!==this.dragStart.length){for(var e=this._calcSelection(t),n=0;n<=1;n++)e[0][n]=this.coords.screen_to_model(e[0][n],"x");for(n=0;n<=1;n++)e[1][n]=this.coords.screen_to_model(e[1][n],"y");e[0][1]=Math.min(this.model.getMaxLength()-1,e[0][1]),e[1][1]=Math.min(this.model.length-1,e[1][1]);for(var i=[],r=e[1][0];r<=e[1][1];r++){var o={seqId:this.model.at(r).get("id"),xStart:e[0][0],xEnd:e[0][1]};i.push(new s.possel(o))}return this.dragStart=[],this.prolongSelection?this.g.selcol.add(i):this.g.selcol.reset(i),this.g.zoomer.setLeftOffset(e[0][0]),this.g.zoomer.setTopOffset(e[1][0])}},_onmouseup:function(t){return this._endSelection(r.abs(t))},_onmouseout:function(t){return this._endSelection(r.abs(t))},_createCanvas:function(){return this.coords.updatecoords_transform(this),this.el.height=this.coords.container_size.y,this.el.width=this.coords.container_size.x,this.ctx=this.el.getContext("2d"),this.el.style.overflow="auto",this.el.style.cursor="crosshair"}});e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(2),o=n(5),s=r.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:columnWidth",this.render),this.toggleClass="msa-hide",this.isVisible=!0,this},attributes:{"class":"biojs_msa_scale"},events:{"change input":"updateSlider","click button.msa-btn-close":"hide","click button.msa-btn-open":"show","click button[data-action]":"clickButton"},template:(0,i.template)('\t<div class="msa-scale-minimised">\t  <button class="btn msa-btn msa-btn-open">Zoom</button>\t</div>\t<div class="msa-scale-maximised">\t  <button class="btn msa-btn msa-btn-close" style="float:right">&times; close</button>\t  <div>\t  <input type="range" \t    data-provide="slider" \t    min="<%= min %>" \t    max="<%= max %>" \t    step="<%= step %>" \t    value="<%= value %>" \t  >\t  </div>\t  <div class="btngroup msa-btngroup">\t    <button class="btn msa-btn" data-action="smaller"><span class="glyphicon-zoom-out"></span>-</button>\t    <button class="btn msa-btn" data-action="bigger"><span class="glyphicon-zoom-in"></span>+</button>\t    <button class="btn msa-btn" data-action="reset"><span class="glyphicon-repeat"></span>reset</button>\t  </div>\t</div>\t'),render:function(){var t=this.model.getSizeRange(),e={value:this.model.getSize(),min:t[0],max:t[1],step:this.model.step||1};return this.$el.html(this.template(e)),this.isVisible?this.show():this.hide(),this},updateSlider:function(t){var e=t.target,n=parseInt(o(e).val());this.model.setSize(n)},clickButton:function(t){var e=t.target,n=o(e).data("action");return this.model[n],"function"==typeof this.model[n]&&this.model[n](),this},hide:function(){this.isVisible=!1,this.$el.find(".msa-scale-minimised").removeClass(this.toggleClass),this.$el.find(".msa-scale-maximised").addClass(this.toggleClass)},show:function(){this.isVisible=!1,this.$el.find(".msa-scale-minimised").addClass(this.toggleClass),this.$el.find(".msa-scale-maximised").removeClass(this.toggleClass)}});e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n(8),i=n(4),o=n(14),r=(n(7),i.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.user,"change:searchText",function(t,e){return this.search(e),this.render()}),this.sel=[],this.selPos=0},events:{scroll:"_sendScrollEvent"},render:function(){this.renderSubviews(),this.el.className="biojs_msa_searchresult";var t=this.g.user.get("searchText");return null!=t&&0<t.length&&(0===this.sel.length?this.el.textContent="no selection found":(this.resultBox=o.mk("div"),this.resultBox.className="biojs_msa_searchresult_ovbox",this.updateResult(),this.el.appendChild(this.resultBox),this.el.appendChild(this.buildBtns()))),this},updateResult:function(){var t="search pattern: "+this.g.user.get("searchText");t+=", selection: "+(this.selPos+1);var e=this.sel[this.selPos];return t+=" (",t+=e.get("xStart")+" - "+e.get("xEnd"),t+=", id: "+e.get("seqId"),t+=")",this.resultBox.textContent=t},buildBtns:function(){var t=this,e=o.mk("button");e.textContent="Prev",e.addEventListener("click",function(){return t.moveSel(-1)});var n=o.mk("button");n.textContent="Next",n.addEventListener("click",function(){return t.moveSel(1)});var i=o.mk("button");i.textContent="All",i.addEventListener("click",function(){return t.g.selcol.reset(t.sel)});var r=o.mk("div");return r.appendChild(e),r.appendChild(n),r.appendChild(i),r.className="biojs_msa_searchresult_row",r},moveSel:function(t){var e=this.selPos+t;return e<0||e>=this.sel.length?-1:(this.focus(e),this.selPos=e,this.updateResult())},focus:function(t){var e=this.sel[t],n=e.get("xStart");return this.g.zoomer.setLeftOffset(n),this.g.selcol.reset([e])},search:function PZd(t){var e,PZd=new RegExp(t,"gi"),s=[],a=e=100042;return this.model.each(function(r){var o=r.get("seq");return function(){for(var t,e=[];t=PZd.exec(o);){var n=t.index,i={xStart:n,xEnd:n+t[0].length-1,seqId:r.get("id")};s.push(new l.possel(i)),e.push(a=Math.min(n,a))}return e}()}),this.g.selcol.reset(s),a===e&&(a=0),this.g.zoomer.setLeftOffset(a),this.sel=s}}));e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=i(n(125)),s=i(n(137)),a=i(n(126)),l=i(n(128)),u=i(n(127)),c=n(4).extend({initialize:function(t){return this.g=t.g,this.draw(),this.listenTo(this.g.stats,"reset",function(){return this.rerender()}),this.listenTo(this.model,"change:hidden",(0,r.debounce)(this.rerender,10)),this.listenTo(this.model,"sort",this.rerender),this.listenTo(this.model,"add",function(){return console.log("seq add")}),this.listenTo(this.g.vis,"change:sequences",this.rerender),this.listenTo(this.g.vis,"change:overviewbox",this.rerender),this.listenTo(this.g.visorder,"change",this.rerender),this.listenTo(this.g.zoomer,"change:columnWidth",this.rerender),this.listenTo(this.g.vis,"change:scaleslider",this.rerender),this},draw:function(){if(this.removeViews(),this.g.vis.get("overviewbox")){var t=new a["default"]({model:this.model,g:this.g});t.ordering=this.g.visorder.get("overviewBox"),this.addView("overviewBox",t)}var e=new s["default"]({model:this.model,g:this.g});e.ordering=this.g.visorder.get("headerBox"),this.addView("headerBox",e);var n=new l["default"]({model:this.model,g:this.g});n.ordering=this.g.visorder.get("searchBox"),this.addView("searchbox",n);var i=new o["default"]({model:this.model,g:this.g});if(i.ordering=this.g.visorder.get("alignmentBody"),this.addView("body",i),this.g.vis.get("scaleslider")){var r=new u["default"]({model:this.g.scale,g:this.g});r.ordering=this.g.visorder.get("scaleSlider"),this.addView("scaleSlider",r)}return this},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_stage",this},rerender:function(){if(!this.g.config.get("manualRendering"))return this.draw(),this.render()}});e["default"]=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),o=(n(13),function(){function e(t){i(this,e),this.g=t,this.cache={},this.cacheHeight=0,this.cacheWidth=0}return r(e,[{key:"getFontTile",value:function(t,e,n){return e===this.cacheWidth&&n===this.cacheHeight||(this.cacheHeight=n,this.cacheWidth=e,this.cache={}),void 0===this.cache[t]&&this.createTile(t,e,n),this.cache[t]}},{key:"createTile",value:function(t,e,n){var i=this.cache[t]=document.createElement("canvas");return i.width=e,i.height=n,this.ctx=i.getContext("2d"),this.ctx.font=this.g.zoomer.get("residueFont")+"px mono",this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,e/2,n/2,e)}}]),e}());e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(13),o={setMaxScrollHeight:function(){return this.maxScrollHeight=this.g.zoomer.getMaxAlignmentHeight()-this.g.zoomer.get("alignmentHeight")},setMaxScrollWidth:function(){return this.maxScrollWidth=this.g.zoomer.getMaxAlignmentWidth()-this.g.zoomer.getAlignmentWidth()}},s=function(t,e){return this.g=t,this.model=e,this.maxScrollWidth=0,this.maxScrollHeight=0,this.setMaxScrollHeight(),this.setMaxScrollWidth(),this.listenTo(this.g.zoomer,"change:rowHeight",this.setMaxScrollHeight),this.listenTo(this.g.zoomer,"change:columnWidth",this.setMaxScrollWidth),this.listenTo(this.g.zoomer,"change:alignmentWidth",this.setMaxScrollWidth),this.listenTo(this.g.zoomer,"change:alignmentHeight",this.setMaxScrollHeight),this.listenTo(this.model,"add change reset",function(){return this.setMaxScrollHeight(),this.setMaxScrollWidth()},this),this};(0,i.extend)(s.prototype,o),r.mixin(s.prototype),e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=n(3),i=function(t,e){return this.g=t,this.ctx=e,this};_.extend(i.prototype,{_getSelection:function(t){var e=t.get("seq").length,n=[],i=this.g.selcol.getSelForRow(t.get("id")),r=(0,d.find)(i,function(t){return"row"===t.get("type")});if(null!=r)for(var o=e-1,s=0;s<=o;s++)n.push(s);else if(0<i.length)for(var a,l=0;l<i.length;l++)for(var u=(a=i[l]).get("xStart"),c=a.get("xEnd"),h=u;h<=c;h++)n.push(h);return n},_appendSelection:function(r){var o=this,s=r.model.get("seq"),a=this._getSelection(r.model),t=this._getPrevNextSelection(r.model),l=t[0],u=t[1];if(this.g.zoomer.get("columnWidth"),this.g.zoomer.get("rowHeight"),0!==a.length){var c=0;return function(){for(var t=[],e=s.length-1,n=function(e){t.push(function(){if(0<=r.hidden.indexOf(e))return c++;var t=e-c;return 0<=a.indexOf(e)&&(0===t||a.indexOf(e-1)<0)?o._renderSelection({n:e,k:t,selection:a,mPrevSel:l,mNextSel:u,xZero:r.xZero,yZero:r.yZero,model:r.model}):void 0}())},i=0;i<=e;i++)n(i);return t}()}},_renderSelection:function(t){for(var e=t.xZero,n=t.yZero,i=t.n,r=t.k,o=t.selection,s=t.mPrevSel,a=t.mNextSel,l=0,u=t.model.get("seq").length-1,c=i;c<=u&&0<=o.indexOf(c);c++)l++;var h=this.g.zoomer.get("columnWidth"),d=this.g.zoomer.get("rowHeight"),f=h*l+1,p=this.g.columns.get("hidden");this.ctx.beginPath();var g=this.ctx.lineWidth;this.ctx.lineWidth=3;var m=this.ctx.strokeStyle;this.ctx.strokeStyle="#FF0000",e+=r*h;for(var v=0,y=l-1,_=0;_<=y;_++){var b=i+_;0<=p.indexOf(b)||(null!=s&&0<=s.indexOf(b)||(this.ctx.moveTo(e+v,n),this.ctx.lineTo(v+h+e,n)),null!=a&&0<=a.indexOf(b)||(this.ctx.moveTo(v+e,d+n),this.ctx.lineTo(v+h+e,d+n)),v+=h)}return this.ctx.moveTo(e,n),this.ctx.lineTo(e,d+n),this.ctx.moveTo(e+f,n),this.ctx.lineTo(e+f,d+n),this.ctx.stroke(),this.ctx.strokeStyle=m,this.ctx.lineWidth=g},_getPrevNextSelection:function(t){var e=t.collection.prev(t),n=t.collection.next(t),i=void 0,r=void 0;return null!=e&&(i=this._getSelection(e)),null!=n&&(r=this._getSelection(n)),[i,r]}}),e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function n(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(3),o=i(n(130)),s=i(n(132)),a=i(n(134)),l=i(n(131)),c=n(4),h=n(47),d=n(5),f=c.extend({tagName:"canvas",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft change:_alignmentScrollTop",function(t,e,n){if(null==(null!=n?n.origin:void 0)||"canvasseq"!==n.origin)return this.render()}),this.listenTo(this.g.columns,"change:hidden",this.render),this.listenTo(this.g.zoomer,"change:alignmentWidth change:alignmentHeight",this.render),this.listenTo(this.g.colorscheme,"change",this.render),this.listenTo(this.g.selcol,"reset add",this.render),this.listenTo(this.model,"reset add",this.render),this.el.style.display="inline-block",this.el.style.overflowX="hidden",this.el.style.overflowY="hidden",this.el.className="biojs_msa_seqblock",this.ctx=this.el.getContext("2d"),this.cache=new o["default"](this.g),this.coordsCache=new l["default"](this.g,this.model),this.listenTo(this.g.zoomer,"change:residueFont",function(){return this.cache=new o["default"](this.g),this.render()}),this.sel=new s["default"](this.g,this.ctx),this._setColor(),this.throttleTime=0,this.throttleCounts=0,null!=document.documentElement.style.webkitAppearance?this.throttledDraw=function(){var t=+new Date;if(this.draw(),this.throttleTime+=+new Date-t,this.throttleCounts++,15<this.throttleCounts)return Math.ceil(this.throttleTime/this.throttleCounts),this.throttledDraw=this.draw}:this.throttledDraw=(0,r.throttle)(this.throttledDraw,30),this.manageEvents()},throttledDraw:function(){var t=+new Date;if(this.draw(),this.throttleTime+=+new Date-t,this.throttleCounts++,15<this.throttleCounts){var e=Math.ceil(this.throttleTime/this.throttleCounts);return e*=1.2,e=Math.max(20,e),this.throttledDraw=_.throttle(this.draw,e)}},manageEvents:function(){var t={mousedown:"_onmousedown",touchstart:"_ontouchstart"};return this.g.config.get("registerMouseClicks")&&(t.dblclick="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),t.mousewheel="_onmousewheel",t.DOMMouseScroll="_onmousewheel",this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents),this.dragStart=[]},_setColor:function(){return this.color=this.g.colorscheme.getSelectedScheme()},draw:function(){if(this.el.width=this.el.width,null!=this.seqDrawer&&0<this.model.length)return this.seqDrawer.drawLetters(),this.seqDrawer.drawRows(this.sel._appendSelection,this.sel),this.seqDrawer.drawRows(this.drawFeatures,this)},drawFeatures:function(i){var r=this.g.zoomer.get("columnWidth"),o=this.g.zoomer.get("rowHeight");if(1<i.model.attributes.height){var s=this.ctx;return i.model.attributes.features.each(function(t){s.fillStyle=t.attributes.fillColor||"red";var e=t.attributes.xEnd-t.attributes.xStart+1,n=(t.attributes.row+1)*o;return s.fillRect(t.attributes.xStart*r+i.xZero,n+i.yZero,r*e,o)}),s.fillStyle="black",s.font=this.g.zoomer.get("residueFont")+"px mono",s.textBaseline="middle",s.textAlign="center",i.model.attributes.features.each(function(t){var e=t.attributes.xEnd-t.attributes.xStart+1,n=(t.attributes.row+1)*o;return s.fillText(t.attributes.text,i.xZero+t.attributes.xStart*r+e/2*r,i.yZero+.5*o+n)})}},render:function(){return this.el.setAttribute("height",this.g.zoomer.get("alignmentHeight")+"px"),this.el.setAttribute("width",this.g.zoomer.getAlignmentWidth()+"px"),this.g.zoomer._checkScrolling(this._checkScrolling([this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")]),{header:"canvasseq"}),this._setColor(),this.seqDrawer=new a["default"](this.g,this.ctx,this.model,{width:this.el.width,height:this.el.height,color:this.color,cache:this.cache}),this.throttledDraw(),this},_onmousemove:function(t,e){if(0!==this.dragStart.length){var n=h.abs(t),i=[n[0]-this.dragStart[0],n[1]-this.dragStart[1]],r=this.g.zoomer.get("canvasEventScale");e&&(r=3);for(var o=0;o<=1;o++)i[o]=i[o]*r;for(var s=[this.dragStartScroll[0]-i[0],this.dragStartScroll[1]-i[1]],a=0;a<=1;a++)s[a]=Math.round(s[a]);var l=this._checkScrolling(s);this.g.zoomer._checkScrolling(l,{origin:"canvasseq"});for(var u=0;u<=1;u++)l[u]!==s[u]&&(0===l[u]?(this.dragStart[u]=n[u],this.dragStartScroll[u]=0):this.dragStart[u]=n[u]-l[u]);return this.throttledDraw(),null!=t.preventDefault?(t.preventDefault(),t.stopPropagation()):void 0}},_ontouchmove:function(t){return this._onmousemove(t.changedTouches[0],!0),t.preventDefault(),t.stopPropagation()},_onmousedown:function(t){var e=this;return this.dragStart=h.abs(t),this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")],d(document.body).on("mousemove.overmove",function(t){return e._onmousemove(t)}),d(document.body).on("mouseup.overup",function(){return e._cleanup()}),t.preventDefault()},_ontouchstart:function(t){var e=this;return this.dragStart=h.abs(t.changedTouches[0]),this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")],d(document.body).on("touchmove.overtmove",function(t){return e._ontouchmove(t)}),d(document.body).on("touchend.overtend touchleave.overtleave touchcancel.overtcanel",function(t){return e._touchCleanup(t)})},_onmousewinout:function(t){if(t.toElement===document.body.parentNode)return this._cleanup()},_cleanup:function(){return this.dragStart=[],d(document.body).off(".overmove"),d(document.body).off(".overup"),d(document.body).off(".overout")},_touchCleanup:function(t){return 0<t.changedTouches.length&&this._onmousemove(t.changedTouches[0],!0),this.dragStart=[],d(document.body).off(".overtmove"),d(document.body).off(".overtend"),d(document.body).off(".overtleave"),d(document.body).off(".overtcancel")},_onmousewheel:function(t){var e=h.wheelDelta(t);return this.g.zoomer.set("_alignmentScrollLeft",this.g.zoomer.get("_alignmentScrollLeft")+e[0]),this.g.zoomer.set("_alignmentScrollTop",this.g.zoomer.get("_alignmentScrollTop")+e[1]),t.preventDefault()},_onclick:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:click",e):this.g.trigger("residue:click",e)),this.throttledDraw()},_onmousein:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:mousein",e):this.g.trigger("residue:mousein",e)),this.throttledDraw()},_onmouseout:function(t){var e=this._getClickPos(t);return null!=e&&(null!=e.feature?this.g.trigger("feature:mouseout",e):this.g.trigger("residue:mouseout",e)),this.throttledDraw()},_getClickPos:function(t){var e=h.rel(t);e[0]+=this.g.zoomer.get("_alignmentScrollLeft");var n=Math.floor(e[0]/this.g.zoomer.get("columnWidth")),i=this.seqDrawer._getSeqForYClick(e[1]),r=u(i,2),o=r[0],s=r[1];n+=this.g.columns.calcHiddenColumns(n),o+=this.model.calcHiddenSeqs(o),n=Math.max(0,n),o=Math.max(0,o);var a=this.model.at(o).get("id");if(!(0<s))return{seqId:a,rowPos:n,evt:t};var l=this.model.at(o).get("features").getFeatureOnRow(s-1,n);return 0!==l.length?{seqId:a,feature:l[0],rowPos:n,evt:t}:void 0},_checkScrolling:function(t){for(var e=[this.coordsCache.maxScrollWidth,this.coordsCache.maxScrollHeight],n=0;n<=1;n++)t[n]>e[n]&&(t[n]=e[n]),t[n]<0&&(t[n]=0);return t}});e["default"]=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function n(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i={updateConfig:function(){this.rectWidth=this.g.zoomer.get("columnWidth"),this.rectHeight=this.g.zoomer.get("rowHeight")},drawLetters:function(){return this.updateConfig(),this.ctx.globalAlpha=this.g.colorscheme.get("opacity"),this.drawSeqs(function(t){return this.drawSeq(t,this._drawRect)}),this.ctx.globalAlpha=1,this.rectWidth>=this.g.zoomer.get("minLetterDrawSize")&&this.drawSeqs(function(t){return this.drawSeq(t,this._drawLetter)}),this},drawSeqs:function(t,e){var n=this.g.columns.get("hidden");e=e||this;for(var i=this.getStartSeq(),r=u(i,2),o=r[0],s=r[1],a=o;a<this.model.length;a++){var l=this.model.at(a);if(!l.get("hidden")&&(t.call(e,{model:l,yPos:s,y:a,hidden:n}),(s+=(l.attributes.height||1)*this.rectHeight)>this.height))break}},drawRows:function(e,n){return this.drawSeqs(function(t){return this.drawRow(t,e,n)})},drawRow:function(t,e,n){var i=this.g.zoomer.get("columnWidth"),r=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/i))),o=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%i)-r*i,s=t.yPos;return e.call(n,{model:t.model,xZero:o,yZero:s,hidden:t.hidden})},getStartSeq:function(){for(var t=Math.max(0,Math.floor(this.g.zoomer.get("_alignmentScrollTop")/this.rectHeight))+1,e=0,n=0;e<t&&n<this.model.length;)e+=this.model.at(n).attributes.height||1,n++;return[n-1,-Math.max(0,this.g.zoomer.get("_alignmentScrollTop")-e*this.rectHeight+(this.model.at(n-1).attributes.height||1)*this.rectHeight)]},_getSeqForYClick:function(t){for(var e=this.getStartSeq(),n=u(e,2),i=n[0],r=n[1]%this.rectHeight,o=Math.max(0,Math.floor((t-r)/this.rectHeight))+1,s=0,a=i;s<o&&a<this.model.length;)s+=this.model.at(a).attributes.height||1,a++;return[a-1,Math.max(0,Math.floor(t/this.rectHeight)-s+(this.model.at(a-1).get("height")||1))]},drawSeq:function(t,e){for(var n=t.model.get("seq"),i=t.yPos,r=this.rectWidth,o=this.rectHeight,s=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/r))),a=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%r),l={rectWidth:r,rectHeight:o,yPos:i,y:t.y},u=this.width,c=s;c<n.length;c++){var h=n[c];if(h=h.toUpperCase(),l.x=c,l.c=h,l.xPos=a,t.hidden.indexOf(c)<0&&(e(this,l),u<(a+=r)))break}},_drawRect:function(t,e){var n=t.color.getColor(e.c,{pos:e.x,y:e.y});if(null!=n)return t.ctx.fillStyle=n,t.ctx.fillRect(e.xPos,e.yPos,e.rectWidth,e.rectHeight)},_drawLetter:function(t,e){return t.ctx.drawImage(t.cache.getFontTile(e.c,e.rectWidth,e.rectHeight),e.xPos,e.yPos,e.rectWidth,e.rectHeight)}},r=function(t,e,n,i){return this.g=t,this.ctx=e,this.model=n,this.width=i.width,this.height=i.height,this.color=i.color,this.cache=i.cache,this.rectHeight=this.g.zoomer.get("rowHeight"),this.rectWidth=this.g.zoomer.get("columnWidth"),this};(0,n(3).extend)(r.prototype,i),e["default"]=r},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=i(n(12)),o=n(2),w=n(7),s=o.extend({className:"biojs_msa_conserv",initialize:function(t){this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.listenTo(this.g.columns,"change:scaling",this.render),this.listenTo(this.g.stats,"reset",this.render);var e=_.extend({},{fillColor:["#660","#ff0"],strokeColor:"#330",maxHeight:20,rectStyler:function(t){return t}},this.g.conservationConfig);return this.fillColor=e.fillColor,this.strokeColor=e.strokeColor,this.maxHeight=e.maxHeight,this.rectStyler=e.rectStyler,this.manageEvents()},colorer:function G3d(t){var G3d=function(){return"none"};if("string"==typeof t)G3d=function(){return t};else if(Array.isArray(t)){2!=t.length&&console.error("ERROR: colorRange array should have exactly two elements",t);var e="undefined"!=typeof d3&&!!d3.scale,n="undefined"!=typeof d3_scale;if(e||n){var i=(e?d3.scale.linear():d3_scale.scaleLinear()).domain([0,this.maxHeight]).range(t);G3d=function(t){return i(t.height)}}else console.warn("providing a [min/max] range as input requires d3 to be included - only using the first color"),G3d=function(){return t[0]}}else console.warn("expected colorRange to be '#rgb' or ['#rgb', '#rgb']",t,"("+(void 0===t?"undefined":r(t))+")");return G3d},render:function(){var t=this.g.stats.scale(this.g.stats.conservation());w.removeAllChilds(this.el);var e=this.model.getMaxLength(),n=this.g.zoomer.get("columnWidth"),i=this.maxHeight,r=n*(e-this.g.columns.get("hidden").length),o=b.base({height:i,width:r});o.style.display="inline-block",o.style.cursor="pointer";for(var s=(this.rectData,this.colorer(this.fillColor)),a=this.colorer(this.strokeColor),l=this.rectStyler,u=this.g.zoomer.get("stepSize"),c=this.g.columns.get("hidden"),h=0,d=0;d<e;)if(0<=c.indexOf(d))d+=u;else{r=n*u;for(var f=0,p=u-1,g=0;0<p?g<=p:p<=g;0<p?g++:g--)f+=t[d];var m=i*(f/u),v={x:h,y:i-m,maxheight:i,width:r-n/4,height:m,rowPos:d},y=b.rect(v);y.style.stroke=a(v),y.style.fill=s(v),"function"==typeof l&&l(y,v),y.rowPos=d,o.appendChild(y),h+=r,d+=u}return this.el.appendChild(o),this},_onclick:function(i){var r=this,o=i.target.rowPos,s=this.g.zoomer.get("stepSize");return function(){for(var t=[],e=s-1,n=0;0<e?n<=e:e<=n;0<e?n++:n--)t.push(r.g.trigger("bar:click",{rowPos:o+n,evt:i}));return t}()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("bar:mousein",{rowPos:e,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("bar:mouseout",{rowPos:e,evt:t})}});e["default"]=s},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var g=i(n(12)),r=n(2),m=n(7),o=r.extend({className:"biojs_msa_gapview",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.listenTo(this.g.columns,"change:scaling",this.render),this.listenTo(this.model,"reset",this.render),this.manageEvents()},render:function(){var t=this.g.stats.gaps();m.removeAllChilds(this.el);var e=this.model.getMaxLength(),n=this.g.zoomer.get("columnWidth"),i=20,r=n*(e-this.g.columns.get("hidden").length),o=g.base({height:i,width:r});o.style.display="inline-block",o.style.cursor="pointer";for(var s=this.g.zoomer.get("stepSize"),a=this.g.columns.get("hidden"),l=0,u=0;u<e;)if(0<=a.indexOf(u))u+=s;else{r=n*s;for(var c=0,h=s-1,d=0;0<h?d<=h:h<=d;0<h?d++:d--)c+=t[u];var f=i*(c/s),p=g.rect({x:l,y:i-f,width:r-n/4,height:f,style:"stroke:red;stroke-width:1;"});p.rowPos=u,o.appendChild(p),l+=r,u+=s}return this.el.appendChild(o),this},_onclick:function(i){var r=this,o=i.target.rowPos,s=this.g.zoomer.get("stepSize");return function(){for(var t=[],e=s-1,n=0;0<e?n<=e:e<=n;0<e?n++:n--)t.push(r.g.trigger("gap:click",{rowPos:o+n,evt:i}));return t}()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("gap:mousein",{rowPos:e,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos);return this.g.trigger("gap:mouseout",{rowPos:e,evt:t})}});e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(138)),o=i(n(140)),s=n(4).extend({initialize:function(t){var e=this;return this.g=t.g,this.draw(),this.listenTo(this.g.vis,"change:labels change:metacell change:leftHeader",function(){return e.draw(),e.render()})},draw:function(){if(this.removeViews(),this.g.vis.get("leftHeader")&&(this.g.vis.get("labels")||this.g.vis.get("metacell"))){var t=new r["default"]({model:this.model,g:this.g});t.ordering=-50,this.addView("lHeader",t)}var e=new o["default"]({model:this.model,g:this.g});return e.ordering=0,this.addView("rHeader",e)},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_header"}});e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),r=n(2),o=n(7),s=r.extend({className:"biojs_msa_headers",initialize:function(t){return this.g=t.g,this.listenTo(this.g.vis,"change:metacell change:labels",this.render),this.listenTo(this.g.zoomer,"change:labelWidth change:metaWidth",this.render)},render:function(){o.removeAllChilds(this.el);var t=0;return t+=this.g.zoomer.getLeftBlockWidth(),this.el.style.width=t+"px",this.g.vis.get("labels")&&this.el.appendChild(this.labelDOM()),this.g.vis.get("metacell")&&this.el.appendChild(this.metaDOM()),this.el.style.display="inline-block",this.el.style.fontSize=this.g.zoomer.get("markerFontsize"),this},labelDOM:function(){var t=i.mk("div");if(t.style.width=this.g.zoomer.getLabelWidth(),t.style.display="inline-block",this.g.vis.get("labelCheckbox")&&t.appendChild(this.addEl(".",10)),this.g.vis.get("labelId")&&t.appendChild(this.addEl("ID",this.g.zoomer.get("labelIdLength"))),this.g.vis.get("labelPartition")&&t.appendChild(this.addEl("part",15)),this.g.vis.get("labelName")){var e=this.addEl("Label");t.appendChild(e)}return t},addEl:function(t,e){var n=document.createElement("span");return n.textContent=t,null!=e&&(n.style.width=e+"px"),n.style.display="inline-block",n},metaDOM:function(){var t=i.mk("div");return t.style.width=this.g.zoomer.getMetaWidth(),t.style.display="inline-block",this.g.vis.get("metaGaps")&&t.appendChild(this.addEl("Gaps",this.g.zoomer.get("metaGapWidth"))),this.g.vis.get("metaIdentity")&&t.appendChild(this.addEl("Ident",this.g.zoomer.get("metaIdentWidth"))),t}});e["default"]=s},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var d=i(n(12)),r=n(2),c=n(7),f=n(5),o=r.extend({className:"biojs_msa_marker",initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize",this.render),this.listenTo(this.g.vis,"change:labels change:metacell",this.render),this.manageEvents()},render:function(){c.removeAllChilds(this.el);var t=this.g.zoomer.get("markerFontsize"),e=this.g.zoomer.get("columnWidth"),n=this.g.zoomer.get("stepSize"),i=this.g.zoomer.get("markerStepSize"),r=this.g.columns.get("hidden");this.el.style.fontSize=t;for(var o=document.createElement("span"),s=this.model.getMaxLength(),a=0;a<s;a++)if(0<=r.indexOf(a)){var l=this.markerHidden(a,n);l&&o.appendChild(l),a+=n}else{var u=document.createElement("span");u.className="msa-col-header",u.style.width=e+"px",u.style.display="inline-block",u.textContent=(a+1)%i==0?a+1:(a+1)%n==0?".":" ",u.rowPos=a,o.appendChild(u)}return this.el.appendChild(o),this},markerHidden:function(t,e){for(var n=this,i=this.g.columns.get("hidden").slice(0),r=!0,o=Math.max(0,t-e);o<=t;o++)r&=0<=i.indexOf(o);if(!r){for(var s=this.model.getMaxLength(),a=0,l=-1,u=t;u<=s&&(0<=l||(l=i.indexOf(u)),0<=i.indexOf(u));u++)a++;var c=d.base({height:10,width:10});c.style.position="relative";var h=d.polygon({points:"0,0 5,5 10,0",style:"fill:lime;stroke:purple;stroke-width:1"});return f(h).on("click",function(){return i.splice(l,a),n.g.columns.set("hidden",i)}),c.appendChild(h),c}},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),
this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onclick:function(t){var e=t.target.rowPos,n=this.g.zoomer.get("stepSize");return this.g.trigger("column:click",{rowPos:e,stepSize:n,evt:t})},_onmousein:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos),n=this.g.zoomer.get("stepSize");return this.g.trigger("column:mousein",{rowPos:e,stepSize:n,evt:t})},_onmouseout:function(t){var e=this.g.zoomer.get("stepSize"*t.rowPos),n=this.g.zoomer.get("stepSize");return this.g.trigger("column:mouseout",{rowPos:e,stepSize:n,evt:t})}});e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(139)),o=i(n(135)),s=i(n(141)),a=i(n(136)),l=n(4).extend({initialize:function(t){return this.g=t.g,this.blockEvents=!1,this.listenTo(this.g.vis,"change:header",function(){return this.draw(),this.render()}),this.listenTo(this.g.vis,"change",this._setSpacer),this.listenTo(this.g.zoomer,"change:alignmentWidth",this._setWidth),this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft",this._adjustScrollingLeft),this.listenTo(this.g.columns,"change:hidden",function(){return this.draw(),this.render()}),this.draw(),this.g.vis.once("change:loaded",this._adjustScrollingLeft,this)},events:{scroll:"_sendScrollEvent"},draw:function(){if(this.removeViews(),this.g.vis.get("conserv")){var t=new o["default"]({model:this.model,g:this.g});t.ordering=-20,this.addView("conserv",t)}if(this.g.vis.get("markers")){var e=new r["default"]({model:this.model,g:this.g});e.ordering=-10,this.addView("marker",e)}if(this.g.vis.get("seqlogo")){var n=new s["default"]({model:this.model,g:this.g});n.ordering=-30,this.addView("seqlogo",n)}if(this.g.vis.get("gapHeader")){var i=new a["default"]({model:this.model,g:this.g});return i.ordering=-25,this.addView("gapview",i)}},render:function(){return this.renderSubviews(),this._setSpacer(),this.el.className="biojs_msa_rheader",this.el.style.overflowX="auto",this.el.style.display="inline-block",this._setWidth(),this._adjustScrollingLeft(),this},_sendScrollEvent:function(){return this.blockEvents||this.g.zoomer.set("_alignmentScrollLeft",this.el.scrollLeft,{origin:"header"}),this.blockEvents=!1},_adjustScrollingLeft:function(t,e,n){if(null==(null!=n?n.origin:void 0)||"header"!==n.origin){var i=this.g.zoomer.get("_alignmentScrollLeft");return this.blockEvents=!0,this.el.scrollLeft=i}},_setSpacer:function(){return this.el.style.marginLeft=this._getLabelWidth()+"px"},_getLabelWidth:function(){var t=0;return this.g.vis.get("leftHeader")||(t+=this.g.zoomer.getLeftBlockWidth()),t},_setWidth:function(){return this.el.style.width=this.g.zoomer.getAlignmentWidth()+"px"}});e["default"]=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(74),r=n(2),o=n(7),s=r.extend({initialize:function(t){return this.g=t.g,this.listenTo(this.g.zoomer,"change:alignmentWidth",this.render),this.listenTo(this.g.colorscheme,"change",function(){var t=this.g.colorscheme.getSelectedScheme();return this.seqlogo.changeColors(t),this.render()}),this.listenTo(this.g.zoomer,"change:columnWidth",function(){return this.seqlogo.column_width=this.g.zoomer.get("columnWidth"),this.render()}),this.listenTo(this.g.stats,"reset",function(){return this.draw(),this.render()}),this.draw()},draw:function(){o.removeAllChilds(this.el);var t=this.g.stats.conservResidue({scaled:!0}),e={alphabet:"aa",heightArr:t=_.map(t,function(t){return _.pick(t,function(t,e){return"-"!==e})})},n=this.g.colorscheme.getSelectedScheme();return this.seqlogo=new i({model:this.model,g:this.g,data:e,yaxis:!1,scroller:!1,xaxis:!1,height:100,column_width:this.g.zoomer.get("columnWidth"),positionMarker:!1,zoom:1,el:this.el,colors:n})},render:function(){return this.seqlogo.render()}});e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(143)),o=n(4).extend({initialize:function(t){var e=this;return this.g=t.g,this.draw(),this.listenTo(this.g.zoomer,"change:_alignmentScrollTop",this._adjustScrollingTop),this.g.vis.once("change:loaded",this._adjustScrollingTop,this),this.listenTo(this.g.zoomer,"change:alignmentHeight",this._setHeight),this.listenTo(this.model,"change:reference",this.draw),this.listenTo(this.model,"reset add remove",function(){return e.draw(),e.render()})},draw:function(){this.removeViews();for(var t=0;t<this.model.length;t++)if(!this.model.at(t).get("hidden")){var e=new r["default"]({model:this.model.at(t),g:this.g});e.ordering=t,this.addView("row_"+t,e)}},events:{scroll:"_sendScrollEvent"},_sendScrollEvent:function(){return this.g.zoomer.set("_alignmentScrollTop",this.el.scrollTop,{origin:"label"})},_adjustScrollingTop:function(){return this.el.scrollTop=this.g.zoomer.get("_alignmentScrollTop")},render:function(){return this.renderSubviews(),this.el.className="biojs_msa_labelblock",this.el.style.display="inline-block",this.el.style.verticalAlign="top",this.el.style.overflowY="auto",this.el.style.overflowX="hidden",this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px",this.el.style.lineHeight=""+this.g.zoomer.get("labelLineHeight"),this._setHeight(),this},_setHeight:function(){return this.el.style.height=this.g.zoomer.get("alignmentHeight")+"px"}});e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(144)),o=i(n(145)),s=n(4).extend({initialize:function(t){return this.g=t.g,this.draw(),this.listenTo(this.g.vis,"change:labels",this.drawR),this.listenTo(this.g.vis,"change:metacell",this.drawR),this.listenTo(this.g.zoomer,"change:rowHeight",function(){return this.el.style.height=this.g.zoomer.get("rowHeight")+"px"}),this.listenTo(this.g.selcol,"change reset add",this.setSelection)},draw:function(){if(this.removeViews(),this.g.vis.get("labels")&&this.addView("labels",new r["default"]({model:this.model,g:this.g})),this.g.vis.get("metacell")){var t=new o["default"]({model:this.model,g:this.g});return this.addView("metacell",t)}},drawR:function(){return this.draw(),this.render()},render:function(){return this.renderSubviews(),this.el.setAttribute("class","biojs_msa_labelrow"),this.el.style.height=this.g.zoomer.get("rowHeight")*(this.model.attributes.height||1)+"px",this.setSelection(),this},setSelection:function(){return 0<this.g.selcol.getSelForRow(this.model.id).length?this.el.style.fontWeight="bold":this.el.style.fontWeight="normal"}});e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(7),r=i.extend({initialize:function(t){return this.seq=t.seq,this.g=t.g,this.manageEvents()},manageEvents:function(){var t={};return this.g.config.get("registerMouseClicks")&&(t.click="_onclick"),this.g.config.get("registerMouseHover")&&(t.mousein="_onmousein",t.mouseout="_onmouseout"),this.delegateEvents(t),this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents),this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents),this.listenTo(this.g.vis,"change:labelName change:labelId change:labelPartition change:labelCheckbox",this.render),this.listenTo(this.g.zoomer,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",this.render),this.listenTo(this.g.zoomer,"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight",this.render)},render:function(){if(o.removeAllChilds(this.el),this.el.style.width=this.g.zoomer.getLabelWidth()+"px",this.el.setAttribute("class","biojs_msa_labels"),this.g.vis.get("labelCheckbox")){var t=document.createElement("input");t.setAttribute("type","checkbox"),t.value=this.model.get("id"),t.name="seq",t.style.width=this.g.zoomer.get("labelCheckLength")+"px",this.el.appendChild(t)}if(this.g.vis.get("labelId")){var e=document.createElement("span"),n=this.model.get("id");isNaN(n)||n++,e.textContent=n,e.style.width=this.g.zoomer.get("labelIdLength")+"px",e.style.display="inline-block",this.el.appendChild(e)}if(this.g.vis.get("labelPartition")){var i=document.createElement("span");i.style.width=this.g.zoomer.get("labelPartLength")+"px",i.textContent=this.model.get("partition"),i.style.display="inline-block",this.el.appendChild(e),this.el.appendChild(i)}if(this.g.vis.get("labelName")){var r=document.createElement("span");r.textContent=this.model.get("name"),this.model.get("ref")&&this.g.config.get("hasRef")&&(r.style.fontWeight="bold"),r.style.width=this.g.zoomer.get("labelNameLength")+"px",this.el.appendChild(r)}return this.el.style.overflow=scroll,this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px",this},_onclick:function(t){var e=this.model.get("id");return this.g.trigger("row:click",{seqId:e,evt:t})},_onmousein:function(t){var e=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:e,evt:t})},_onmouseout:function(t){var e=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:e,evt:t})}});e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(10),c=i(n(6)),h=n(3),r=n(2),d=n(7),o=r.extend({className:"biojs_msa_metaview",initialize:function(t){return this.g=t.g,this.listenTo(this.g.vis,"change:metacell",this.render),this.listenTo(this.g.zoomer,"change:metaWidth",this.render)},events:{click:"_onclick",mousein:"_onmousein",mouseout:"_onmouseout"},render:function(){d.removeAllChilds(this.el),this.el.style.display="inline-block";var t=this.g.zoomer.getMetaWidth();if(this.el.style.width=t-10,this.el.style.paddingRight=5,this.el.style.paddingLeft=5,this.el.style.fontSize=this.g.zoomer.get("labelFontsize")-2+"px",this.g.vis.get("metaGaps")){var e=this.model.get("seq"),n=(0,h.reduce)(e,function(t,e){return"-"===e?++t:void 0},0);n=(100*n/e.length).toFixed(0)+"%";var i=document.createElement("span");i.textContent=n,i.style.display="inline-block",i.style.width=35,this.el.appendChild(i)}if(this.g.vis.get("metaIdentity")){var r=this.g.stats.identity()[this.model.id],o=document.createElement("span");this.model.get("ref")&&this.g.config.get("hasRef")?o.textContent="ref.":null!=r&&(o.textContent=r.toFixed(2)),o.style.display="inline-block",o.style.width=40,this.el.appendChild(o)}if(this.g.vis.get("metaLinks")&&this.model.attributes.ids){var s=u.seqs.buildLinks(this.model.attributes.ids);if(0<Object.keys(s).length){var a=new c["default"]({name:"\xe2\u2020\u2014"});s.forEach(function(t,e){return a.addNode(e,function(){return window.open(t)})});var l=a.buildDOM();return l.style.cursor="pointer",this.el.appendChild(l)}}},_onclick:function(t){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:t})})},_onmousein:function(t){return this.g.trigger("meta:mousein",{seqId:this.model.get("id",{evt:t})})},_onmouseout:function(t){return this.g.trigger("meta:mouseout",{seqId:this.model.get("id",{evt:t})})}});e["default"]=o},function(n,t){(function(t){"use strict";var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},n.exports=e}).call(t,function(){return this}())},function(t,e,n){"use strict";function i(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(t)?r(t,e,n):"string"==typeof t?o(t,e,n):s(t,e,n)}function r(t,e,n){for(var i=0,r=t.length;i<r;i++)u.call(t,i)&&e.call(n,t[i],i,t)}function o(t,e,n){for(var i=0,r=t.length;i<r;i++)e.call(n,t.charAt(i),i,t)}function s(t,e,n){for(var i in t)u.call(t,i)&&e.call(n,t[i],i,t)}var a=n(52);t.exports=i;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},function(t,e){"use strict";function n(t){return t.replace(/^\s*|\s*$/g,"")}(e=t.exports=n).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";var o=n(148),i=n(147),s=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var r={};return i(o(t).split("\n"),function(t){var e=t.indexOf(":"),n=o(t.slice(0,e)).toLowerCase(),i=o(t.slice(e+1));"undefined"==typeof r[n]?r[n]=i:s(r[n])?r[n].push(i):r[n]=[r[n],i]}),r}},function(t){"use strict";function e(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}t.exports=e;var r=Object.prototype.hasOwnProperty},function(t,e,n){(t.exports=n(89)()).push([t.id,'.biojs_msa_stage{cursor:default;line-height:normal;font-family:Helvetica}.biojs_msa_seqblock{cursor:move}.biojs_msa_layer{display:block;white-space:nowrap}.biojs_msa_labels{color:#000;display:inline-block;cursor:pointer;vertical-align:middle;overflow:hidden;text-overflow:clip}.biojs_msa_header,.biojs_msa_labels{white-space:nowrap;text-align:left}.biojs_msa_labelrow:before{content:"";display:inline-block;width:0;height:100%;vertical-align:middle}.biojs_msa_labelrow{height:100%}.biojs_msa_labelblock::-webkit-scrollbar,.biojs_msa_rheader::-webkit-scrollbar{//:none;width:7px;height:7px}.biojs_msa_labelblock::-webkit-scrollbar-thumb,.biojs_msa_rheader::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}.biojs_msa_marker{color:#999;white-space:nowrap}.biojs_msa_marker .msa-col-header{cursor:pointer;text-align:center}.biojs_msa_marker .msa-col-header:hover{color:red}.smenubar .smenubar_alink{background:#3498db;background-image:linear-gradient(180deg,#3498db,#2980b9);border-radius:28px;font-family:Arial;color:#fff;padding:3px 10px;margin-left:10px;text-decoration:none}.smenubar{display:inline-block}.smenubar .smenubar_alink:hover{cursor:pointer}.smenu-dropdown{position:absolute;z-index:9;display:none;margin-left:5px;margin-top:22px}.smenu-dropdown .smenu-dropdown-menu,.smenu-dropdown .smenu-dropdown-panel{min-width:160px;max-width:360px;list-style:none;background:#fff;border:1px solid #ddd;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);overflow:visible;padding:4px 0;margin:0}.smenu-dropdown .smenu-dropdown-panel{padding:10px}.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel{max-height:358px;overflow:auto}.smenu-dropdown .smenu-dropdown-menu li{display:block;color:#555;text-decoration:none;line-height:18px;padding:3px 15px;white-space:nowrap}.smenu-dropdown .smenu-dropdown-menu li:hover{background-color:#08c;color:#fff;cursor:pointer}.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider{font-size:1px;border-top:1px solid #e5e5e5;padding:0;margin:5px 0}.biojs_msa_div{position:relative}.biojs_msa_scale{position:absolute;bottom:0;right:0;background-color:#fff;box-shadow:0 2px 3px #999;border-radius:3px;margin:5px 0 0 auto;padding:5px;text-align:center}.biojs_msa_scale .msa-btngroup{margin:5px auto 0}.biojs_msa_scale [type=range]{cursor:pointer}.biojs_msa_scale .msa-btn-close{text-align:right;font-size:.8em;padding:2px}.biojs_msa_scale .msa-btn-open{background-color:#fff}.biojs_msa_scale .msa-hide{display:none}.msa-btn{cursor:pointer;font-size:1.1em;display:inline-block;padding:2px 8px;margin-bottom:0;border:1px solid transparent;border-radius:4px;box-sizing:border-box}.msa-btn:hover{background-color:#ddd}',""])},function(t){function l(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=g[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(h(i.parts[o],e))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(h(i.parts[o],e));g[i.id]={id:i.id,refs:1,parts:s}}}}function u(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s={css:r[1],media:r[2],sourceMap:r[3]};n[o]?n[o].parts.push(s):e.push(n[o]={id:o,parts:[s]})}return e}function n(t,e){var n=r(),i=o[o.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),o.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=o.indexOf(t);0<=e&&o.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",n(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",n(t,e),e}function h(e,t){var n,i,r;if(t.singleton){var o=v++;n=m||(m=a(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=p.bind(null,n),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),i=f.bind(null,n),r=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function d(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var g={},e=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},i=e(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),r=e(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,o=[];t.exports=function(t,s){"undefined"==typeof(s=s||{}).singleton&&(s.singleton=i()),"undefined"==typeof s.insertAt&&(s.insertAt="bottom");var a=u(t);return l(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var i=a[n];(r=g[i.id]).refs--,e.push(r)}t&&l(u(t),s);for(n=0;n<e.length;n++){var r;if(0===(r=e[n]).refs){for(var o=0;o<r.parts.length;o++)r.parts[o]();delete g[r.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")})},function(t,e,n){var i=n(151);"string"==typeof i&&(i=[[t.id,i,""]]),n(152)(i,{}),i.locals&&(t.exports=i.locals)},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./StageScale":25,"./StageScale.js":25,"./colorscheme":26,"./colorscheme.js":26,"./columns":27,"./columns.js":27,"./config":28,"./config.js":28,"./package":29,"./package.js":29,"./selection/Selection":8,"./selection/Selection.js":8,"./selection/SelectionCol":9,"./selection/SelectionCol.js":9,"./selection/index":49,"./selection/index.js":49,"./user":30,"./user.js":30,"./visOrdering":31,"./visOrdering.js":31,"./visibility":32,"./visibility.js":32,"./zoomer":33,"./zoomer.js":33};i.keys=function(){return Object.keys(o)},i.resolve=r,(t.exports=i).id=154},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./bmath":15,"./bmath.js":15,"./exporter":16,"./exporter.js":16,"./file":17,"./file.js":17,"./index":37,"./index.js":37,"./loader":18,"./loader.js":18,"./proxy":19,"./proxy.js":19,"./recognize":38,"./recognize.js":38,"./seqgen":39,"./seqgen.js":39,"./svg":12,"./svg.js":12,"./tree":40,"./tree.js":40};i.keys=function(){return Object.keys(o)},i.resolve=r,(t.exports=i).id=155}]),NS||(NS={}),NS.fasta=">gi|328696568|ref|XP_003240064.1| PREDICTED: uncharacterized protein LOC100575472 [Acyrthosiphon pisum]\nMTRLHSVIHKLPNWKQLRVVLKLMSIMGDPVASFPEIIELNKLRRWYEVRINENRHMTLKMKQNLMVQSINAWSAPRIKLTSVNVPQNPMPGEGKIGAMKITWNRVNEMKRKIKKTKSEYIDKLKRVAINNARTMYQTMYNDYYNSHLSRNFKQSYYDYFPAKEDDCLFEYVADRKNNK\n>gi|641647015|ref|XP_008180670.1| PREDICTED: 33 kDa inner dynein arm light chain, axonemal-like [Acyrthosiphon pisum]\nMSTVEKVLSSELNLVQFDNPKMIATKSMPTLSTQTKQEKYCMESNVSAMESGDYVDEAKQHNCTYVLNSILPRKEWEMDGKIFSQQISIQPATKRDVKNLVEKFDTYLKEYNTKVVGICPIKQEIYSQCFNEVIRQVTLNCTERGYMLIRIRDELQMTIDGYKEVYESALAHGIRKSLQAIL\n>gi|328711854|ref|XP_003244660.1| PREDICTED: uncharacterized protein LOC100571180 [Acyrthosiphon pisum]\nMVKIGLPWLLLVLMKLTNREIKSDEIISIQEVYDICQAEPNTDICDLLEKSSSLVDLNKLDSPEKRRQKTVFSSWGGKRQSTYPYGGKRPAFSSWGGKRASDKHGRPKQTFSSWGGKRSDYDGYDNGEMDEHQMDKRELNGIKQDKNNYRNKMTKGIHALFTIFSDWSRDPEEKKGIRYAGIKSMRRSSDFFPWGGKRFTGDAK\n>gi|253735804|ref|NP_001156684.1| ecdysis triggering hormone preproprotein [Acyrthosiphon pisum]\nMSGYLAIIVLVCLQILRVMSINEFPEKKVQNIWLADLDDKQIASRIERSDQFETASDVLMKDASVYPKITRRGFAGEEFFLKASKSVPRIGRRNNDIQETPKRSLSKDQVNMVEYWPYLQPNDINDLTRKHDFDLPYNCQQLDAKTIFLVDMYNFVCNDQFYCCAPAKRAIANSPNSNSL\n>gi|328710353|ref|XP_003244236.1| PREDICTED: uncharacterized protein LOC100573178 [Acyrthosiphon pisum]\nMTMSVTITILCILGSTFLLIMPDNTTASDKFFQTGGRFGKRHDEHIPDIRYAAMVKTRSVDNVPPRIERGFYISRYGKRSTNSITDPYYFTLCLPSYGIYCDFTGLPNLLRCKRIQPGACSNLNYVNEKTQMKPDNDIII\n>gi|328721150|ref|XP_003247225.1| PREDICTED: uncharacterized protein LOC100571498 [Acyrthosiphon pisum]\nMSFRKFFLRDNGKHRNMDSGGKNDESTTNKDEAKQGQHDAHKHHDIMGEIVLGQELPDNVKDNHNGVDLVDNQVKEVNPHSESLDTYQIDEYDDYMDEDINIITATLDI\n>gi|193573549|ref|XP_001947462.1| PREDICTED: orcokinin peptides type A-like isoform X2 [Acyrthosiphon pisum]\nMASSSTMIVAVASALCVHTILAYPTSIERVSGDNNYLPLRNSPSRDLDRFIEGENLLRDLEILRDRAEYFARQSRHINSLDGVGFGQSKRFDTLSGVSFGGQKRNFDEIDRSGFDRFVKKNFDEIDRSGFDRFVKKNFDEIDRSAFNSFVKRPNKVPAANLE\n>gi|328711811|ref|XP_003244646.1| PREDICTED: uncharacterized protein LOC100163518 isoform X2 [Acyrthosiphon pisum]\nMAGKFSALFLVGFVAAVVVAPYMMAEARYLPTRGNDDRLTRLKELLTDLLDSGAQPNLEMERPYVDVNGDFSRLRPREYNIPEKSIMELFNPTVPHHQRPRS\n>gi|641677312|ref|XP_008187726.1| PREDICTED: uncharacterized protein LOC100569988 isoform X1 [Acyrthosiphon pisum]\nMNPSILTLVWMSILVSLVQTVFADDVIMQKRYFDNDNPVAEPIRRKKPFCNAFTGCGRKRSDESMATLVDLRSEPAVEEISRQIMSEAKLWEAIQEARLELIRQQRQNKAERMDVKPYPIGLRRKRRSLATSDKC\n>gi|328717573|ref|XP_003246245.1| PREDICTED: uncharacterized protein LOC100568735 [Acyrthosiphon pisum]\nMPHKINVGLVALAALAAAVLADPSVDRRASMGFMGMRGKKDRDQGGGGSGGDETSAAVDLDKRTMVFRRPMFDGGSRPAVFGGGSAEGFKRASMGFMGMRGKKDYYSNNKGSAAGFFGMRGKKVPSADAFYGVRGKKWPDHEDAVDADVQLSPIYILYRIIDELKSELSDRERNLVAAKFDEEREMR\n>gi|328721130|ref|XP_003247218.1| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMAMQFKFDSNSHVGQVLKINNTLTAEGYENNHELRNNLRLIIDEIGKSSAIAQHLEFPITSAQKLLNSDHVIYMMTEQNTPANFAVIGFLKMGWKKLFIYNKQDTCSETLVYCMLDFYIYESKQRQGYGKRLIEYMLQDMKLHARHLVMDKPTTNLLQFMLKNFQLSKLVNQGNNFAIYEDFFDEFNENHDYTGNRTSGYNRPPTFGRHGAHKHHDSMGEILQNTGPSSSVMHNHNNDFVHNQFHEVKPHTEEALGSLQINKYGDYVERDLKYHHSST\n>gi|752421898|ref|XP_011230170.1| PREDICTED: glucagon [Ailuropoda melanoleuca]\nMKSIYFVAGLFVMLVQGSWQRSLQDTEEKSRSLPAPQTDPLNDPDQMNEDKRHSQGTFTSDYSKYLDSRRAQDFVQWLMSTKRNKNNIAKRHDEFERHAEGTFTSDVSSYLEGQAAKEFIAWLVKGRGRRDFPEEVAIVEELRRRHADGSFSDEMNTVLDDLATRDFINWLLQTKITER\n>gi|641675367|ref|XP_003247220.2| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMEFNFNIGKVATDEVLKINNTLTVEGHEENDDLKNIMRLIIDEMGKASAVSQEFKVPITSANRLVNSDHVIYMMTEHKKPGHFAVVGFLKMGWKKLFLYDKQASRSEARVYCLLDFYIHESKQRKGYGIRLIQCMLQDIGLEAKHLAIDKPTDKLLQFMWKHFQLSKLVNQENNFVIFEEFFHNSSEKKNNRDNTGNRAVAYKSQPMFGRHGAHKHHDSMAEIIQGEGNAAFVKFKYNQDTDFVDNQFKEKNPNPESKGAFKTNMDGYSVKRDLKFHHNSLW\n>gi|641669265|ref|XP_008184748.1| PREDICTED: eukaryotic translation initiation factor 2-alpha kinase isoform X2 [Acyrthosiphon pisum]\nMNLIIIKYLLKVVFIVFGVQTVFVLCDKPVCPGNHEANKQFIFISTLDGKLTALNTANGGTEAWKLSTEPGALLSSTIGQPELSNNGLWVRMIPSLSGSLYTFDGENLDRLPFTVDSLLKSYFPYYDGLAMSGGKISRTYGVDMSTGQLLYKCDMDQCNNFPSNSFTSIDGNILILQTQTQTVRASDTLTGIERWNFSVGLHDIKVIMDLNNNCHTTNPSIKLDFKINIPNGVVTAVAFDRPQEVVWTHKSESPIVNVWKFEHGKVESIDLFKPDHNLNSIDPVIYLGMHKKQLYIQENDKVFAVNPISYLKSLLLEGNEINKSRIPWKPIPVSSQLISKSPSALQTTDDVSKTTAIAVLYASEYINGNGFYLNGPQKTKRLIDGKKYKSFNSENENETENNHESIIQYEEGLEMPVEIIIVSLWYWWKEVLFISVITAILINIFIPSRLARIITFIHNRSKKNEGVEKIVEPIENNIDCCKDSGIEFSSDNIVQKQLHPIVEFKSRYLQDFEPIHCLGKGGFGIVFEARNKIDDCHYAIKRIPLPSKEESRNRVLREVKALAKLDHQHIVRYFNTWLEEPPSGWQEKHDDDWLQKSGDMDMNSNLTMSEKQVTNVCQNKHHVRAKSLSTWITLPESSEELSDILNNPHALRSYNDKSDSSFIVFESQISDTNTKDCILDISSDNLTKASKRRRYKSECDTTSNAHSERKATRHYLYIQMQLCHKNSLREWLKDNTKNRDMKYILNIFSQIIQAVEYVHLQGLIHRDLKLQK\n>gi|193605856|ref|XP_001945771.1| PREDICTED: replication factor C subunit 2 [Acyrthosiphon pisum]\nMEVDNPEEGASTSAVIDPMEGCSTSTNNVLTTVPPQTKTVKSDLNTPWIEKYRPKSFTDIVGNEETVLRLEKFSSCGNVPNIIIAGPPGVGKTTTILALARILLGGAFKEAVLELNASSDRGIDTVRNKIKMFAQQKVTLPPGRHKIIILDEADSMTDGAQQALRRTMELWSNTTRFALACNNSDKIIEAIQSRCAMLRYGKLSDQEVMTQMLKVCKSEEVSFSADGLEAVVFTAQGDMRQALNNLQSTWNGFRHVDSTNVFKVCDEPHPLLVKEMLLECADQNISKAYKIMAHLWKLGYAPEDIITNIFRVAKHLEIKESLKLKFVQEIGMAHIRIVEGMNSLLQLSGLLAKLCTVSAKTDG\n>gi|193606041|ref|XP_001946815.1| PREDICTED: uncharacterized protein LOC100166012 [Acyrthosiphon pisum]\nMQFNNYHDEAQKTDRDAPPPVEGRMDIGETSECKPRFGRHDAHKRHDTMGEIVQSGTDTMKFKYNHDNDFVDSRFKELIPHPEVVGELQTDKYGNSVKRDLKFHHSTLW\n>gi|641675365|ref|XP_008187013.1| PREDICTED: uncharacterized protein LOC100166012 [Acyrthosiphon pisum]\nMQFNNYHDEAQKTDRDAPPPVEGRMDIGETSECKPRFGRHDAHKRHDTMGEIVQSGTDTMKFKYNHDNDFVDSRFKELIPHPEVVGELQTDKYGNSVKRDLKFHHSTLW\n>gi|193606039|ref|XP_001946532.1| PREDICTED: alpha-tubulin N-acetyltransferase 1-like [Acyrthosiphon pisum]\nMEFKFDIKNVATEEVMKIDNTLTALGHEQNEDLKSIMKLIIDEMGKASAIAQELKMPITSGDKLANSDHILYMMTEHDKPEHFSVVGILKMGWKKLYLYNKEGLRSEAMVYCLLDFYIHESKQRKGYGKRLIECMLQDINLEAKHLAIDKPTKKLLQFMWKHYQLSKLVNQGNNFVIFEEFFDDALDEKNHDNSGHRAVSYMRQPMFGRHGAHKHHDTMGEIVQGEGDAAFVKFKYNQDTDFVDHQFKETNPHPENSNAFKTDKDGNSVKRDLKFHHNSLW\n>gi|641675371|ref|XP_008187015.1| PREDICTED: poly(A) RNA polymerase, mitochondrial-like [Acyrthosiphon pisum]\nMDLFKDWGLLCARILSDLELMNLSLTSTEIQSRVQQLCDSISSFQINTDSKKIHIFGSRIYGLATNTTDIDIYLEIDDTFDGIIANNEEIQVEYVQQFTKYCLLKPEVFQNVKSICNCRVPIVTFYHVPSKFICDVSFKSGLGTYNTKLIKFYLSMDTTVKWLVCVIVKNWALQNGLKDRNLFTSYALIWLVLFYLMTEKVVPSLIKLRQNATKADHKVIEGWDCTFGKCSVYISEDKRPKLLMGFFQYYANKRALKDNVLSTCTGQLIKKHAFYEKFSQLPGLSKIQRTKFKNFKAKVDSSFEKNYGLVLQDPFELSFNLTRNLHNQALTDFCDLCHQSSTLLINMKGYSMFSNT\n>gi|641676236|ref|XP_008187335.1| PREDICTED: allatostatins [Acyrthosiphon pisum]\nMHHSCCMWILVIATAVWTDAITGHEDKVGIKSQQAQQQQQSDIMQTMVDGGGHQSIQMTSPAESYFNDPLGPLGYLAKRAHKQYGFGLGKRLYRQYEFGLGKRSASKQYGFGLGKRAALKQYEFGLGKRASPTFYSFGLGRRASPQYSFGLGKRVSHPSFLNVDDRESDYTYNDLSEEKKRTADDMGHGQRFAFGLGKRGAGAEWDDGDGDGDDAAPIWHPAVRRARLQYGFGLGKRADRDYDATTGTEYTDTLQLADDAADINN\n>gi|641675388|ref|XP_008187022.1| PREDICTED: uncharacterized protein LOC103310453 [Acyrthosiphon pisum]\nMAEIMNIDVSIKLPPLLLQSFSINNYEAKCMKCNISCAPEEEDILFHLSVCNGTLIEENIQTLFKFNCLECNYLTHSIDQWKCHLFKLDHISKSFDFDILRLSYDCKSCNTHFFGFRDSILKHHCKPQFIPSISYLMSSVYKNYNVQDEQTMFHYCTDCSFFTDNLTELHKKEHSEVADPSVCHSCLITFYGSSNEEFLNHKVSFEHILLWCLNGARSVPKMSTTAFQNLPYYITKYFVISPLLKKFCCIVCNTKNILTYECIYDHFYNCISSKEISDVKGCNPLLSINCNLCDYSCFSVDDMYKCWVDHVISFDHLSKTVILSLKI\n>gi|641675373|ref|XP_008187016.1| PREDICTED: poly(A) RNA polymerase, mitochondrial-like [Acyrthosiphon pisum]\nMNLSRTSIETRSRVQQLCDSICSFQINTDSKKIHTFGSRVYGLATNTTNIDIYLEIDDTFDGIIANNEKIQVEYVQQFTKYCLSKPEVFQNVKSICNCRMPIVTFYHVPSKFICDVSFKSGLVTYNTELIKFYLLMNPTVKWLVCVIVKNWAPQNGLIDRQLFTSYALIWLVLFYLMTEKVVPSLIKLRHISTEDDHKVIEGWDCTFGKCFIYISEEKRPKLLLGFFQYYANKRALKDNVLSTCTGQLIKKHEFFERFSQLPGLSQIQRTKFKNFKAEVDSSFEKNYGLVLQDPFELSFNLTRNLHDKALNDFCDLCMQSSRLLLNMKD\n>gi|641659926|ref|XP_008181304.1| PREDICTED: uncharacterized protein LOC100570556 isoform X2 [Acyrthosiphon pisum]\nMHKFFVQIYIFVLIIWAVEKSDCKQGACLNYGHSCWGAHGKRNVPNDLDSLIRYRMAVFKKSGHRDSFINPNADQSQEDIPNYYNIFKHYSKINSVKTNNDDTVDTWSLEPSNNLPSGGSYYEDQVLDPRIEYKIMKI\n>gi|301771746|ref|XP_002921293.1| PREDICTED: thyrotropin releasing hormone [Ailuropoda melanoleuca]\nMPGPWLQLAMALTLTVAGIPGGRAQPEVAQQEAAMAPERAGLDDLLRQAQRLLFLREDLQRLRGNQGDLESEAQILQPDWLSKRQHPGKREGEAEEGVEEEEEEGGAVGPHKRQHPGRQEDVAAWSDVTLQKRQHPGRRAPLLGYAFTKRQHPGRRLVDSKAQRSWEAEEEDGEEEGGEPMPEKRQHPGKRALGSPCGPGAACGQASLLLGLLDDLSRGQGAEEKRQHPGRRAAWAREPLEE\n>gi|193629757|ref|XP_001950852.1| PREDICTED: splicing factor U2AF 50 kDa subunit-like [Acyrthosiphon pisum]\nMGEDKERERDRDRGEREKERGERRRRSRSRDRERHRRHRSRSRDGRKRSRSKSPKNKSRRRKPSLYWDVPPPGFEHIAPLQYKAMQAAGQIPANTMPDTPQTAVPVVGSTITRQARRLYVGNIPFGVTEDEMMEFFNQQMHLSGLAQAAGNPVLACQINLDKNFAFLEFRSIDETTQAMAFDGINFKGQSLKIRRPHDYQPTPGMTESNPVTNYNSGMTLDMMKYDSSSFGLGTVPDSPHKIFIGGLPAYLNDEQVKELLTSFGQLKAFNLVKDAATGLSKGYAFCEYADVVMTDQAIAGLNGMQLGEKKLIVQRASIGAKNPGLGQAPVTIQVPGLTVVGTAGPPTEVLCLLNMVTPDELKDEEEYEDILEDIREECNKYGVVRSLEIPRPIEGIDVPGCGKVFIEFNAIPDCQKAQQALAGRKFNNRVVVTSFMEPDKYHRREF\n",NS.addSeqValidation=function(){$.validator.addMethod("checkInputType",function(t){var e=[],n="";if(">"!==t.charAt(0))return"protein"===(n=NS.checkType(t,.9))||"dna"===n||"rna"===n;for(var i=t.split(">"),r=1;r<i.length;r++){var o=i[r].split("\n");if(0!==o.length){var s=jQuery.grep(o,function(t){return t});if(0!==s.length){s.shift();var a=s.join("");if(n=NS.checkType(a,.9),e.push(n),"protein"!==n&&"dna"!==n&&"rna"!==n)return!1}}}for(var l=e[0],u=0;u<e.length;u++)if(e[u]!==l)return!1;return!0},"* The Input must be either DNA or protein sequence(s). Please ensure that your sequences do not contains any non-letter character(s). If there are multiple sequences, ensure that they are all of one type. ")},NS.setUpValidatorDefaults=function(){NS.addSeqValidation(),$.validator.setDefaults({errorClass:"invalid",errorPlacement:function(t,e){t.insertAfter($(e).siblings("label"))}})},NS.initValidation=function(){0!=$("#input").length&&(NS.setUpValidatorDefaults(),$("#input").validate({rules:{seq:{required:function(){return $("textarea[name=seq]").is(":visible")}},input_file:{required:function(){return $("textarea[name=input_file]").is(":visible")}}},submitHandler:function(){if(spinner_elem=document.getElementById("spinner_model"),M.Modal.getInstance(spinner_elem).open(),0!==NS.fineUploader.getInProgress())return $(".validation_text").text("Please wait until all the files have completely uploaded."),!1;$(".validation_text").text("");var t=$("#input").serializeArray();t.push({name:"files",value:JSON.stringify(NS.fineUploader.getUploads())}),$.ajax({type:"POST",url:$("#input").attr("action"),data:t,success:function(t){NS.ajaxSuccessFunction(t)},error:function(t,e){NS.ajaxErrorFunction(t,e)}})}}))},NS.ajaxSuccessFunction=function(t){$("#results_box").show(),$("#output").html(t),NS.initResultElem(),$("html, body").animate({scrollTop:$("#results").offset().top}),spinner_elem=document.getElementById("spinner_model"),M.Modal.getInstance(spinner_elem).close()},NS.initResultElem=function(){$(".alignment").css("max-width",$(".card").width()-120+"px"),$(window).on("resize",function(){$(".alignment").css("max-width",$(".card").width()-120+"px")});var t=document.querySelectorAll(".np_collapsible");M.Collapsible.init(t);var e=document.querySelectorAll(".np_inner_collapsible");M.Collapsible.init(e,{onOpenStart:function(t){t.getElementsByClassName("collapsible-header")[0].innerHTML="View Less Information"},onCloseStart:function(t){t.getElementsByClassName("collapsible-header")[0].innerHTML="View More Information"}})},NS.ajaxErrorFunction=function(t){var e;$("#results_box").show(),e=500==t.status||400==t.status?t.responseText:"There seems to be an error in running the analysis.",$("#output").html(e),spinner_elem=document.getElementById("spinner_model"),M.Modal.getInstance(spinner_elem).close()},NS.initFineUploader=function(){0!=$("#fine-uploader-validation").length&&(null!=NS.fineUploader&&(NS.fineUploader.reset(),$("#fine-uploader-validation").empty()),NS.fineUploader=new qq.FineUploader({element:$("#fine-uploader-validation")[0],template:"qq-template-validation",request:{endpoint:"/api/upload"},thumbnails:{placeholders:{waitingPath:"/assets/img/fine-uploader/placeholders/file.png",notAvailablePath:"/assets/img/fine-uploader/placeholders/file.png"}},validation:{allowedExtensions:["fa","fas","fna","faa","fasta"],itemLimit:5,sizeLimit:7865e4},callbacks:{onSubmitted:function(){var t=document.getElementById("input_type"),e=M.Tabs.getInstance(t);1!==e.index&&e.select("upload")}},chunking:{enabled:!0,concurrent:{enabled:!0},success:{endpoint:"/api/upload_done"}}}),NS.fineUploader.addExtraDropzone($(".drop_zone_container")[0]))},NS.initShowExampleButton=function(){0!=$("#np_example").length&&!0!==NS.npexample_click&&($(document).on("click","#np_example",function(){$("#seq").focus(),$("#seq_label").addClass("active"),$("#seq").val(NS.fasta),$("#seq").valid(),M.textareaAutoResize($("#seq"))}),NS.npexample_click=!0)},NS.initSearchTabs=function(){var t=document.getElementById("adv_params_collapsible");t&&M.Collapsible.init(t,{onOpenStart:function(t){t.getElementsByClassName("collapsible-header")[0].innerHTML="Hide Advanced Parameters"},onCloseStart:function(t){
t.getElementsByClassName("collapsible-header")[0].innerHTML="Show Advanced Parameters"}});var e=document.getElementById("input_type");e&&M.Tabs.init(e,{onShow:function(){0==$(this)[0].index?$(".show_examples_text").show():$(".show_examples_text").hide()}})},NS.initSearchModal=function(){M.Modal.init(document.getElementById("spinner_model"),{dismissible:!1})},NS.initAdvancedParams=function(){$(document).on("change","#all_hmm",function(){$("#all_hmm").is(":checked")?($("#default_hmms_options").hide(),$("#custom_hmms_options").hide()):($("#default_hmms_options").show(),$("#custom_hmms_options").show())})},NS.initMaterialize=function(){$(".sidenav").sidenav(),M.Modal.init(document.getElementById("login_modal"))},NS.initSpFilter=function(){$(".sp_filter").change(function(){$(this).prop("checked")?$(".card").has(".no_sp_present").hide():$(".card").has(".no_sp_present").show()})},NS.addUserDropDown=function(){M.Dropdown.init(document.querySelectorAll(".dropdown-button"),{inDuration:300,outDuration:225,coverTrigger:!1,hover:!0,alignment:"right"})},NS.initNewHMMForm=function(){NS.setUpValidatorDefaults(),$("#create_new_hmm").validate({rules:{seq:{required:function(){return $("textarea[name=seq]").is(":visible")}},input_file:{required:function(){return $("textarea[name=input_file]").is(":visible")}}},submitHandler:function(){if(spinner_elem=document.getElementById("spinner_model"),M.Modal.getInstance(spinner_elem).open(),0!==NS.fineUploader.getInProgress())return $(".validation_text").text("Please wait until all the files have completely uploaded."),!1;$(".validation_text").text("");var t=$("#create_new_hmm").serializeArray();t.push({name:"files",value:JSON.stringify(NS.fineUploader.getUploads())}),$.ajax({type:"POST",url:$("#create_new_hmm").attr("action"),data:t,success:function(t){console.log(t),spinner_elem=document.getElementById("spinner_model"),M.Modal.getInstance(spinner_elem).close()},error:function(t,e){NS.ajaxErrorFunction(t,e)}})}})},NS.checkType=function(t,e,n,i){"use strict";e===undefined&&(e=.9),n===undefined&&(n=1e4),i===undefined&&(i=1);var r=t.slice(i-1,n),o=r.replace(/N/gi,""),s=o.length,a=(o.match(/[ACG]/gi)||[]).length/s,l=(o.match(/[T]/gi)||[]).length/s,u=(o.match(/[U]/gi)||[]).length/s,c=r.replace(/X/gi,"").length,h=(r.match(/[ARNDCQEGHILKMFPSTWYV\*]/gi)||[]).length/c;return e<=a+l||e<=a+u?u<=l?"dna":l<=u?"rna":"dna":e<=h?"protein":void 0},NS.initializeHmmTable=function(t,e){$("#"+t).dataTable({bDestroy:!0}),!0!==NS[e+"_search"]&&($(document).on("click","#"+e+" .search-toggle",function(){"none"==$("#"+e+" .hiddensearch").css("display")?($("#"+e+" .hiddensearch").slideDown(),$("#"+e+" .hiddensearch input").focus()):$("#"+e+" .hiddensearch").slideUp()}),NS[e+"_search"]=!0)},NS.load_single_result=function(){var t=window.location.pathname;(t.startsWith("/result/")||t.startsWith("/sh/"))&&(spinner_elem=document.getElementById("spinner_model"),M.Modal.init(spinner_elem,{dismissible:!1}),$("#spinner_model h2").text("Loading..."),M.Modal.getInstance(spinner_elem).open(),$.ajax({type:"POST",url:t,success:function(t){NS.ajaxSuccessFunction(t)},error:function(t,e){NS.ajaxErrorFunction(t,e)}}))},NS.initAlignment=function(){if(0!=$("#sequences").length){var t=$("#sequences").text(),e=msa.io.fasta.parse(t),n=e.length;max_height=50<n?750:15*n,NS.msa_alignment=msa({el:document.getElementById("msa"),seqs:e,zoomer:{alignmentHeight:max_height},vis:{conserv:!0,seqlogo:!0}}),NS.msa_alignment.render()}},NS.addLoginOnClick=function(){$(document).on("click",".login_button",function(t){t.preventDefault(),gapi.auth.authorize({immediate:!1,response_type:"code",cookie_policy:"single_host_origin",client_id:NS.CLIENT_ID,scope:"email"},function(t){t&&!t.error?jQuery.ajax({type:"POST",url:"/auth/google_oauth2/callback",data:t,success:function(){$(location).attr("href",window.location.href)}}):console.log("ERROR Response google authentication failed")})})},NS.saveGoogleFrame=function(){return NS.google_frame=$('iframe[id^="ssIFrame_google"]').detach()},NS.restoreGoogleFrame=function(){return 0<$('iframe[id^="ssIFrame_google"]').length?$('iframe[id^="ssIFrame_google"]').replaceWith(NS.google_frame):$("body").append(NS.google_frame)},window.gpAsyncInit=function(){!0!==NS.google_events_bound&&(gapi.auth.authorize({immediate:!0,response_type:"code",cookie_policy:"single_host_origin",client_id:NS.CLIENT_ID,scope:"email"}),NS.addLoginOnClick(),$(document).on("turbolinks:before-visit",NS.saveGoogleFrame).on("turbolinks:render",NS.restoreGoogleFrame),NS.google_events_bound=!0)},function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return c.controller.visit(t,e)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(t){return c.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var c=t.Turbolinks;(function(){(function(){var n,i,l,t,e,r,o,s,a,u=[].slice;c.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},c.closest=function(t,e){return n.call(t,e)},n=null!=(a=document.documentElement.closest)?a:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},c.defer=function(t){return setTimeout(t,1)},c.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?u.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},c.dispatch=function(t,e){var n,i,r,o,s,a;return a=(s=null!=e?e:{}).target,n=s.cancelable,i=s.data,(r=document.createEvent("Events")).initEvent(t,!0,!0===n),r.data=null!=i?i:{},r.cancelable&&!l&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=a?a:document).dispatchEvent(r),r},(s=document.createEvent("Events")).initEvent("test",!0,!0),s.preventDefault(),l=s.defaultPrevented,c.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(r=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector,c.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){c.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=c.Location.wrap(e).requestURL,this.referrer=c.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};c.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=r(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var n,i,e;return e=c.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=c.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=c.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=c.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return c.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){c.HeadDetails=function(){function t(t){var e,n,i,r,o;for(this.elements={},n=0,r=t.length;n<r;n++)(o=t[n]).nodeType===Node.ELEMENT_NODE&&(i=o.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:a(o),tracked:s(o),elements:[]}).elements.push(o))}var o,e,n,s,a;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,i,r;for(i in e=void 0,r=this.elements)n=r[i].elements,o(n[0],t)&&(e=n[0]);return e},a=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},o=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){c.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(c.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new c.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(c){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;n<i;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var o=[].slice;c.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,r;return i=t,n=e,(r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,l;for(a=[],n=0,i=(o=e.attributes).length;n<i;n++)r=(s=o[n]).name,l=s.value,a.push(t.setAttribute(r,l));return a},t}()}.call(this),function(){var a,l,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.removeChild(t));return r},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,i,r,o,s;for(s=[],t=0,e=(o=this.getCurrentBodyPermanentElements()).length;t<e;t++)i=o[t],r=a(i),n=this.newSnapshot.getPermanentElementById(i.id),l(i,r.element),l(n,i),s.push(r);return s},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,i,r,o,s;for(s=[],i=0,r=t.length;i<r;i++)n=(o=t[i]).element,e=o.permanentElement.cloneNode(!0),s.push(l(n,e));return s},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,i=(r=this.getNewBodyScriptElements()).length;e<i;e++)n=r[e],t=this.createScriptElement(n),o.push(l(n,t));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(c.Renderer),a=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},l=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(c.Renderer)}.call(this),function(){c.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return c.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return c.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),c.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return c.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){c.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],r.push(delete this.snapshots[e]);return r},i=function(t){return c.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=c.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:(
"restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=c.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return c.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=c.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,c.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return c.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return c.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return c.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return c.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,r,o,s,a;return s=(r=null!=n?n:{}).restorationIdentifier,o=r.restorationData,i=r.historyChanged,(a=new c.Visit(this,t,e)).restorationIdentifier=null!=s?s:c.uuid(),a.restorationData=c.copyObject(o),a.historyChanged=i,a.referrer=this.location,a},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?c.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new c.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=c.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;c.start=function(){return e()?(null==c.controller&&(c.controller=t()),c.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=c),n()},t=function(){var t;return(t=new c.Controller).adapter=new c.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}.call(this),NS||(NS={}),Turbolinks.supported&&Turbolinks.setProgressBarDelay(200),document.addEventListener("turbolinks:before-render",function(t){FontAwesome.dom.i2svg({node:t.data.newBody})}),document.addEventListener("turbolinks:before-cache",function(){M.Modal._count=0,M.updateTextFields(),dataTable=$($.fn.dataTable.tables(!0)).DataTable(),null!=dataTable&&dataTable.destroy(),(dataTable=null)!=NS.fineUploader&&(NS.fineUploader.reset(),$("#fine-uploader-validation").empty()),NS.fineUploader=null}),NS.jsErrorHasOccurred=!1,window.onerror=function(){NS.jsErrorHasOccurred=!0},document.addEventListener("turbolinks:before-visit",function(){1==NS.jsErrorHasOccurred&&(event.preventDefault(),window.location.href=event.data.url)});